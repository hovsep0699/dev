{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getInviteYouEffect),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getInviteYouWorker);import{takeLatest,put}from'redux-saga/effects';import{getInviteYouContractor,setInviteYouContractors}from'../actions';import{Flash}from'../../../../common/flash/Flash';import{ContractorApiServices}from'../../services/contractors.api';export function getInviteYouEffect(){return _regeneratorRuntime.wrap(function getInviteYouEffect$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(getInviteYouContractor,getInviteYouWorker);case 2:case\"end\":return _context.stop();}}},_marked);}function getInviteYouWorker(_ref){var payload,response,message;return _regeneratorRuntime.wrap(function getInviteYouWorker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref.payload;_context2.prev=1;_context2.next=4;return ContractorApiServices.getInvitationIncome(payload);case 4:response=_context2.sent;_context2.next=7;return put(setInviteYouContractors({inviteYou:_objectSpread(_objectSpread({},response),{},{searchParams:payload})}));case 7:_context2.next=14;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);message=_context2.t0.message;_context2.next=14;return Flash.error(message||'Возникла ошибка');case 14:case\"end\":return _context2.stop();}}},_marked2,null,[[1,9]]);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/store/sagas/getInviteYou.effect.ts"],"names":["getInviteYouEffect","getInviteYouWorker","takeLatest","put","getInviteYouContractor","setInviteYouContractors","Flash","ContractorApiServices","payload","getInvitationIncome","response","inviteYou","searchParams","message","error"],"mappings":"8XAMiBA,kB,iDAaPC,kB,EAnBV,OAASC,UAAT,CAAqBC,GAArB,KAAgC,oBAAhC,CAEA,OAASC,sBAAT,CAAiCC,uBAAjC,KAAgE,YAAhE,CACA,OAASC,KAAT,KAAsB,gCAAtB,CACA,OAASC,qBAAT,KAAsC,gCAAtC,CAEA,MAAO,SAAUP,CAAAA,kBAAV,8IACL,MAAME,CAAAA,UAAU,CAACE,sBAAD,CAAyBH,kBAAzB,CAAhB,CADK,sDAaP,QAAUA,CAAAA,kBAAV,kKAA+BO,OAA/B,MAA+BA,OAA/B,mCAEqB,MAAMD,CAAAA,qBAAqB,CAACE,mBAAtB,CAA0CD,OAA1C,CAAN,CAFrB,OAEUE,QAFV,iCAGI,MAAMP,CAAAA,GAAG,CAACE,uBAAuB,CAAC,CAAEM,SAAS,gCAAOD,QAAP,MAAiBE,YAAY,CAAEJ,OAA/B,EAAX,CAAD,CAAxB,CAAT,CAHJ,0FAIaK,OAJb,cAIaA,OAJb,mBAKI,MAAMP,CAAAA,KAAK,CAACQ,KAAN,CAAYD,OAAO,EAAI,iBAAvB,CAAN,CALJ","sourcesContent":["import { takeLatest, put } from 'redux-saga/effects';\r\n\r\nimport { getInviteYouContractor, setInviteYouContractors } from '../actions';\r\nimport { Flash } from '../../../../common/flash/Flash';\r\nimport { ContractorApiServices } from '../../services/contractors.api';\r\n\r\nexport function* getInviteYouEffect() {\r\n  yield takeLatest(getInviteYouContractor, getInviteYouWorker);\r\n}\r\n\r\ntype Payload = {\r\n  offset?: number;\r\n  limit?: number;\r\n  name?: string;\r\n  surname?: string;\r\n  patronymic?: string;\r\n  inn?: string;\r\n};\r\n\r\nfunction* getInviteYouWorker({ payload }: { payload: Payload }) {\r\n  try {\r\n    const response = yield ContractorApiServices.getInvitationIncome(payload);\r\n    yield put(setInviteYouContractors({ inviteYou: { ...response, searchParams: payload } }));\r\n  } catch ({ message }) {\r\n    yield Flash.error(message || 'Возникла ошибка');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}