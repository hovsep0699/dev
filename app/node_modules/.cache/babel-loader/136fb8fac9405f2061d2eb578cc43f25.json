{"ast":null,"code":"import React from'react';import{IconDelete}from'@distate/components/dist/icons';import get from'lodash.get';import{HTMLText}from'../../styles/body';import{HTMLRow,HTMLCell}from'../../styles/table';import{HTMLButton,HTMLSelect,HTMLInput,HTMLTextArea}from'../../styles/form';var SELECT_VALUES=[{label:'Контрольный идентификационный знак',value:1},{label:'Уникальный идентификатор вторичной (потребительской)/третичной (заводской, транспортной) упаковки',value:2}];export var NumbersRow=function NumbersRow(_ref){var index=_ref.index,data=_ref.data,onChange=_ref.onChange,onRemove=_ref.onRemove;var type=data.type,packageIdentifier=data.packageIdentifier,packNumbers=data.packNumbers,idetificationNumbers=data.idetificationNumbers;var disabled=false;var keyName=packNumbers?'packNumbers':'idetificationNumbers';var values=packNumbers||idetificationNumbers;var valueBefore=get(values,'before',[]);var valueAfter=get(values,'after',[]);var textValueBefore=valueBefore.join('\\n');var textValueAfter=valueAfter.join('\\n');var textOnChange=function textOnChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;onChange===null||onChange===void 0?void 0:onChange(index,name,value.split('\\n'));};var selectOnChange=function selectOnChange(value,_ref2){var name=_ref2.name;onChange===null||onChange===void 0?void 0:onChange(index,name,value);};var inputOnChange=function inputOnChange(e){var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;onChange===null||onChange===void 0?void 0:onChange(index,name,value);};var handleOnRemove=function handleOnRemove(){return onRemove===null||onRemove===void 0?void 0:onRemove(index);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(HTMLRow,null,/*#__PURE__*/React.createElement(HTMLCell,{verticalAlign:\"top\"},/*#__PURE__*/React.createElement(HTMLText,null,\"\\u0434\\u043E \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\")),/*#__PURE__*/React.createElement(HTMLCell,{verticalAlign:\"top\"},/*#__PURE__*/React.createElement(HTMLInput,{name:\"packageIdentifier.before\",value:packageIdentifier===null||packageIdentifier===void 0?void 0:packageIdentifier.before,onChange:inputOnChange,disabled:disabled})),/*#__PURE__*/React.createElement(HTMLCell,{verticalAlign:\"top\"},/*#__PURE__*/React.createElement(HTMLSelect,{name:\"type.before\",onChange:selectOnChange,options:SELECT_VALUES,value:type===null||type===void 0?void 0:type.before,disabled:disabled})),/*#__PURE__*/React.createElement(HTMLCell,{verticalAlign:\"top\"},/*#__PURE__*/React.createElement(HTMLTextArea,{name:\"\".concat(keyName,\".before\"),onChange:textOnChange,value:textValueBefore,disabled:disabled})),/*#__PURE__*/React.createElement(HTMLCell,{rowSpan:2,plain:true,verticalAlign:\"top\"},/*#__PURE__*/React.createElement(HTMLButton,{solid:true,onClick:handleOnRemove,icon:/*#__PURE__*/React.createElement(IconDelete,null)}))),/*#__PURE__*/React.createElement(HTMLRow,null,/*#__PURE__*/React.createElement(HTMLCell,{verticalAlign:\"top\"},/*#__PURE__*/React.createElement(HTMLText,null,\"\\u043F\\u043E\\u0441\\u043B\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\")),/*#__PURE__*/React.createElement(HTMLCell,{verticalAlign:\"top\"},/*#__PURE__*/React.createElement(HTMLInput,{name:\"packageIdentifier.after\",onChange:inputOnChange,value:packageIdentifier===null||packageIdentifier===void 0?void 0:packageIdentifier.after})),/*#__PURE__*/React.createElement(HTMLCell,{verticalAlign:\"top\"},/*#__PURE__*/React.createElement(HTMLSelect,{name:\"type.after\",onChange:selectOnChange,options:SELECT_VALUES,value:type===null||type===void 0?void 0:type.after})),/*#__PURE__*/React.createElement(HTMLCell,{verticalAlign:\"top\"},/*#__PURE__*/React.createElement(HTMLTextArea,{name:\"\".concat(keyName,\".after\"),onChange:textOnChange,value:textValueAfter}))));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/common/TableUniversalCorrection/components/numbers/numbers.row.tsx"],"names":["React","IconDelete","get","HTMLText","HTMLRow","HTMLCell","HTMLButton","HTMLSelect","HTMLInput","HTMLTextArea","SELECT_VALUES","label","value","NumbersRow","index","data","onChange","onRemove","type","packageIdentifier","packNumbers","idetificationNumbers","disabled","keyName","values","valueBefore","valueAfter","textValueBefore","join","textValueAfter","textOnChange","e","target","name","split","selectOnChange","inputOnChange","handleOnRemove","before","after"],"mappings":"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","sourcesContent":["import React, { FC, ChangeEvent } from 'react';\r\nimport { IconDelete } from '@distate/components/dist/icons';\r\nimport get from 'lodash.get';\r\n\r\nimport { NumberData } from './numbers';\r\nimport { HTMLText } from '../../styles/body';\r\nimport { HTMLRow, HTMLCell } from '../../styles/table';\r\nimport { HTMLButton, HTMLSelect, HTMLInput, HTMLTextArea } from '../../styles/form';\r\n\r\nconst SELECT_VALUES = [\r\n  { label: 'Контрольный идентификационный знак', value: 1 },\r\n  {\r\n    label:\r\n      'Уникальный идентификатор вторичной (потребительской)/третичной (заводской, транспортной) упаковки',\r\n    value: 2\r\n  }\r\n];\r\n\r\nexport interface NumbersRowProsp {\r\n  index: number;\r\n  onChange?: (index: number, name: string, value: unknown) => void;\r\n  onRemove?: (index: number) => void;\r\n  data: NumberData;\r\n}\r\n\r\nexport const NumbersRow: FC<NumbersRowProsp> = ({ index, data, onChange, onRemove }) => {\r\n  const { type, packageIdentifier, packNumbers, idetificationNumbers } = data;\r\n\r\n  const disabled = false;\r\n  const keyName = packNumbers ? 'packNumbers' : 'idetificationNumbers';\r\n  const values = packNumbers || idetificationNumbers;\r\n\r\n  const valueBefore: string[] = get(values, 'before', []);\r\n  const valueAfter: string[] = get(values, 'after', []);\r\n\r\n  const textValueBefore = valueBefore.join('\\n');\r\n  const textValueAfter = valueAfter.join('\\n');\r\n\r\n  const textOnChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target;\r\n    onChange?.(index, name, value.split('\\n'));\r\n  };\r\n\r\n  const selectOnChange = (value: any, { name }: any) => {\r\n    onChange?.(index, name, value);\r\n  };\r\n\r\n  const inputOnChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    onChange?.(index, name, value);\r\n  };\r\n\r\n  const handleOnRemove = () => onRemove?.(index);\r\n\r\n  return (\r\n    <>\r\n      <HTMLRow>\r\n        <HTMLCell verticalAlign=\"top\">\r\n          <HTMLText>до изменения</HTMLText>\r\n        </HTMLCell>\r\n        <HTMLCell verticalAlign=\"top\">\r\n          <HTMLInput\r\n            name=\"packageIdentifier.before\"\r\n            value={packageIdentifier?.before}\r\n            onChange={inputOnChange}\r\n            disabled={disabled}\r\n          />\r\n        </HTMLCell>\r\n        <HTMLCell verticalAlign=\"top\">\r\n          <HTMLSelect\r\n            name=\"type.before\"\r\n            onChange={selectOnChange}\r\n            options={SELECT_VALUES}\r\n            value={type?.before}\r\n            disabled={disabled}\r\n          />\r\n        </HTMLCell>\r\n        <HTMLCell verticalAlign=\"top\">\r\n          <HTMLTextArea\r\n            name={`${keyName}.before`}\r\n            onChange={textOnChange}\r\n            value={textValueBefore}\r\n            disabled={disabled}\r\n          />\r\n        </HTMLCell>\r\n        <HTMLCell rowSpan={2} plain verticalAlign=\"top\">\r\n          <HTMLButton solid onClick={handleOnRemove} icon={<IconDelete />} />\r\n        </HTMLCell>\r\n      </HTMLRow>\r\n\r\n      <HTMLRow>\r\n        <HTMLCell verticalAlign=\"top\">\r\n          <HTMLText>после изменения</HTMLText>\r\n        </HTMLCell>\r\n        <HTMLCell verticalAlign=\"top\">\r\n          <HTMLInput\r\n            name=\"packageIdentifier.after\"\r\n            onChange={inputOnChange}\r\n            value={packageIdentifier?.after}\r\n          />\r\n        </HTMLCell>\r\n        <HTMLCell verticalAlign=\"top\">\r\n          <HTMLSelect\r\n            name=\"type.after\"\r\n            onChange={selectOnChange}\r\n            options={SELECT_VALUES}\r\n            value={type?.after}\r\n          />\r\n        </HTMLCell>\r\n        <HTMLCell verticalAlign=\"top\">\r\n          <HTMLTextArea name={`${keyName}.after`} onChange={textOnChange} value={textValueAfter} />\r\n        </HTMLCell>\r\n      </HTMLRow>\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}