{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import{useSelector,useDispatch}from'react-redux';import{Button}from'@distate/components';import'./style.css';import{DestinationType,RelationStatus}from'../../../helpers/contractors.typings';import{selectSearch}from'../../../store/selectors';import{createLocalRoamingCompanyInvitation,getFoundLocalRoamingCompany}from'../../../store/actions';import{Pagination}from'../../../../../common/pagination';/** Таблица для вывода результата поиска компании - Локальный Роуминг */export var LocalRoamingCompanySearchTable=function LocalRoamingCompanySearchTable(){var _useSelector;var dispatch=useDispatch();var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),offset=_React$useState2[0],setOffset=_React$useState2[1];var _ref=((_useSelector=useSelector(selectSearch))===null||_useSelector===void 0?void 0:_useSelector.localRoamingCompany)||{},_ref$rows=_ref.rows,legalEntityList=_ref$rows===void 0?[]:_ref$rows,recordsTotal=_ref.recordsTotal,searchParams=_ref.searchParams;/** запись в стор значения пагинации*/React.useEffect(function(){offset!==undefined&&dispatch(getFoundLocalRoamingCompany(_objectSpread(_objectSpread({},searchParams),{},{offset:offset})));// eslint-disable-next-line react-hooks/exhaustive-deps\n},[dispatch,offset]);var _onClick=function onClick(args){dispatch(createLocalRoamingCompanyInvitation(args));};return/*#__PURE__*/React.createElement(\"table\",{className:\"table user-search-table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"common-table-head\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"),/*#__PURE__*/React.createElement(\"td\",null,\"\\u0418\\u041D\\u041D\"),/*#__PURE__*/React.createElement(\"td\",null,\"\\u0414\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\"))),/*#__PURE__*/React.createElement(\"tbody\",null,legalEntityList.map(function(item){return/*#__PURE__*/React.createElement(\"tr\",{key:item.inn},/*#__PURE__*/React.createElement(\"td\",null,item.name),/*#__PURE__*/React.createElement(\"td\",null,item.inn),/*#__PURE__*/React.createElement(\"td\",null,item.networkName),/*#__PURE__*/React.createElement(\"td\",null,item.relationStatus!==RelationStatus.Active?/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return _onClick({type:DestinationType.LoaclRoaming,fnsUid:item.fnsUid,networkId:item.network});}},\"\\u041F\\u0440\\u0438\\u0433\\u043B\\u0430\\u0441\\u0438\\u0442\\u044C\"):'уже является контрагентом'));})),/*#__PURE__*/React.createElement(\"tfoot\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:3},/*#__PURE__*/React.createElement(\"div\",{className:\"pagination-right\"},/*#__PURE__*/React.createElement(Pagination,{listLength:recordsTotal,setOffset:setOffset}))))));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/components/invite-contractor/tables/LocalRoamingCompanySearchTable.tsx"],"names":["React","useSelector","useDispatch","Button","DestinationType","RelationStatus","selectSearch","createLocalRoamingCompanyInvitation","getFoundLocalRoamingCompany","Pagination","LocalRoamingCompanySearchTable","dispatch","useState","offset","setOffset","localRoamingCompany","rows","legalEntityList","recordsTotal","searchParams","useEffect","undefined","onClick","args","map","item","inn","name","networkName","relationStatus","Active","type","LoaclRoaming","fnsUid","networkId","network"],"mappings":"qVAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,OAASC,MAAT,KAAuB,qBAAvB,CAEA,MAAO,aAAP,CACA,OAASC,eAAT,CAA0BC,cAA1B,KAAgD,sCAAhD,CACA,OAASC,YAAT,KAA6B,0BAA7B,CACA,OACEC,mCADF,CAEEC,2BAFF,KAGO,wBAHP,CAIA,OAASC,UAAT,KAA2B,kCAA3B,CAEA,wEACA,MAAO,IAAMC,CAAAA,8BAA8B,CAAG,QAAjCA,CAAAA,8BAAiC,EAAM,kBAClD,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CADkD,oBAEtBF,KAAK,CAACY,QAAN,EAFsB,oDAE3CC,MAF2C,qBAEnCC,SAFmC,8BAKhD,eAAAb,WAAW,CAACK,YAAD,CAAX,oDAA2BS,mBAA3B,GAAkD,EALF,gBAI1CC,IAJ0C,CAIpCC,eAJoC,oBAIlB,EAJkB,WAIdC,YAJc,MAIdA,YAJc,CAIAC,YAJA,MAIAA,YAJA,CAOlD,sCACAnB,KAAK,CAACoB,SAAN,CAAgB,UAAM,CACpBP,MAAM,GAAKQ,SAAX,EAAwBV,QAAQ,CAACH,2BAA2B,gCAAMW,YAAN,MAAoBN,MAAM,CAANA,MAApB,GAA5B,CAAhC,CACA;AACD,CAHD,CAGG,CAACF,QAAD,CAAWE,MAAX,CAHH,EAUA,GAAMS,CAAAA,QAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,IAAD,CAAsC,CACpDZ,QAAQ,CAACJ,mCAAmC,CAACgB,IAAD,CAApC,CAAR,CACD,CAFD,CAIA,mBACE,6BAAO,SAAS,CAAC,yBAAjB,eACE,6BAAO,SAAS,CAAC,mBAAjB,eACE,2CACE,yGADF,cAEE,mDAFF,cAGE,+GAHF,CADF,CADF,cAQE,iCACGN,eAAe,CAACO,GAAhB,CAAoB,SAAAC,IAAI,qBACvB,0BAAI,GAAG,CAAEA,IAAI,CAACC,GAAd,eACE,8BAAKD,IAAI,CAACE,IAAV,CADF,cAEE,8BAAKF,IAAI,CAACC,GAAV,CAFF,cAGE,8BAAKD,IAAI,CAACG,WAAV,CAHF,cAIE,8BACGH,IAAI,CAACI,cAAL,GAAwBxB,cAAc,CAACyB,MAAvC,cACC,oBAAC,MAAD,EACE,OAAO,CAAE,yBACPR,CAAAA,QAAO,CAAC,CACNS,IAAI,CAAE3B,eAAe,CAAC4B,YADhB,CAENC,MAAM,CAAER,IAAI,CAACQ,MAFP,CAGNC,SAAS,CAAET,IAAI,CAACU,OAHV,CAAD,CADA,EADX,iEADD,CAaC,2BAdJ,CAJF,CADuB,EAAxB,CADH,CARF,cAkCE,8CACE,2CACE,0BAAI,OAAO,CAAE,CAAb,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,UAAD,EAAY,UAAU,CAAEjB,YAAxB,CAAsC,SAAS,CAAEJ,SAAjD,EADF,CADF,CADF,CADF,CAlCF,CADF,CA8CD,CApEM","sourcesContent":["import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { Button } from '@distate/components';\r\n\r\nimport './style.css';\r\nimport { DestinationType, RelationStatus } from '../../../helpers/contractors.typings';\r\nimport { selectSearch } from '../../../store/selectors';\r\nimport {\r\n  createLocalRoamingCompanyInvitation,\r\n  getFoundLocalRoamingCompany\r\n} from '../../../store/actions';\r\nimport { Pagination } from '../../../../../common/pagination';\r\n\r\n/** Таблица для вывода результата поиска компании - Локальный Роуминг */\r\nexport const LocalRoamingCompanySearchTable = () => {\r\n  const dispatch = useDispatch();\r\n  const [offset, setOffset] = React.useState();\r\n\r\n  const { rows: legalEntityList = [], recordsTotal, searchParams } =\r\n    useSelector(selectSearch)?.localRoamingCompany || {};\r\n\r\n  /** запись в стор значения пагинации*/\r\n  React.useEffect(() => {\r\n    offset !== undefined && dispatch(getFoundLocalRoamingCompany({ ...searchParams, offset }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dispatch, offset]);\r\n\r\n  type LocalRoamingCompanyPayload = {\r\n    type: DestinationType;\r\n    fnsUid: string;\r\n    networkId: string;\r\n  };\r\n  const onClick = (args: LocalRoamingCompanyPayload) => {\r\n    dispatch(createLocalRoamingCompanyInvitation(args));\r\n  };\r\n\r\n  return (\r\n    <table className=\"table user-search-table\">\r\n      <thead className=\"common-table-head\">\r\n        <tr>\r\n          <td>Наименование</td>\r\n          <td>ИНН</td>\r\n          <td>Дополнительно</td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {legalEntityList.map(item => (\r\n          <tr key={item.inn}>\r\n            <td>{item.name}</td>\r\n            <td>{item.inn}</td>\r\n            <td>{item.networkName}</td>\r\n            <td>\r\n              {item.relationStatus !== RelationStatus.Active ? (\r\n                <Button\r\n                  onClick={() =>\r\n                    onClick({\r\n                      type: DestinationType.LoaclRoaming,\r\n                      fnsUid: item.fnsUid,\r\n                      networkId: item.network\r\n                    })\r\n                  }\r\n                >\r\n                  Пригласить\r\n                </Button>\r\n              ) : (\r\n                'уже является контрагентом'\r\n              )}\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <td colSpan={3}>\r\n            <div className=\"pagination-right\">\r\n              <Pagination listLength={recordsTotal} setOffset={setOffset} />\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}