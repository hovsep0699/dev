{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getGroupEffect),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getGroupWorker);import{takeLatest,put}from'redux-saga/effects';import{getContractorsGroup,setContractorsGroup}from'../actions';import{Flash}from'../../../../common/flash/Flash';import{ContractorApiServices}from'../../services/contractors.api';export function getGroupEffect(){return _regeneratorRuntime.wrap(function getGroupEffect$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(getContractorsGroup,getGroupWorker);case 2:case\"end\":return _context.stop();}}},_marked);}/** Получение групп контрагентов */function getGroupWorker(_ref){var _ref$payload,payload,offset,response,message;return _regeneratorRuntime.wrap(function getGroupWorker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_ref$payload=_ref.payload,payload=_ref$payload===void 0?{}:_ref$payload;_context2.prev=1;offset=payload.offset;_context2.next=5;return ContractorApiServices.getContractorsGroup({offset:offset});case 5:response=_context2.sent;_context2.next=8;return put(setContractorsGroup({groups:response}));case 8:_context2.next=15;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);message=_context2.t0.message;_context2.next=15;return Flash.error(message||'Возникла ошибка');case 15:case\"end\":return _context2.stop();}}},_marked2,null,[[1,10]]);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/store/sagas/getGroup.effect.ts"],"names":["getGroupEffect","getGroupWorker","takeLatest","put","getContractorsGroup","setContractorsGroup","Flash","ContractorApiServices","payload","offset","response","groups","message","error"],"mappings":"oNAMiBA,c,iDAKPC,c,EAXV,OAASC,UAAT,CAAqBC,GAArB,KAAgC,oBAAhC,CAEA,OAASC,mBAAT,CAA8BC,mBAA9B,KAAyD,YAAzD,CACA,OAASC,KAAT,KAAsB,gCAAtB,CACA,OAASC,qBAAT,KAAsC,gCAAtC,CAEA,MAAO,SAAUP,CAAAA,cAAV,0IACL,MAAME,CAAAA,UAAU,CAACE,mBAAD,CAAsBH,cAAtB,CAAhB,CADK,sDAIP,mCACA,QAAUA,CAAAA,cAAV,oMAA2BO,OAA3B,CAA2BA,OAA3B,uBAAqC,EAArC,+BAEYC,MAFZ,CAEuBD,OAFvB,CAEYC,MAFZ,kBAGqB,MAAMF,CAAAA,qBAAqB,CAACH,mBAAtB,CAA0C,CAAEK,MAAM,CAANA,MAAF,CAA1C,CAAN,CAHrB,OAGUC,QAHV,iCAII,MAAMP,CAAAA,GAAG,CAACE,mBAAmB,CAAC,CAAEM,MAAM,CAAED,QAAV,CAAD,CAApB,CAAT,CAJJ,4FAKaE,OALb,cAKaA,OALb,mBAMI,MAAMN,CAAAA,KAAK,CAACO,KAAN,CAAYD,OAAO,EAAI,iBAAvB,CAAN,CANJ","sourcesContent":["import { takeLatest, put } from 'redux-saga/effects';\r\n\r\nimport { getContractorsGroup, setContractorsGroup } from '../actions';\r\nimport { Flash } from '../../../../common/flash/Flash';\r\nimport { ContractorApiServices } from '../../services/contractors.api';\r\n\r\nexport function* getGroupEffect() {\r\n  yield takeLatest(getContractorsGroup, getGroupWorker);\r\n}\r\n\r\n/** Получение групп контрагентов */\r\nfunction* getGroupWorker({ payload = {} }: any) {\r\n  try {\r\n    const { offset } = payload;\r\n    const response = yield ContractorApiServices.getContractorsGroup({ offset });\r\n    yield put(setContractorsGroup({ groups: response }));\r\n  } catch ({ message }) {\r\n    yield Flash.error(message || 'Возникла ошибка');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}