{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _applyDecoratedDescriptor from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";var _class;import React from'react';import PageBase from'../../common/PageBase';import autobind from'autobind-decorator';import TopBar from'../../common/topbar/TopBar';import Core from'@distate/core/dist/application/Core';import SecurityService from'@distate/core/dist/application/security/SecurityService';import Menu from'../../common/menu/Menu';import{CREATE_UPD,EDIT_UPD}from'../../common/Lbl';import UPDForm from'./forms/UPDForm';import get from'get-value';// TODO: \"выпилить\" данный калсс\nvar Page=(_class=/*#__PURE__*/function(_PageBase){_inherits(Page,_PageBase);var _super=_createSuper(Page);function Page(){_classCallCheck(this,Page);return _super.apply(this,arguments);}_createClass(Page,[{key:\"renderPage\",value:function renderPage(config){var page=[];page.push(/*#__PURE__*/React.createElement(Menu,null));page.push(this.renderTopBar(config));page.push(this.renderContent(config));return page;}},{key:\"render\",value:function render(){var isGranted=Core.company.isComplete&&SecurityService.hasDocumentRole();var _this$props=this.props,match=_this$props.match,location=_this$props.location;var idFromMatch=get(match,'params.id');var locationSearchWithDocumentId=get(location,'search').match(/\\?id=(\\d+)/);var idFromLocation=locationSearchWithDocumentId&&locationSearchWithDocumentId[1];var documentId=idFromMatch||idFromLocation;var isEdit=!idFromLocation&&idFromMatch;return this.renderPage([{content:function content(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(UPDForm,{id:documentId,isEdit:isEdit})));},topbar:function topbar(){return/*#__PURE__*/React.createElement(TopBar,{hideButtons:!isGranted,fullscreenMode:true},isEdit?EDIT_UPD:CREATE_UPD);}}]);}}]);return Page;}(PageBase),(_applyDecoratedDescriptor(_class.prototype,\"renderPage\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"renderPage\"),_class.prototype)),_class);export default Page;","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/upd/Page.js"],"names":["React","PageBase","autobind","TopBar","Core","SecurityService","Menu","CREATE_UPD","EDIT_UPD","UPDForm","get","Page","config","page","push","renderTopBar","renderContent","isGranted","company","isComplete","hasDocumentRole","props","match","location","idFromMatch","locationSearchWithDocumentId","idFromLocation","documentId","isEdit","renderPage","content","topbar"],"mappings":"w2BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,qCAAjB,CACA,MAAOC,CAAAA,eAAP,KAA4B,yDAA5B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,kBAArC,CACA,MAAOC,CAAAA,OAAP,KAAoB,iBAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,WAAhB,CAEA;GACMC,CAAAA,I,iPAEOC,M,CAAQ,CACjB,GAAMC,CAAAA,IAAI,CAAG,EAAb,CACAA,IAAI,CAACC,IAAL,cAAU,oBAAC,IAAD,MAAV,EACAD,IAAI,CAACC,IAAL,CAAU,KAAKC,YAAL,CAAkBH,MAAlB,CAAV,EACAC,IAAI,CAACC,IAAL,CAAU,KAAKE,aAAL,CAAmBJ,MAAnB,CAAV,EACA,MAAOC,CAAAA,IAAP,CACD,C,uCAEQ,CACP,GAAMI,CAAAA,SAAS,CAAGb,IAAI,CAACc,OAAL,CAAaC,UAAb,EAA2Bd,eAAe,CAACe,eAAhB,EAA7C,CADO,gBAEqB,KAAKC,KAF1B,CAECC,KAFD,aAECA,KAFD,CAEQC,QAFR,aAEQA,QAFR,CAGP,GAAMC,CAAAA,WAAW,CAAGd,GAAG,CAACY,KAAD,CAAQ,WAAR,CAAvB,CACA,GAAMG,CAAAA,4BAA4B,CAAGf,GAAG,CAACa,QAAD,CAAW,QAAX,CAAH,CAAwBD,KAAxB,CAA8B,YAA9B,CAArC,CACA,GAAMI,CAAAA,cAAc,CAAGD,4BAA4B,EAAIA,4BAA4B,CAAC,CAAD,CAAnF,CACA,GAAME,CAAAA,UAAU,CAAGH,WAAW,EAAIE,cAAlC,CACA,GAAME,CAAAA,MAAM,CAAG,CAACF,cAAD,EAAmBF,WAAlC,CACA,MAAO,MAAKK,UAAL,CAAgB,CACrB,CACEC,OAAO,CAAE,sCACP,oBAAC,KAAD,CAAO,QAAP,mBACE,2BAAK,SAAS,CAAC,QAAf,eACE,oBAAC,OAAD,EAAS,EAAE,CAAEH,UAAb,CAAyB,MAAM,CAAEC,MAAjC,EADF,CADF,CADO,EADX,CAQEG,MAAM,CAAE,qCACN,oBAAC,MAAD,EAAQ,WAAW,CAAE,CAACd,SAAtB,CAAiC,cAAc,KAA/C,EACGW,MAAM,CAAGpB,QAAH,CAAcD,UADvB,CADM,EARV,CADqB,CAAhB,CAAP,CAgBD,C,kBAlCgBN,Q,4DAChBC,Q,4FAoCH,cAAeS,CAAAA,IAAf","sourcesContent":["import React from 'react';\r\nimport PageBase from '../../common/PageBase';\r\nimport autobind from 'autobind-decorator';\r\nimport TopBar from '../../common/topbar/TopBar';\r\nimport Core from '@distate/core/dist/application/Core';\r\nimport SecurityService from '@distate/core/dist/application/security/SecurityService';\r\nimport Menu from '../../common/menu/Menu';\r\nimport { CREATE_UPD, EDIT_UPD } from '../../common/Lbl';\r\nimport UPDForm from './forms/UPDForm';\r\nimport get from 'get-value';\r\n\r\n// TODO: \"выпилить\" данный калсс\r\nclass Page extends PageBase {\r\n  @autobind\r\n  renderPage(config) {\r\n    const page = [];\r\n    page.push(<Menu />);\r\n    page.push(this.renderTopBar(config));\r\n    page.push(this.renderContent(config));\r\n    return page;\r\n  }\r\n\r\n  render() {\r\n    const isGranted = Core.company.isComplete && SecurityService.hasDocumentRole();\r\n    const { match, location } = this.props;\r\n    const idFromMatch = get(match, 'params.id');\r\n    const locationSearchWithDocumentId = get(location, 'search').match(/\\?id=(\\d+)/);\r\n    const idFromLocation = locationSearchWithDocumentId && locationSearchWithDocumentId[1];\r\n    const documentId = idFromMatch || idFromLocation;\r\n    const isEdit = !idFromLocation && idFromMatch;\r\n    return this.renderPage([\r\n      {\r\n        content: () => (\r\n          <React.Fragment>\r\n            <div className=\"col-12\">\r\n              <UPDForm id={documentId} isEdit={isEdit} />\r\n            </div>\r\n          </React.Fragment>\r\n        ),\r\n        topbar: () => (\r\n          <TopBar hideButtons={!isGranted} fullscreenMode>\r\n            {isEdit ? EDIT_UPD : CREATE_UPD}\r\n          </TopBar>\r\n        )\r\n      }\r\n    ]);\r\n  }\r\n}\r\n\r\nexport default Page;\r\n"]},"metadata":{},"sourceType":"module"}