{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(contractorInfoEffect),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getPersonInfoWorker),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(getCompanyInfoWorker);import{takeLatest,put}from'redux-saga/effects';import{getPersonInfo,setPersonInfo,getCompanyInfo,setCompanyInfo}from'../actions';import{Flash}from'../../../../common/flash/Flash';import{ContractorApiServices}from'../../services/contractors.api';export function contractorInfoEffect(){return _regeneratorRuntime.wrap(function contractorInfoEffect$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(getPersonInfo,getPersonInfoWorker);case 2:_context.next=4;return takeLatest(getCompanyInfo,getCompanyInfoWorker);case 4:case\"end\":return _context.stop();}}},_marked);}/** получение информации о ФЛ */function getPersonInfoWorker(_ref){var payload,personInfo,message;return _regeneratorRuntime.wrap(function getPersonInfoWorker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref.payload;_context2.prev=1;_context2.next=4;return ContractorApiServices.getPersonInfo(payload);case 4:personInfo=_context2.sent;_context2.next=7;return put(setPersonInfo({currentContractor:{person:personInfo}}));case 7:_context2.next=14;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);message=_context2.t0.message;_context2.next=14;return Flash.error(message||'Возникла ошибка');case 14:case\"end\":return _context2.stop();}}},_marked2,null,[[1,9]]);}/** получение информации о ЮЛ */function getCompanyInfoWorker(_ref3){var payload,companyInfo,message;return _regeneratorRuntime.wrap(function getCompanyInfoWorker$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:payload=_ref3.payload;_context3.prev=1;_context3.next=4;return ContractorApiServices.getCompanyInfo(payload);case 4:companyInfo=_context3.sent;_context3.next=7;return put(setCompanyInfo({currentContractor:{company:companyInfo}}));case 7:_context3.next=14;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](1);message=_context3.t0.message;_context3.next=14;return Flash.error(message||'Возникла ошибка');case 14:case\"end\":return _context3.stop();}}},_marked3,null,[[1,9]]);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/store/sagas/contractorInfo.effect.ts"],"names":["contractorInfoEffect","getPersonInfoWorker","getCompanyInfoWorker","takeLatest","put","getPersonInfo","setPersonInfo","getCompanyInfo","setCompanyInfo","Flash","ContractorApiServices","payload","personInfo","currentContractor","person","message","error","companyInfo","company"],"mappings":"oNAMiBA,oB,iDAMPC,mB,iDAUAC,oB,EAtBV,OAASC,UAAT,CAAqBC,GAArB,KAAgC,oBAAhC,CAEA,OAASC,aAAT,CAAwBC,aAAxB,CAAuCC,cAAvC,CAAuDC,cAAvD,KAA6E,YAA7E,CACA,OAASC,KAAT,KAAsB,gCAAtB,CACA,OAASC,qBAAT,KAAsC,gCAAtC,CAEA,MAAO,SAAUV,CAAAA,oBAAV,gJACL,MAAMG,CAAAA,UAAU,CAACE,aAAD,CAAgBJ,mBAAhB,CAAhB,CADK,uBAEL,MAAME,CAAAA,UAAU,CAACI,cAAD,CAAiBL,oBAAjB,CAAhB,CAFK,sDAKP,gCACA,QAAUD,CAAAA,mBAAV,qKAAgCU,OAAhC,MAAgCA,OAAhC,mCAEuB,MAAMD,CAAAA,qBAAqB,CAACL,aAAtB,CAAoCM,OAApC,CAAN,CAFvB,OAEUC,UAFV,iCAGI,MAAMR,CAAAA,GAAG,CAACE,aAAa,CAAC,CAAEO,iBAAiB,CAAE,CAAEC,MAAM,CAAEF,UAAV,CAArB,CAAD,CAAd,CAAT,CAHJ,0FAIaG,OAJb,cAIaA,OAJb,mBAKI,MAAMN,CAAAA,KAAK,CAACO,KAAN,CAAYD,OAAO,EAAI,iBAAvB,CAAN,CALJ,sEASA,gCACA,QAAUb,CAAAA,oBAAV,wKAAiCS,OAAjC,OAAiCA,OAAjC,mCAEwB,MAAMD,CAAAA,qBAAqB,CAACH,cAAtB,CAAqCI,OAArC,CAAN,CAFxB,OAEUM,WAFV,iCAGI,MAAMb,CAAAA,GAAG,CAACI,cAAc,CAAC,CAAEK,iBAAiB,CAAE,CAAEK,OAAO,CAAED,WAAX,CAArB,CAAD,CAAf,CAAT,CAHJ,0FAIaF,OAJb,cAIaA,OAJb,mBAKI,MAAMN,CAAAA,KAAK,CAACO,KAAN,CAAYD,OAAO,EAAI,iBAAvB,CAAN,CALJ","sourcesContent":["import { takeLatest, put } from 'redux-saga/effects';\r\n\r\nimport { getPersonInfo, setPersonInfo, getCompanyInfo, setCompanyInfo } from '../actions';\r\nimport { Flash } from '../../../../common/flash/Flash';\r\nimport { ContractorApiServices } from '../../services/contractors.api';\r\n\r\nexport function* contractorInfoEffect() {\r\n  yield takeLatest(getPersonInfo, getPersonInfoWorker);\r\n  yield takeLatest(getCompanyInfo, getCompanyInfoWorker);\r\n}\r\n\r\n/** получение информации о ФЛ */\r\nfunction* getPersonInfoWorker({ payload }: { payload: number }) {\r\n  try {\r\n    const personInfo = yield ContractorApiServices.getPersonInfo(payload);\r\n    yield put(setPersonInfo({ currentContractor: { person: personInfo } }));\r\n  } catch ({ message }) {\r\n    yield Flash.error(message || 'Возникла ошибка');\r\n  }\r\n}\r\n\r\n/** получение информации о ЮЛ */\r\nfunction* getCompanyInfoWorker({ payload }: { payload: number }) {\r\n  try {\r\n    const companyInfo = yield ContractorApiServices.getCompanyInfo(payload);\r\n    yield put(setCompanyInfo({ currentContractor: { company: companyInfo } }));\r\n  } catch ({ message }) {\r\n    yield Flash.error(message || 'Возникла ошибка');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}