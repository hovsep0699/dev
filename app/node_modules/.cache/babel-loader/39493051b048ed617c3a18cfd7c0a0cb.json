{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport AJAX from '../../infrastructure/AJAX';\n\nvar responseFailure = function responseFailure(_ref) {\n  var data = _ref.response.data;\n  throw data;\n};\n\nvar SystemGateway = function SystemGateway() {\n  var _this = this;\n\n  _classCallCheck(this, SystemGateway);\n\n  this.legalList = function (params) {\n    return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", AJAX.doGet('/front/cabinet/members', params).catch(responseFailure));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n  };\n\n  this.personList = function () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt(\"return\", AJAX.doGet('/front/person', params).catch(responseFailure));\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n  };\n\n  this.operators = function (id) {\n    return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              return _context3.abrupt(\"return\", AJAX.doGet(\"/front/system/connectors/legal_entity/\".concat(id, \"/operators\")).then(function (operators) {\n                return operators;\n              }).catch(responseFailure));\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n  };\n\n  this.updateOperators = function (id, connectors) {\n    return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              return _context4.abrupt(\"return\", AJAX.postJSON(\"/front/system/connectors/legal_entity/\".concat(id), {\n                connectors: connectors\n              }).catch(responseFailure));\n\n            case 1:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n  };\n  /** Создать отчет по колличеству роуминговых документов */\n\n\n  this.getRoamingDocumentsReport = function (params) {\n    return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              return _context5.abrupt(\"return\", AJAX.postJSON('/front/report/create_roaming_documents_count', params));\n\n            case 1:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n  };\n  /** получить информацию о лицензии */\n\n\n  this.getLicenseInfo = function () {\n    return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              return _context6.abrupt(\"return\", AJAX.doGet('/front/license/current'));\n\n            case 1:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n  };\n};\n\nexport { SystemGateway };\nexport default SystemGateway;","map":{"version":3,"sources":["../../../src/application/system/SystemGateway.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,IAAP,MAAiB,2BAAjB;;AAEA,IAAM,eAAe,GAAG,SAAlB,eAAkB,OAA2B;AAAA,MAAZ,IAAY,QAAxB,QAAwB,CAAZ,IAAY;AACjD,QAAM,IAAN;AACD,CAFD;;IAIM,a,GAAN,yBAAA;AAAA;;AAAA;;AACE,OAAA,SAAA,GAAY,UAAO,MAAP;AAAA,WAAiB,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,wCAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACpB,IAAI,CAAC,KAAL,CAAW,wBAAX,EAAqC,MAArC,EAA6C,KAA7C,CAAmD,eAAnD,CADoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,EAAjB;AAAA,GAAZ;;AAIA,OAAA,UAAA,GAAa;AAAA,QAAO,MAAP,uEAAgB,EAAhB;AAAA,WAAsB,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,wCAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAC1B,IAAI,CAAC,KAAL,CAAW,eAAX,EAA4B,MAA5B,EAAoC,KAApC,CAA0C,eAA1C,CAD0B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,EAAtB;AAAA,GAAb;;AAIA,OAAA,SAAA,GAAY,UAAM,EAAN;AAAA,WAAW,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,wCAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDACd,IAAI,CAAC,KAAL,iDAAoD,EAApD,iBACJ,IADI,CACC,UAAA,SAAS;AAAA,uBAAI,SAAJ;AAAA,eADV,EAEJ,KAFI,CAEE,eAFF,CADc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,EAAX;AAAA,GAAZ;;AAMA,OAAA,eAAA,GAAkB,UAAO,EAAP,EAAW,UAAX;AAAA,WAAyB,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,wCAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAClC,IAAI,CAAC,QAAL,iDAAuD,EAAvD,GAA6D;AAAE,gBAAA,UAAU,EAAV;AAAF,eAA7D,EAA6E,KAA7E,CACL,eADK,CADkC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,EAAzB;AAAA,GAAlB;AAMA;;;AACA,OAAA,yBAAA,GAA4B,UAAO,MAAP;AAAA,WAAiB,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,wCAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDACpC,IAAI,CAAC,QAAL,CAAc,8CAAd,EAA8D,MAA9D,CADoC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,EAAjB;AAAA,GAA5B;AAIA;;;AACA,OAAA,cAAA,GAAiB;AAAA,WAAW,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,wCAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDACnB,IAAI,CAAC,KAAL,CAAW,wBAAX,CADmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,EAAX;AAAA,GAAjB;AAGD,C;;AAED,SAAS,aAAT;AACA,eAAe,aAAf","sourceRoot":"","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport AJAX from '../../infrastructure/AJAX';\r\nconst responseFailure = ({ response: { data } }) => {\r\n    throw data;\r\n};\r\nclass SystemGateway {\r\n    constructor() {\r\n        this.legalList = (params) => __awaiter(this, void 0, void 0, function* () {\r\n            return AJAX.doGet('/front/cabinet/members', params).catch(responseFailure);\r\n        });\r\n        this.personList = (params = {}) => __awaiter(this, void 0, void 0, function* () {\r\n            return AJAX.doGet('/front/person', params).catch(responseFailure);\r\n        });\r\n        this.operators = (id) => __awaiter(this, void 0, void 0, function* () {\r\n            return AJAX.doGet(`/front/system/connectors/legal_entity/${id}/operators`)\r\n                .then(operators => operators)\r\n                .catch(responseFailure);\r\n        });\r\n        this.updateOperators = (id, connectors) => __awaiter(this, void 0, void 0, function* () {\r\n            return AJAX.postJSON(`/front/system/connectors/legal_entity/${id}`, { connectors }).catch(responseFailure);\r\n        });\r\n        /** Создать отчет по колличеству роуминговых документов */\r\n        this.getRoamingDocumentsReport = (params) => __awaiter(this, void 0, void 0, function* () {\r\n            return AJAX.postJSON('/front/report/create_roaming_documents_count', params);\r\n        });\r\n        /** получить информацию о лицензии */\r\n        this.getLicenseInfo = () => __awaiter(this, void 0, void 0, function* () {\r\n            return AJAX.doGet('/front/license/current');\r\n        });\r\n    }\r\n}\r\nexport { SystemGateway };\r\nexport default SystemGateway;\r\n//# sourceMappingURL=SystemGateway.js.map"]},"metadata":{},"sourceType":"module"}