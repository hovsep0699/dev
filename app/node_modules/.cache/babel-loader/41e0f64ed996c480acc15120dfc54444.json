{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _applyDecoratedDescriptor from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";var _class,_class2,_temp;import React,{Component}from'react';import{Tween}from'react-gsap/dist/index';import autobind from'autobind-decorator';import styles from'./Message.module.css';var Message=(_class=(_temp=_class2=/*#__PURE__*/function(_Component){_inherits(Message,_Component);var _super=_createSuper(Message);function Message(props){var _this;_classCallCheck(this,Message);_this=_super.call(this,props);_this.state={isVisible:true,isHiding:false};return _this;}_createClass(Message,[{key:\"componentDidMount\",value:function componentDidMount(){this.remaining=this.props.duration;this.resumeTimer();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){clearTimeout(this.timer);}},{key:\"hide\",value:function hide(){var _this2=this;this.setState({isHiding:true});this.hideTweenTimer=setTimeout(function(){clearTimeout(_this2.hideTweenTimer);_this2.setState({isVisible:false,isHiding:false});},1000);}},{key:\"resumeTimer\",value:function resumeTimer(){window.clearTimeout(this.timeout);this.start=new Date();this.timer=setTimeout(this.hide,this.remaining);}},{key:\"pauseTimer\",value:function pauseTimer(){if(this.props.persistOnHover){clearTimeout(this.timer);this.remaining-=new Date()-this.start;}}},{key:\"render\",value:function render(){return this.state.isVisible?/*#__PURE__*/React.createElement(Tween,{from:{bottom:this.state.isHiding?'0':'-300px',opacity:this.state.isHiding?1:0},to:{bottom:this.state.isHiding?'-300px':'0',opacity:this.state.isHiding?0:1},duration:0.5},/*#__PURE__*/React.createElement(\"div\",{className:\"message \".concat(this.props.type,\" \").concat(styles.flashMessage),onMouseEnter:this.pauseTimer,onMouseLeave:this.resumeTimer,onClick:this.hide},this.props.children)):null;}}]);return Message;}(Component),_class2.ERROR_TYPE='error',_class2.INFO_TYPE='info',_class2.SUCCESS_TYPE='success',_temp),(_applyDecoratedDescriptor(_class.prototype,\"hide\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"hide\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"resumeTimer\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"resumeTimer\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"pauseTimer\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"pauseTimer\"),_class.prototype)),_class);Message.defaultProps={duration:5000,persistOnHover:true,type:Message.INFO_TYPE};export default Message;","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/common/flash/components/Message.js"],"names":["React","Component","Tween","autobind","styles","Message","props","state","isVisible","isHiding","remaining","duration","resumeTimer","clearTimeout","timer","setState","hideTweenTimer","setTimeout","window","timeout","start","Date","hide","persistOnHover","bottom","opacity","type","flashMessage","pauseTimer","children","ERROR_TYPE","INFO_TYPE","SUCCESS_TYPE","defaultProps"],"mappings":"s3BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,KAAT,KAAsB,uBAAtB,CAEA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,C,GAEMC,CAAAA,O,yHAKJ,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,SAAS,CAAE,IAAb,CAAmBC,QAAQ,CAAE,KAA7B,CAAb,CAFiB,aAGlB,C,iFAEmB,CAClB,KAAKC,SAAL,CAAiB,KAAKJ,KAAL,CAAWK,QAA5B,CACA,KAAKC,WAAL,GACD,C,mEAEsB,CACrBC,YAAY,CAAC,KAAKC,KAAN,CAAZ,CACD,C,mCAEM,iBACL,KAAKC,QAAL,CAAc,CAAEN,QAAQ,CAAE,IAAZ,CAAd,EACA,KAAKO,cAAL,CAAsBC,UAAU,CAAC,UAAM,CACrCJ,YAAY,CAAC,MAAI,CAACG,cAAN,CAAZ,CACA,MAAI,CAACD,QAAL,CAAc,CAAEP,SAAS,CAAE,KAAb,CAAoBC,QAAQ,CAAE,KAA9B,CAAd,EACD,CAH+B,CAG7B,IAH6B,CAAhC,CAID,C,iDAEa,CACZS,MAAM,CAACL,YAAP,CAAoB,KAAKM,OAAzB,EACA,KAAKC,KAAL,CAAa,GAAIC,CAAAA,IAAJ,EAAb,CACA,KAAKP,KAAL,CAAaG,UAAU,CAAC,KAAKK,IAAN,CAAY,KAAKZ,SAAjB,CAAvB,CACD,C,+CAEY,CACX,GAAI,KAAKJ,KAAL,CAAWiB,cAAf,CAA+B,CAC7BV,YAAY,CAAC,KAAKC,KAAN,CAAZ,CACA,KAAKJ,SAAL,EAAkB,GAAIW,CAAAA,IAAJ,GAAa,KAAKD,KAApC,CACD,CACF,C,uCAEQ,CACP,MAAO,MAAKb,KAAL,CAAWC,SAAX,cACL,oBAAC,KAAD,EACE,IAAI,CAAE,CACJgB,MAAM,CAAE,KAAKjB,KAAL,CAAWE,QAAX,CAAsB,GAAtB,CAA4B,QADhC,CAEJgB,OAAO,CAAE,KAAKlB,KAAL,CAAWE,QAAX,CAAsB,CAAtB,CAA0B,CAF/B,CADR,CAKE,EAAE,CAAE,CACFe,MAAM,CAAE,KAAKjB,KAAL,CAAWE,QAAX,CAAsB,QAAtB,CAAiC,GADvC,CAEFgB,OAAO,CAAE,KAAKlB,KAAL,CAAWE,QAAX,CAAsB,CAAtB,CAA0B,CAFjC,CALN,CASE,QAAQ,CAAE,GATZ,eAWE,2BACE,SAAS,mBAAa,KAAKH,KAAL,CAAWoB,IAAxB,aAAgCtB,MAAM,CAACuB,YAAvC,CADX,CAEE,YAAY,CAAE,KAAKC,UAFrB,CAGE,YAAY,CAAE,KAAKhB,WAHrB,CAIE,OAAO,CAAE,KAAKU,IAJhB,EAMG,KAAKhB,KAAL,CAAWuB,QANd,CAXF,CADK,CAqBH,IArBJ,CAsBD,C,qBA/DmB5B,S,UACb6B,U,CAAa,O,SACbC,S,CAAY,M,SACZC,Y,CAAe,S,4DAerB7B,Q,uIAQAA,Q,6IAMAA,Q,4FAkCHE,OAAO,CAAC4B,YAAR,CAAuB,CACrBtB,QAAQ,CAAE,IADW,CAErBY,cAAc,CAAE,IAFK,CAGrBG,IAAI,CAAErB,OAAO,CAAC0B,SAHO,CAAvB,CAaA,cAAe1B,CAAAA,OAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Tween } from 'react-gsap/dist/index';\r\nimport PropTypes from 'prop-types';\r\nimport autobind from 'autobind-decorator';\r\nimport styles from './Message.module.css';\r\n\r\nclass Message extends Component {\r\n  static ERROR_TYPE = 'error';\r\n  static INFO_TYPE = 'info';\r\n  static SUCCESS_TYPE = 'success';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { isVisible: true, isHiding: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.remaining = this.props.duration;\r\n    this.resumeTimer();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.timer);\r\n  }\r\n  @autobind\r\n  hide() {\r\n    this.setState({ isHiding: true });\r\n    this.hideTweenTimer = setTimeout(() => {\r\n      clearTimeout(this.hideTweenTimer);\r\n      this.setState({ isVisible: false, isHiding: false });\r\n    }, 1000);\r\n  }\r\n  @autobind\r\n  resumeTimer() {\r\n    window.clearTimeout(this.timeout);\r\n    this.start = new Date();\r\n    this.timer = setTimeout(this.hide, this.remaining);\r\n  }\r\n  @autobind\r\n  pauseTimer() {\r\n    if (this.props.persistOnHover) {\r\n      clearTimeout(this.timer);\r\n      this.remaining -= new Date() - this.start;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return this.state.isVisible ? (\r\n      <Tween\r\n        from={{\r\n          bottom: this.state.isHiding ? '0' : '-300px',\r\n          opacity: this.state.isHiding ? 1 : 0\r\n        }}\r\n        to={{\r\n          bottom: this.state.isHiding ? '-300px' : '0',\r\n          opacity: this.state.isHiding ? 0 : 1\r\n        }}\r\n        duration={0.5}\r\n      >\r\n        <div\r\n          className={`message ${this.props.type} ${styles.flashMessage}`}\r\n          onMouseEnter={this.pauseTimer}\r\n          onMouseLeave={this.resumeTimer}\r\n          onClick={this.hide}\r\n        >\r\n          {this.props.children}\r\n        </div>\r\n      </Tween>\r\n    ) : null;\r\n  }\r\n}\r\n\r\nMessage.defaultProps = {\r\n  duration: 5000,\r\n  persistOnHover: true,\r\n  type: Message.INFO_TYPE\r\n};\r\n\r\nMessage.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  duration: PropTypes.number,\r\n  persistOnHover: PropTypes.bool,\r\n  type: PropTypes.oneOf([Message.ERROR_TYPE, Message.INFO_TYPE, Message.SUCCESS_TYPE])\r\n};\r\n\r\nexport default Message;\r\n"]},"metadata":{},"sourceType":"module"}