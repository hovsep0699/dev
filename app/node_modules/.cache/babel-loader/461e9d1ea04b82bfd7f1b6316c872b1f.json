{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _applyDecoratedDescriptor from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";var _class;import React,{Component}from'react';import PageMenu from'../common/menu/PageMenu';import PageMenuItem from'../common/menu/PageMenuItem';import Container from'../common/Container';import{Switch,Route,Redirect}from'react-router-dom';import{Footer}from'@distate/components';import autobind from'autobind-decorator';import Menu from'./menu/Menu';function renderComponentRoutes(config,componentType){return config.map(function(route,index){if(route.submenu){return/*#__PURE__*/React.createElement(React.Fragment,{key:route.path},/*#__PURE__*/React.createElement(Route,{path:route.path,exact:true,component:route[componentType]}),route.submenu&&renderComponentRoutes(route.submenu,componentType));}else{return/*#__PURE__*/React.createElement(Route,{key:route.path+index,path:route.path,exact:route.exact,component:route[componentType]});}});}var PageBase=(_class=/*#__PURE__*/function(_Component){_inherits(PageBase,_Component);var _super=_createSuper(PageBase);function PageBase(){_classCallCheck(this,PageBase);return _super.apply(this,arguments);}_createClass(PageBase,[{key:\"renderPageMenu\",value:function renderPageMenu(config,header){var _this=this;return/*#__PURE__*/React.createElement(PageMenu,{header:header},config.map(function(item,index){if(item.submenu){return/*#__PURE__*/React.createElement(PageMenuItem,{key:index,path:item.path,exact:item.exact,title:item.pageMenuTitle},_this.renderPageMenu(item.submenu));}else{return/*#__PURE__*/React.createElement(PageMenuItem,{key:index,path:item.path,exact:item.exact,title:item.pageMenuTitle});}}));}},{key:\"renderTopBar\",value:function renderTopBar(config){return/*#__PURE__*/React.createElement(Switch,null,renderComponentRoutes(config,'topbar'));}},{key:\"renderContent\",value:function renderContent(config){var pathname=this.props.location.pathname;var conf=config.find(function(item){return item.path===pathname;})||{};var className=conf.className;return/*#__PURE__*/React.createElement(\"div\",{className:\"wrap\",id:\"wrap\"},/*#__PURE__*/React.createElement(Container,{className:className},/*#__PURE__*/React.createElement(Switch,null,renderComponentRoutes(config,'content'))),/*#__PURE__*/React.createElement(Footer,{hasIncreasedIndent:config.length>1}));}},{key:\"renderPage\",value:function renderPage(config,pageMenuHeader){var redirectParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{path:'',to:''};var page=[];if(redirectParams.path&&redirectParams.to){page.push(/*#__PURE__*/React.createElement(Route,{key:redirectParams.path+redirectParams.to,exact:true,path:redirectParams.path,render:function render(){return/*#__PURE__*/React.createElement(Redirect,{to:redirectParams.to});}}));}page.push(/*#__PURE__*/React.createElement(Menu,{key:\"menu\"}));page.push(this.renderPageMenu(config,pageMenuHeader));page.push(this.renderTopBar(config));page.push(this.renderContent(config));return page;}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"span\",null,\"Must be rendered in subclass\");}}]);return PageBase;}(Component),(_applyDecoratedDescriptor(_class.prototype,\"renderPageMenu\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"renderPageMenu\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"renderTopBar\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"renderTopBar\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"renderContent\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"renderContent\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"renderPage\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"renderPage\"),_class.prototype)),_class);export default PageBase;","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/common/PageBase.js"],"names":["React","Component","PageMenu","PageMenuItem","Container","Switch","Route","Redirect","Footer","autobind","Menu","renderComponentRoutes","config","componentType","map","route","index","submenu","path","exact","PageBase","header","item","pageMenuTitle","renderPageMenu","pathname","props","location","conf","find","className","length","pageMenuHeader","redirectParams","to","page","push","renderTopBar","renderContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PageMenu from '../common/menu/PageMenu';\r\nimport PageMenuItem from '../common/menu/PageMenuItem';\r\nimport Container from '../common/Container';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport { Footer } from '@distate/components';\r\nimport autobind from 'autobind-decorator';\r\nimport Menu from './menu/Menu';\r\n\r\nfunction renderComponentRoutes(config, componentType) {\r\n  return config.map((route, index) => {\r\n    if (route.submenu) {\r\n      return (\r\n        <React.Fragment key={route.path}>\r\n          <Route path={route.path} exact component={route[componentType]} />\r\n          {route.submenu && renderComponentRoutes(route.submenu, componentType)}\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      return (\r\n        <Route\r\n          key={route.path + index}\r\n          path={route.path}\r\n          exact={route.exact}\r\n          component={route[componentType]}\r\n        />\r\n      );\r\n    }\r\n  });\r\n}\r\n\r\nclass PageBase extends Component {\r\n  @autobind\r\n  renderPageMenu(config, header) {\r\n    return (\r\n      <PageMenu header={header}>\r\n        {config.map((item, index) => {\r\n          if (item.submenu) {\r\n            return (\r\n              <PageMenuItem\r\n                key={index}\r\n                path={item.path}\r\n                exact={item.exact}\r\n                title={item.pageMenuTitle}\r\n              >\r\n                {this.renderPageMenu(item.submenu)}\r\n              </PageMenuItem>\r\n            );\r\n          } else {\r\n            return (\r\n              <PageMenuItem\r\n                key={index}\r\n                path={item.path}\r\n                exact={item.exact}\r\n                title={item.pageMenuTitle}\r\n              />\r\n            );\r\n          }\r\n        })}\r\n      </PageMenu>\r\n    );\r\n  }\r\n\r\n  @autobind\r\n  renderTopBar(config) {\r\n    return <Switch>{renderComponentRoutes(config, 'topbar')}</Switch>;\r\n  }\r\n\r\n  @autobind\r\n  renderContent(config) {\r\n    const { pathname } = this.props.location;\r\n    const conf = config.find(item => item.path === pathname) || {};\r\n    const { className } = conf;\r\n\r\n    return (\r\n      <div className=\"wrap\" id=\"wrap\">\r\n        <Container className={className}>\r\n          <Switch>{renderComponentRoutes(config, 'content')}</Switch>\r\n        </Container>\r\n        <Footer hasIncreasedIndent={config.length > 1} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  @autobind\r\n  renderPage(config, pageMenuHeader, redirectParams = { path: '', to: '' }) {\r\n    const page = [];\r\n    if (redirectParams.path && redirectParams.to) {\r\n      page.push(\r\n        <Route\r\n          key={redirectParams.path + redirectParams.to}\r\n          exact\r\n          path={redirectParams.path}\r\n          render={() => <Redirect to={redirectParams.to} />}\r\n        />\r\n      );\r\n    }\r\n\r\n    page.push(<Menu key=\"menu\" />);\r\n    page.push(this.renderPageMenu(config, pageMenuHeader));\r\n    page.push(this.renderTopBar(config));\r\n    page.push(this.renderContent(config));\r\n\r\n    return page;\r\n  }\r\n\r\n  render() {\r\n    return <span>Must be rendered in subclass</span>;\r\n  }\r\n}\r\n\r\nexport default PageBase;\r\n"]},"metadata":{},"sourceType":"module"}