{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Pagination}from'../../../../common/pagination';import{getActiveTariffs}from'../../store/actions';import{activeTariffRowsSelector,activeTariffRecordsTotalSelector}from'../../store/selects';import'./style.css';/** Список активных тарифов для каточки тарифов */export var TariffListTable=function TariffListTable(props){var onChange=props.onChange,nextTariffId=props.nextTariffId;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),offset=_useState2[0],setOffset=_useState2[1];var tariffs=useSelector(activeTariffRowsSelector);var total=useSelector(activeTariffRecordsTotalSelector);var LIMIT=10;var dispatch=useDispatch();useEffect(function(){dispatch(getActiveTariffs({offset:offset,limit:LIMIT}));},[dispatch,offset]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"common-table-head\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:2},\"\\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"),/*#__PURE__*/React.createElement(\"td\",{align:\"center\"},\"\\u0442\\u0438\\u043F\"))),/*#__PURE__*/React.createElement(\"tbody\",null,!tariffs&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:3},\"\\u042D\\u0442\\u043E\\u0442 \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A \\u0442\\u0430\\u0440\\u0438\\u0444\\u043E\\u0432 \\u043F\\u0443\\u0441\\u0442.\")),tariffs===null||tariffs===void 0?void 0:tariffs.map(function(item){var id=item.id,title=item.title,type_title=item.type_title;return/*#__PURE__*/React.createElement(\"tr\",{key:id,className:\"tariff-active-select-table-row \".concat(nextTariffId===id&&'selected'),onClick:function onClick(){return onChange(id,title,type_title);}},/*#__PURE__*/React.createElement(\"td\",{colSpan:2},title),/*#__PURE__*/React.createElement(\"td\",{align:\"center\"},type_title));})),/*#__PURE__*/React.createElement(\"tfoot\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:3},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-between'}},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',alignItems:'center'}},\"\\u0412\\u0421\\u0415\\u0413\\u041E \\u0417\\u0410\\u041F\\u0418\\u0421\\u0415\\u0419: \",total||0),/*#__PURE__*/React.createElement(Pagination,{listLength:total,setOffset:setOffset,limit:LIMIT})))))));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/tariff/components/tariff-card/TariffListTable.tsx"],"names":["React","useEffect","useState","useDispatch","useSelector","Pagination","getActiveTariffs","activeTariffRowsSelector","activeTariffRecordsTotalSelector","TariffListTable","props","onChange","nextTariffId","offset","setOffset","tariffs","total","LIMIT","dispatch","limit","map","item","id","title","type_title","display","justifyContent","alignItems"],"mappings":"2KAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,KAA2B,+BAA3B,CACA,OAASC,gBAAT,KAAiC,qBAAjC,CACA,OAASC,wBAAT,CAAmCC,gCAAnC,KAA2E,qBAA3E,CACA,MAAO,aAAP,CAOA,kDACA,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAkB,IACvCC,CAAAA,QADuC,CACZD,KADY,CACvCC,QADuC,CAC7BC,YAD6B,CACZF,KADY,CAC7BE,YAD6B,eAEnBV,QAAQ,CAAC,CAAD,CAFW,wCAExCW,MAFwC,eAEhCC,SAFgC,eAG/C,GAAMC,CAAAA,OAAO,CAAGX,WAAW,CAACG,wBAAD,CAA3B,CACA,GAAMS,CAAAA,KAAK,CAAGZ,WAAW,CAACI,gCAAD,CAAzB,CACA,GAAMS,CAAAA,KAAK,CAAG,EAAd,CAEA,GAAMC,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,CACdiB,QAAQ,CAACZ,gBAAgB,CAAC,CAAEO,MAAM,CAANA,MAAF,CAAUM,KAAK,CAAEF,KAAjB,CAAD,CAAjB,CAAR,CACD,CAFQ,CAEN,CAACC,QAAD,CAAWL,MAAX,CAFM,CAAT,CAIA,mBACE,qDACE,6BAAO,SAAS,CAAC,OAAjB,eACE,6BAAO,SAAS,CAAC,mBAAjB,eACE,2CACE,0BAAI,OAAO,CAAE,CAAb,qDADF,cAEE,0BAAI,KAAK,CAAC,QAAV,uBAFF,CADF,CADF,cAOE,iCACG,CAACE,OAAD,eACC,2CACE,0BAAI,OAAO,CAAE,CAAb,uIADF,CAFJ,CAMGA,OANH,SAMGA,OANH,iBAMGA,OAAO,CAAEK,GAAT,CAAa,SAACC,IAAD,CAAe,IACnBC,CAAAA,EADmB,CACOD,IADP,CACnBC,EADmB,CACfC,KADe,CACOF,IADP,CACfE,KADe,CACRC,UADQ,CACOH,IADP,CACRG,UADQ,CAE3B,mBACE,0BACE,GAAG,CAAEF,EADP,CAEE,SAAS,0CAAoCV,YAAY,GAAKU,EAAjB,EAAuB,UAA3D,CAFX,CAGE,OAAO,CAAE,yBAAMX,CAAAA,QAAQ,CAACW,EAAD,CAAKC,KAAL,CAAYC,UAAZ,CAAd,EAHX,eAKE,0BAAI,OAAO,CAAE,CAAb,EAAiBD,KAAjB,CALF,cAME,0BAAI,KAAK,CAAC,QAAV,EAAoBC,UAApB,CANF,CADF,CAUD,CAZA,CANH,CAPF,cA2BE,8CACE,2CACE,0BAAI,OAAO,CAAE,CAAb,eACE,2BAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAmBC,cAAc,CAAE,eAAnC,CAAZ,eACE,2BAAK,KAAK,CAAE,CAAED,OAAO,CAAE,MAAX,CAAmBE,UAAU,CAAE,QAA/B,CAAZ,gFACkBX,KAAK,EAAI,CAD3B,CADF,cAIE,oBAAC,UAAD,EAAY,UAAU,CAAEA,KAAxB,CAA+B,SAAS,CAAEF,SAA1C,CAAqD,KAAK,CAAEG,KAA5D,EAJF,CADF,CADF,CADF,CA3BF,CADF,CADF,CA4CD,CAzDM","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Pagination } from '../../../../common/pagination';\r\nimport { getActiveTariffs } from '../../store/actions';\r\nimport { activeTariffRowsSelector, activeTariffRecordsTotalSelector } from '../../store/selects';\r\nimport './style.css';\r\n\r\ntype Props = {\r\n  onChange: Function;\r\n  nextTariffId?: number;\r\n};\r\n\r\n/** Список активных тарифов для каточки тарифов */\r\nexport const TariffListTable = (props: Props) => {\r\n  const { onChange, nextTariffId } = props;\r\n  const [offset, setOffset] = useState(0);\r\n  const tariffs = useSelector(activeTariffRowsSelector);\r\n  const total = useSelector(activeTariffRecordsTotalSelector);\r\n  const LIMIT = 10;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getActiveTariffs({ offset, limit: LIMIT }));\r\n  }, [dispatch, offset]);\r\n\r\n  return (\r\n    <>\r\n      <table className=\"table\">\r\n        <thead className=\"common-table-head\">\r\n          <tr>\r\n            <td colSpan={2}>название</td>\r\n            <td align=\"center\">тип</td>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {!tariffs && (\r\n            <tr>\r\n              <td colSpan={3}>Этот список тарифов пуст.</td>\r\n            </tr>\r\n          )}\r\n          {tariffs?.map((item: any) => {\r\n            const { id, title, type_title } = item;\r\n            return (\r\n              <tr\r\n                key={id}\r\n                className={`tariff-active-select-table-row ${nextTariffId === id && 'selected'}`}\r\n                onClick={() => onChange(id, title, type_title)}\r\n              >\r\n                <td colSpan={2}>{title}</td>\r\n                <td align=\"center\">{type_title}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n        <tfoot>\r\n          <tr>\r\n            <td colSpan={3}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                  ВСЕГО ЗАПИСЕЙ: {total || 0}\r\n                </div>\r\n                <Pagination listLength={total} setOffset={setOffset} limit={LIMIT} />\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}