{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(licenseEffect),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getLicenseInfoWorker);import{takeLatest,call,put}from'redux-saga/effects';import{SystemService}from'@distate/core/dist/application/system';import{getLicenseInfo,setLicenseInfo}from'../actions';import{Flash}from'../../../../common/flash';export function licenseEffect(){return _regeneratorRuntime.wrap(function licenseEffect$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(getLicenseInfo,getLicenseInfoWorker);case 2:case\"end\":return _context.stop();}}},_marked);}/** получение информации о лицензии */function getLicenseInfoWorker(){var service,license;return _regeneratorRuntime.wrap(function getLicenseInfoWorker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;service=new SystemService();_context2.next=4;return call(service.getLicenseInfo);case 4:license=_context2.sent;_context2.next=7;return put(setLicenseInfo({license:license}));case 7:_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);_context2.next=13;return Flash.error('Произошла ошибка');case 13:case\"end\":return _context2.stop();}}},_marked2,null,[[0,9]]);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/system/store/sagas/license.saga.ts"],"names":["licenseEffect","getLicenseInfoWorker","takeLatest","call","put","SystemService","getLicenseInfo","setLicenseInfo","Flash","service","license","error"],"mappings":"oNAMiBA,a,iDAKPC,oB,EAXV,OAASC,UAAT,CAAqBC,IAArB,CAA2BC,GAA3B,KAAsC,oBAAtC,CACA,OAASC,aAAT,KAA8B,uCAA9B,CAEA,OAASC,cAAT,CAAyBC,cAAzB,KAA+C,YAA/C,CACA,OAASC,KAAT,KAAsB,0BAAtB,CAEA,MAAO,SAAUR,CAAAA,aAAV,yIACL,MAAME,CAAAA,UAAU,CAACI,cAAD,CAAiBL,oBAAjB,CAAhB,CADK,sDAIP,sCACA,QAAUA,CAAAA,oBAAV,wKAEUQ,OAFV,CAEoB,GAAIJ,CAAAA,aAAJ,EAFpB,kBAGoB,MAAMF,CAAAA,IAAI,CAACM,OAAO,CAACH,cAAT,CAAV,CAHpB,OAGUI,OAHV,iCAKI,MAAMN,CAAAA,GAAG,CAACG,cAAc,CAAC,CAAEG,OAAO,CAAPA,OAAF,CAAD,CAAf,CAAT,CALJ,4GAOI,MAAMF,CAAAA,KAAK,CAACG,KAAN,CAAY,kBAAZ,CAAN,CAPJ","sourcesContent":["import { takeLatest, call, put } from 'redux-saga/effects';\r\nimport { SystemService } from '@distate/core/dist/application/system';\r\n\r\nimport { getLicenseInfo, setLicenseInfo } from '../actions';\r\nimport { Flash } from '../../../../common/flash';\r\n\r\nexport function* licenseEffect() {\r\n  yield takeLatest(getLicenseInfo, getLicenseInfoWorker);\r\n}\r\n\r\n/** получение информации о лицензии */\r\nfunction* getLicenseInfoWorker() {\r\n  try {\r\n    const service = new SystemService();\r\n    const license = yield call(service.getLicenseInfo);\r\n\r\n    yield put(setLicenseInfo({ license }));\r\n  } catch (error) {\r\n    yield Flash.error('Произошла ошибка');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}