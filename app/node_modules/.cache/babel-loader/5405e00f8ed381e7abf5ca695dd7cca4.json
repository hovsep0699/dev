{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import NotificationService from'@distate/core/dist/application/notifications/NotificationService';import styles from'./Notification.module.css';import{Redirect}from'react-router-dom';import{CONTRACTS}from'../../common/Url';var ContractNotification=function ContractNotification(props){var notificationId=props.notificationId,notificationStatus=props.notificationStatus,contractId=props.contractId,contractNumber=props.contractNumber,contractStatus=props.contractStatus,contractTypeTitle=props.contractTypeTitle,createdAt=props.createdAt,isNew=props.isNew;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toContractView=_useState2[0],setToContractView=_useState2[1];var isContractHasNumber=contractNumber!==null;var handleClick=function handleClick(event,notificationId){event.preventDefault();if(isNew)NotificationService.read([notificationId]);setToContractView(true);};return toContractView?/*#__PURE__*/React.createElement(Redirect,{to:\"\".concat(CONTRACTS,\"/\").concat(contractId)}):/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"droplink notification new \".concat(styles[notificationStatus]),onClick:function onClick(event){return handleClick(event,notificationId);}},/*#__PURE__*/React.createElement(\"div\",{className:\"notification-content\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"span\",null,contractTypeTitle,isContractHasNumber&&' №'),isContractHasNumber&&/*#__PURE__*/React.createElement(\"span\",null,contractNumber),/*#__PURE__*/React.createElement(\"span\",null,\" - \"),/*#__PURE__*/React.createElement(\"span\",null,contractStatus)),/*#__PURE__*/React.createElement(\"p\",{className:\"caption\"},createdAt))));};ContractNotification.defaultProps={contractNumber:null,notificationStatus:'document_has_been_received'};export default ContractNotification;","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/common/notifications/ContractNotification.js"],"names":["React","useState","NotificationService","styles","Redirect","CONTRACTS","ContractNotification","props","notificationId","notificationStatus","contractId","contractNumber","contractStatus","contractTypeTitle","createdAt","isNew","toContractView","setToContractView","isContractHasNumber","handleClick","event","preventDefault","read","defaultProps"],"mappings":"2KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,MAAOC,CAAAA,mBAAP,KAAgC,kEAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAC,KAAK,CAAI,IAElCC,CAAAA,cAFkC,CAUhCD,KAVgC,CAElCC,cAFkC,CAGlCC,kBAHkC,CAUhCF,KAVgC,CAGlCE,kBAHkC,CAIlCC,UAJkC,CAUhCH,KAVgC,CAIlCG,UAJkC,CAKlCC,cALkC,CAUhCJ,KAVgC,CAKlCI,cALkC,CAMlCC,cANkC,CAUhCL,KAVgC,CAMlCK,cANkC,CAOlCC,iBAPkC,CAUhCN,KAVgC,CAOlCM,iBAPkC,CAQlCC,SARkC,CAUhCP,KAVgC,CAQlCO,SARkC,CASlCC,KATkC,CAUhCR,KAVgC,CASlCQ,KATkC,eAYQd,QAAQ,CAAC,KAAD,CAZhB,wCAY7Be,cAZ6B,eAYbC,iBAZa,eAcpC,GAAMC,CAAAA,mBAAmB,CAAGP,cAAc,GAAK,IAA/C,CAEA,GAAMQ,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAQZ,cAAR,CAA2B,CAC7CY,KAAK,CAACC,cAAN,GACA,GAAIN,KAAJ,CAAWb,mBAAmB,CAACoB,IAApB,CAAyB,CAACd,cAAD,CAAzB,EACXS,iBAAiB,CAAC,IAAD,CAAjB,CACD,CAJD,CAMA,MAAOD,CAAAA,cAAc,cACnB,oBAAC,QAAD,EAAU,EAAE,WAAKX,SAAL,aAAkBK,UAAlB,CAAZ,EADmB,cAGnB,2CACE,2BACE,SAAS,qCAA+BP,MAAM,CAACM,kBAAD,CAArC,CADX,CAEE,OAAO,CAAE,iBAAAW,KAAK,QAAID,CAAAA,WAAW,CAACC,KAAD,CAAQZ,cAAR,CAAf,EAFhB,eAIE,2BAAK,SAAS,CAAC,sBAAf,eACE,0CACE,gCACGK,iBADH,CAEGK,mBAAmB,EAAI,IAF1B,CADF,CAKGA,mBAAmB,eAAI,gCAAOP,cAAP,CAL1B,cAME,sCANF,cAOE,gCAAOC,cAAP,CAPF,CADF,cAUE,yBAAG,SAAS,CAAC,SAAb,EAAwBE,SAAxB,CAVF,CAJF,CADF,CAHF,CAuBD,CA7CD,CA+CAR,oBAAoB,CAACiB,YAArB,CAAoC,CAClCZ,cAAc,CAAE,IADkB,CAElCF,kBAAkB,CAAE,4BAFc,CAApC,CAeA,cAAeH,CAAAA,oBAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport NotificationService from '@distate/core/dist/application/notifications/NotificationService';\r\nimport styles from './Notification.module.css';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { CONTRACTS } from '../../common/Url';\r\n\r\nconst ContractNotification = props => {\r\n  const {\r\n    notificationId,\r\n    notificationStatus,\r\n    contractId,\r\n    contractNumber,\r\n    contractStatus,\r\n    contractTypeTitle,\r\n    createdAt,\r\n    isNew\r\n  } = props;\r\n\r\n  const [toContractView, setToContractView] = useState(false);\r\n\r\n  const isContractHasNumber = contractNumber !== null;\r\n\r\n  const handleClick = (event, notificationId) => {\r\n    event.preventDefault();\r\n    if (isNew) NotificationService.read([notificationId]);\r\n    setToContractView(true);\r\n  };\r\n\r\n  return toContractView ? (\r\n    <Redirect to={`${CONTRACTS}/${contractId}`} />\r\n  ) : (\r\n    <li>\r\n      <div\r\n        className={`droplink notification new ${styles[notificationStatus]}`}\r\n        onClick={event => handleClick(event, notificationId)}\r\n      >\r\n        <div className=\"notification-content\">\r\n          <p>\r\n            <span>\r\n              {contractTypeTitle}\r\n              {isContractHasNumber && ' №'}\r\n            </span>\r\n            {isContractHasNumber && <span>{contractNumber}</span>}\r\n            <span> - </span>\r\n            <span>{contractStatus}</span>\r\n          </p>\r\n          <p className=\"caption\">{createdAt}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nContractNotification.defaultProps = {\r\n  contractNumber: null,\r\n  notificationStatus: 'document_has_been_received'\r\n};\r\n\r\nContractNotification.propTypes = {\r\n  notificationId: PropTypes.number.isRequired,\r\n  contractId: PropTypes.number.isRequired,\r\n  contractStatus: PropTypes.string.isRequired,\r\n  contractTypeTitle: PropTypes.string.isRequired,\r\n  createdAt: PropTypes.string.isRequired,\r\n  contractNumber: PropTypes.string,\r\n  notificationStatus: PropTypes.string.isRequired\r\n};\r\n\r\nexport default ContractNotification;\r\n"]},"metadata":{},"sourceType":"module"}