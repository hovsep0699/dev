{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport Environment from '../../Environment';\nimport { DOCUMENT } from './Lbl';\nimport SignRequest from '../../sign/SignRequest';\nimport SignService from '../../sign/SignService';\nimport FlowsService from '../common/flows/FlowsService';\nimport Unformalized from './flows/aggregatedFlows/Unformalized';\n\nvar DocumentsService = /*#__PURE__*/function () {\n  function DocumentsService() {\n    _classCallCheck(this, DocumentsService);\n  }\n\n  _createClass(DocumentsService, [{\n    key: \"getTitle\",\n    value: function getTitle(flowType, typeTitle) {\n      var aggregatedFlow = flowType ? FlowsService.getAggregatedFlowByFlowName(flowType) : null;\n      if (aggregatedFlow === Unformalized && typeTitle) return typeTitle;\n      if (aggregatedFlow === null || aggregatedFlow === void 0 ? void 0 : aggregatedFlow.label) return aggregatedFlow.label;\n      var flow = FlowsService.getFlowByName(flowType);\n      if (flow === null || flow === void 0 ? void 0 : flow.label) return flow.label;\n      return DOCUMENT;\n    }\n  }, {\n    key: \"getAll\",\n    value: function getAll(offset, limit) {\n      return Environment.getDocumentsGateway().getAll(offset, limit);\n    }\n  }, {\n    key: \"getInbox\",\n    value: function getInbox(offset, limit) {\n      return Environment.getDocumentsGateway().getInbox(offset, limit);\n    }\n  }, {\n    key: \"getOutbox\",\n    value: function getOutbox(offset, limit) {\n      return Environment.getDocumentsGateway().getOutbox(offset, limit);\n    }\n  }, {\n    key: \"getDraft\",\n    value: function getDraft(offset, limit) {\n      return Environment.getDocumentsGateway().getDraft(offset, limit);\n    }\n  }, {\n    key: \"getArchive\",\n    value: function getArchive(offset, limit) {\n      return Environment.getDocumentsGateway().getArchive(offset, limit);\n    }\n  }, {\n    key: \"archive\",\n    value: function archive(ids) {\n      return Environment.getDocumentsGateway().archive(ids);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(id) {\n      return Environment.getDocumentsGateway().delete(id);\n    }\n  }, {\n    key: \"search\",\n    value: function search(params, offset, limit) {\n      return Environment.getDocumentsGateway().search(params, offset, limit);\n    }\n  }, {\n    key: \"getLabeled\",\n    value: function getLabeled(labelId, offset, limit) {\n      return Environment.getDocumentsGateway().getLabeled(labelId, offset, limit);\n    }\n  }, {\n    key: \"signAndSendDocuments\",\n    value: function signAndSendDocuments(documents) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var request, result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                request = new SignRequest({\n                  documents: documents\n                });\n                _context.next = 3;\n                return SignService.signDocuments(request);\n\n              case 3:\n                result = _context.sent;\n                return _context.abrupt(\"return\", result);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    }\n  }, {\n    key: \"signAndSendContainer\",\n    value: function signAndSendContainer(documents) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var request, result;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                request = new SignRequest({\n                  documents: documents\n                });\n                _context2.next = 3;\n                return SignService.signContainer(request);\n\n              case 3:\n                result = _context2.sent;\n                return _context2.abrupt(\"return\", result);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n    }\n  }]);\n\n  return DocumentsService;\n}();\n\nvar instance = new DocumentsService();\nexport default instance;","map":{"version":3,"sources":["../../../../src/application/documents/common/DocumentsService.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,WAAP,MAAwB,mBAAxB;AACA,SAAS,QAAT,QAAyB,OAAzB;AACA,OAAO,WAAP,MAAwB,wBAAxB;AACA,OAAO,WAAP,MAAwB,wBAAxB;AACA,OAAO,YAAP,MAAyB,8BAAzB;AACA,OAAO,YAAP,MAAyB,sCAAzB;;IAEM,gB;;;;;;;6BACK,Q,EAAkB,S,EAAkB;AAC3C,UAAM,cAAc,GAAG,QAAQ,GAAG,YAAY,CAAC,2BAAb,CAAyC,QAAzC,CAAH,GAAwD,IAAvF;AACA,UAAI,cAAc,KAAK,YAAnB,IAAmC,SAAvC,EAAkD,OAAO,SAAP;AAClD,UAAI,cAAc,KAAA,IAAd,IAAA,cAAc,KAAA,KAAA,CAAd,GAAc,KAAA,CAAd,GAAA,cAAc,CAAE,KAApB,EAA2B,OAAO,cAAc,CAAC,KAAtB;AAE3B,UAAM,IAAI,GAAG,YAAY,CAAC,aAAb,CAA2B,QAA3B,CAAb;AACA,UAAI,IAAI,KAAA,IAAJ,IAAA,IAAI,KAAA,KAAA,CAAJ,GAAI,KAAA,CAAJ,GAAA,IAAI,CAAE,KAAV,EAAiB,OAAO,IAAI,CAAC,KAAZ;AAEjB,aAAO,QAAP;AACD;;;2BAEM,M,EAAgB,K,EAAa;AAClC,aAAO,WAAW,CAAC,mBAAZ,GAAkC,MAAlC,CAAyC,MAAzC,EAAiD,KAAjD,CAAP;AACD;;;6BAEQ,M,EAAiB,K,EAAc;AACtC,aAAO,WAAW,CAAC,mBAAZ,GAAkC,QAAlC,CAA2C,MAA3C,EAAmD,KAAnD,CAAP;AACD;;;8BAES,M,EAAiB,K,EAAc;AACvC,aAAO,WAAW,CAAC,mBAAZ,GAAkC,SAAlC,CAA4C,MAA5C,EAAoD,KAApD,CAAP;AACD;;;6BAEQ,M,EAAiB,K,EAAc;AACtC,aAAO,WAAW,CAAC,mBAAZ,GAAkC,QAAlC,CAA2C,MAA3C,EAAmD,KAAnD,CAAP;AACD;;;+BAEU,M,EAAiB,K,EAAc;AACxC,aAAO,WAAW,CAAC,mBAAZ,GAAkC,UAAlC,CAA6C,MAA7C,EAAqD,KAArD,CAAP;AACD;;;4BAEO,G,EAAa;AACnB,aAAO,WAAW,CAAC,mBAAZ,GAAkC,OAAlC,CAA0C,GAA1C,CAAP;AACD;;;4BAEM,E,EAAU;AACf,aAAO,WAAW,CAAC,mBAAZ,GAAkC,MAAlC,CAAyC,EAAzC,CAAP;AACD;;;2BAEM,M,EAAa,M,EAAiB,K,EAAc;AACjD,aAAO,WAAW,CAAC,mBAAZ,GAAkC,MAAlC,CAAyC,MAAzC,EAAiD,MAAjD,EAAyD,KAAzD,CAAP;AACD;;;+BAEU,O,EAAiB,M,EAAiB,K,EAAc;AACzD,aAAO,WAAW,CAAC,mBAAZ,GAAkC,UAAlC,CAA6C,OAA7C,EAAsD,MAAtD,EAA8D,KAA9D,CAAP;AACD;;;yCAE0B,S,EAAgB;;;;;;;AACnC,gBAAA,O,GAAU,IAAI,WAAJ,CAAgB;AAAE,kBAAA,SAAS,EAAT;AAAF,iBAAhB,C;;AACD,uBAAM,WAAW,CAAC,aAAZ,CAA0B,OAA1B,CAAN;;;AAAT,gBAAA,M;iDACC,M;;;;;;;;;AACR;;;yCAE0B,S,EAAgB;;;;;;;AACnC,gBAAA,O,GAAU,IAAI,WAAJ,CAAgB;AAAE,kBAAA,SAAS,EAAT;AAAF,iBAAhB,C;;AACD,uBAAM,WAAW,CAAC,aAAZ,CAA0B,OAA1B,CAAN;;;AAAT,gBAAA,M;kDACC,M;;;;;;;;;AACR;;;;;;AAGH,IAAM,QAAQ,GAAG,IAAI,gBAAJ,EAAjB;AACA,eAAe,QAAf","sourceRoot":"","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport Environment from '../../Environment';\r\nimport { DOCUMENT } from './Lbl';\r\nimport SignRequest from '../../sign/SignRequest';\r\nimport SignService from '../../sign/SignService';\r\nimport FlowsService from '../common/flows/FlowsService';\r\nimport Unformalized from './flows/aggregatedFlows/Unformalized';\r\nclass DocumentsService {\r\n    getTitle(flowType, typeTitle) {\r\n        const aggregatedFlow = flowType ? FlowsService.getAggregatedFlowByFlowName(flowType) : null;\r\n        if (aggregatedFlow === Unformalized && typeTitle)\r\n            return typeTitle;\r\n        if (aggregatedFlow === null || aggregatedFlow === void 0 ? void 0 : aggregatedFlow.label)\r\n            return aggregatedFlow.label;\r\n        const flow = FlowsService.getFlowByName(flowType);\r\n        if (flow === null || flow === void 0 ? void 0 : flow.label)\r\n            return flow.label;\r\n        return DOCUMENT;\r\n    }\r\n    getAll(offset, limit) {\r\n        return Environment.getDocumentsGateway().getAll(offset, limit);\r\n    }\r\n    getInbox(offset, limit) {\r\n        return Environment.getDocumentsGateway().getInbox(offset, limit);\r\n    }\r\n    getOutbox(offset, limit) {\r\n        return Environment.getDocumentsGateway().getOutbox(offset, limit);\r\n    }\r\n    getDraft(offset, limit) {\r\n        return Environment.getDocumentsGateway().getDraft(offset, limit);\r\n    }\r\n    getArchive(offset, limit) {\r\n        return Environment.getDocumentsGateway().getArchive(offset, limit);\r\n    }\r\n    archive(ids) {\r\n        return Environment.getDocumentsGateway().archive(ids);\r\n    }\r\n    delete(id) {\r\n        return Environment.getDocumentsGateway().delete(id);\r\n    }\r\n    search(params, offset, limit) {\r\n        return Environment.getDocumentsGateway().search(params, offset, limit);\r\n    }\r\n    getLabeled(labelId, offset, limit) {\r\n        return Environment.getDocumentsGateway().getLabeled(labelId, offset, limit);\r\n    }\r\n    signAndSendDocuments(documents) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const request = new SignRequest({ documents });\r\n            const result = yield SignService.signDocuments(request);\r\n            return result;\r\n        });\r\n    }\r\n    signAndSendContainer(documents) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const request = new SignRequest({ documents });\r\n            const result = yield SignService.signContainer(request);\r\n            return result;\r\n        });\r\n    }\r\n}\r\nconst instance = new DocumentsService();\r\nexport default instance;\r\n//# sourceMappingURL=DocumentsService.js.map"]},"metadata":{},"sourceType":"module"}