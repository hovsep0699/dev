{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getFoundPersonEffect),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getFoundPersonWorker);import{takeLatest,call,put}from'redux-saga/effects';import{getFoundPerson,setFoundPersonContractor}from'../actions';import{ContractorApiServices}from'../../services/contractors.api';import{Flash}from'../../../../common/flash/Flash';export function getFoundPersonEffect(){return _regeneratorRuntime.wrap(function getFoundPersonEffect$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(getFoundPerson,getFoundPersonWorker);case 2:case\"end\":return _context.stop();}}},_marked);}function getFoundPersonWorker(_ref){var payload,name,surname,patronymic,socialNumber,offset,limit,person,message;return _regeneratorRuntime.wrap(function getFoundPersonWorker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref.payload;_context2.prev=1;name=payload.name,surname=payload.surname,patronymic=payload.patronymic,socialNumber=payload.socialNumber,offset=payload.offset,limit=payload.limit;_context2.next=5;return call(ContractorApiServices.searchNaturalEntity,{name:name,surname:surname,patronymic:patronymic,socialNumber:socialNumber,offset:offset,limit:limit});case 5:person=_context2.sent;_context2.next=8;return put(setFoundPersonContractor({search:{person:_objectSpread(_objectSpread({},person),{},{offset:offset,searchParams:payload})}}));case 8:_context2.next=15;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);message=_context2.t0.message;_context2.next=15;return Flash.error(message||'Возникла ошибка');case 15:case\"end\":return _context2.stop();}}},_marked2,null,[[1,10]]);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/store/sagas/getFoundPerson.effect.ts"],"names":["getFoundPersonEffect","getFoundPersonWorker","takeLatest","call","put","getFoundPerson","setFoundPersonContractor","ContractorApiServices","Flash","payload","name","surname","patronymic","socialNumber","offset","limit","searchNaturalEntity","person","search","searchParams","message","error"],"mappings":"8XAMiBA,oB,iDAaPC,oB,EAnBV,OAASC,UAAT,CAAqBC,IAArB,CAA2BC,GAA3B,KAAsC,oBAAtC,CAEA,OAASC,cAAT,CAAyBC,wBAAzB,KAAyD,YAAzD,CACA,OAASC,qBAAT,KAAsC,gCAAtC,CACA,OAASC,KAAT,KAAsB,gCAAtB,CAEA,MAAO,SAAUR,CAAAA,oBAAV,gJACL,MAAME,CAAAA,UAAU,CAACG,cAAD,CAAiBJ,oBAAjB,CAAhB,CADK,sDAaP,QAAUA,CAAAA,oBAAV,oNAAiCQ,OAAjC,MAAiCA,OAAjC,kBAEYC,IAFZ,CAEuED,OAFvE,CAEYC,IAFZ,CAEkBC,OAFlB,CAEuEF,OAFvE,CAEkBE,OAFlB,CAE2BC,UAF3B,CAEuEH,OAFvE,CAE2BG,UAF3B,CAEuCC,YAFvC,CAEuEJ,OAFvE,CAEuCI,YAFvC,CAEqDC,MAFrD,CAEuEL,OAFvE,CAEqDK,MAFrD,CAE6DC,KAF7D,CAEuEN,OAFvE,CAE6DM,KAF7D,kBAGmB,MAAMZ,CAAAA,IAAI,CAACI,qBAAqB,CAACS,mBAAvB,CAA4C,CACnEN,IAAI,CAAJA,IADmE,CAEnEC,OAAO,CAAPA,OAFmE,CAGnEC,UAAU,CAAVA,UAHmE,CAInEC,YAAY,CAAZA,YAJmE,CAKnEC,MAAM,CAANA,MALmE,CAMnEC,KAAK,CAALA,KANmE,CAA5C,CAAV,CAHnB,OAGUE,MAHV,iCAWI,MAAMb,CAAAA,GAAG,CACPE,wBAAwB,CAAC,CACvBY,MAAM,CAAE,CAAED,MAAM,gCAAOA,MAAP,MAAeH,MAAM,CAANA,MAAf,CAAuBK,YAAY,CAAEV,OAArC,EAAR,CADe,CAAD,CADjB,CAAT,CAXJ,4FAgBaW,OAhBb,cAgBaA,OAhBb,mBAiBI,MAAMZ,CAAAA,KAAK,CAACa,KAAN,CAAYD,OAAO,EAAI,iBAAvB,CAAN,CAjBJ","sourcesContent":["import { takeLatest, call, put } from 'redux-saga/effects';\r\n\r\nimport { getFoundPerson, setFoundPersonContractor } from '../actions';\r\nimport { ContractorApiServices } from '../../services/contractors.api';\r\nimport { Flash } from '../../../../common/flash/Flash';\r\n\r\nexport function* getFoundPersonEffect() {\r\n  yield takeLatest(getFoundPerson, getFoundPersonWorker);\r\n}\r\n\r\ntype Payload = {\r\n  name?: string;\r\n  surname?: string;\r\n  patronymic?: string;\r\n  socialNumber?: string;\r\n  offset?: number;\r\n  limit?: number;\r\n};\r\n\r\nfunction* getFoundPersonWorker({ payload }: { payload: Payload }) {\r\n  try {\r\n    const { name, surname, patronymic, socialNumber, offset, limit } = payload;\r\n    const person = yield call(ContractorApiServices.searchNaturalEntity, {\r\n      name,\r\n      surname,\r\n      patronymic,\r\n      socialNumber,\r\n      offset,\r\n      limit\r\n    });\r\n    yield put(\r\n      setFoundPersonContractor({\r\n        search: { person: { ...person, offset, searchParams: payload } }\r\n      })\r\n    );\r\n  } catch ({ message }) {\r\n    yield Flash.error(message || 'Возникла ошибка');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}