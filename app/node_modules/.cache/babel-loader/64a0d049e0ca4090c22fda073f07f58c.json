{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _get from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nimport HasAuthHandlerBase from '../HasAuthHandlerBase';\nimport AuthRequest from '../../AuthRequest';\n\nvar MergeEmployeeDataHandler = /*#__PURE__*/function (_HasAuthHandlerBase) {\n  _inherits(MergeEmployeeDataHandler, _HasAuthHandlerBase);\n\n  var _super = _createSuper(MergeEmployeeDataHandler);\n\n  function MergeEmployeeDataHandler() {\n    _classCallCheck(this, MergeEmployeeDataHandler);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(MergeEmployeeDataHandler, [{\n    key: \"hasAuth\",\n    value: function hasAuth(request) {\n      if (this.canHandle(request)) {\n        var req = AuthRequest.clone(request);\n        req.employee = this.createEmployee(request);\n        return this.doNextHandler(req);\n      }\n\n      return this.doNextHandler(request);\n    }\n  }, {\n    key: \"canHandle\",\n    value: function canHandle(request) {\n      _get(_getPrototypeOf(MergeEmployeeDataHandler.prototype), \"canHandle\", this).call(this, request);\n\n      var isAuthed = request.isAuthed,\n          rawUser = request.rawUser;\n\n      if (!isAuthed || !rawUser || !rawUser.employee) {\n        return false;\n      }\n\n      return !!rawUser;\n    }\n  }, {\n    key: \"createEmployee\",\n    value: function createEmployee(request) {\n      return request.rawUser.employee;\n    }\n  }]);\n\n  return MergeEmployeeDataHandler;\n}(HasAuthHandlerBase);\n\nexport default MergeEmployeeDataHandler;","map":{"version":3,"sources":["../../../../../src/application/auth/handlers/hasAuth/MergeEmployeeDataHandler.js"],"names":[],"mappings":";;;;;;AAAA,OAAO,kBAAP,MAA+B,uBAA/B;AACA,OAAO,WAAP,MAAwB,mBAAxB;;IAEM,wB;;;;;;;;;;;;;4BACI,O,EAAO;AACb,UAAI,KAAK,SAAL,CAAe,OAAf,CAAJ,EAA6B;AAC3B,YAAM,GAAG,GAAG,WAAW,CAAC,KAAZ,CAAkB,OAAlB,CAAZ;AACA,QAAA,GAAG,CAAC,QAAJ,GAAe,KAAK,cAAL,CAAoB,OAApB,CAAf;AACA,eAAO,KAAK,aAAL,CAAmB,GAAnB,CAAP;AACD;;AAED,aAAO,KAAK,aAAL,CAAmB,OAAnB,CAAP;AACD;;;8BAES,O,EAAO;AACf,8FAAgB,OAAhB;;AADe,UAEP,QAFO,GAEe,OAFf,CAEP,QAFO;AAAA,UAEG,OAFH,GAEe,OAFf,CAEG,OAFH;;AAIf,UAAI,CAAC,QAAD,IAAa,CAAC,OAAd,IAAyB,CAAC,OAAO,CAAC,QAAtC,EAAgD;AAC9C,eAAO,KAAP;AACD;;AAED,aAAO,CAAC,CAAC,OAAT;AACD;;;mCAEc,O,EAAO;AACpB,aAAO,OAAO,CAAC,OAAR,CAAgB,QAAvB;AACD;;;;EAxBoC,kB;;AA2BvC,eAAe,wBAAf","sourceRoot":"","sourcesContent":["import HasAuthHandlerBase from '../HasAuthHandlerBase';\r\nimport AuthRequest from '../../AuthRequest';\r\nclass MergeEmployeeDataHandler extends HasAuthHandlerBase {\r\n    hasAuth(request) {\r\n        if (this.canHandle(request)) {\r\n            const req = AuthRequest.clone(request);\r\n            req.employee = this.createEmployee(request);\r\n            return this.doNextHandler(req);\r\n        }\r\n        return this.doNextHandler(request);\r\n    }\r\n    canHandle(request) {\r\n        super.canHandle(request);\r\n        const { isAuthed, rawUser } = request;\r\n        if (!isAuthed || !rawUser || !rawUser.employee) {\r\n            return false;\r\n        }\r\n        return !!rawUser;\r\n    }\r\n    createEmployee(request) {\r\n        return request.rawUser.employee;\r\n    }\r\n}\r\nexport default MergeEmployeeDataHandler;\r\n//# sourceMappingURL=MergeEmployeeDataHandler.js.map"]},"metadata":{},"sourceType":"module"}