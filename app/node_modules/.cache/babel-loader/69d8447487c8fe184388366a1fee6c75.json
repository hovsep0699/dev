{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _applyDecoratedDescriptor from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";var _class,_temp;import autobind from\"autobind-decorator\";import{PowersExercisedType,PowersSubTrustType}from\"./SelectionType\";export var Powers=(_class=(_temp=/*#__PURE__*/function(){// public isGroupAllowed: boolean;\n// public isRevokeOnReDelegation: boolean;\nfunction Powers(type,textPowers,exercised,reDelegatingAuthority,structuredPowers){_classCallCheck(this,Powers);this.type=void 0;this.textPowers=void 0;this.exercised=void 0;this.reDelegatingAuthority=void 0;this.structuredPowers=void 0;this.type=type;this.textPowers=textPowers!==null&&textPowers!==void 0?textPowers:\"\";this.exercised=exercised!==null&&exercised!==void 0?exercised:null;this.reDelegatingAuthority=reDelegatingAuthority!==null&&reDelegatingAuthority!==void 0?reDelegatingAuthority:null;this.structuredPowers=['DIT_MP0001','DIT_AS0001'];}_createClass(Powers,[{key:\"copyWith\",value:function copyWith(_ref){var type=_ref.type,textPowers=_ref.textPowers,exercised=_ref.exercised,reDelegatingAuthority=_ref.reDelegatingAuthority,structuredPowers=_ref.structuredPowers;return new Powers(type!==null&&type!==void 0?type:this.type,textPowers!==null&&textPowers!==void 0?textPowers:this.textPowers,exercised!==null&&exercised!==void 0?exercised:this.exercised,reDelegatingAuthority!==null&&reDelegatingAuthority!==void 0?reDelegatingAuthority:this.reDelegatingAuthority,structuredPowers!==null&&structuredPowers!==void 0?structuredPowers:this.structuredPowers);}},{key:\"toFlatJson\",value:function toFlatJson(){var _this$type,_this$exercised,_this$reDelegatingAut;return{type:(_this$type=this.type)===null||_this$type===void 0?void 0:_this$type.value,isGroupAllowed:((_this$exercised=this.exercised)===null||_this$exercised===void 0?void 0:_this$exercised.value)===PowersExercisedType.individual,isRevokeOnReDelegation:((_this$reDelegatingAut=this.reDelegatingAuthority)===null||_this$reDelegatingAut===void 0?void 0:_this$reDelegatingAut.value)===PowersSubTrustType.lost,textPowers:this.textPowers};}},{key:\"compare\",value:function compare(powers){return this.type===powers.type&&this.textPowers===powers.textPowers&&this.exercised===powers.exercised&&this.reDelegatingAuthority===powers.reDelegatingAuthority&&this.structuredPowers===powers.structuredPowers;}}]);return Powers;}(),_temp),(_applyDecoratedDescriptor(_class.prototype,\"copyWith\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"copyWith\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"toFlatJson\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"toFlatJson\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"compare\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"compare\"),_class.prototype)),_class);","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/POA/MCHD_ROOT/domain/model/Powers.ts"],"names":["autobind","PowersExercisedType","PowersSubTrustType","Powers","type","textPowers","exercised","reDelegatingAuthority","structuredPowers","value","isGroupAllowed","individual","isRevokeOnReDelegation","lost","powers"],"mappings":"siBAAA,MAAOA,CAAAA,QAAP,KAAqB,oBAArB,CACA,OACkCC,mBADlC,CAGiCC,kBAHjC,KAIO,iBAJP,CAkBA,UAAaC,CAAAA,MAAb,wCAEI;AACA;AAMA,gBACIC,IADJ,CAEIC,UAFJ,CAGIC,SAHJ,CAIIC,qBAJJ,CAKIC,gBALJ,CAME,mCAdKJ,IAcL,aAXKC,UAWL,aAVKC,SAUL,aATKC,qBASL,aARKC,gBAQL,QACE,KAAKJ,IAAL,CAAYA,IAAZ,CACA,KAAKC,UAAL,CAAkBA,UAAlB,SAAkBA,UAAlB,UAAkBA,UAAlB,CAAgC,EAAhC,CACA,KAAKC,SAAL,CAAiBA,SAAjB,SAAiBA,SAAjB,UAAiBA,SAAjB,CAA8B,IAA9B,CACA,KAAKC,qBAAL,CAA6BA,qBAA7B,SAA6BA,qBAA7B,UAA6BA,qBAA7B,CAAsD,IAAtD,CACA,KAAKC,gBAAL,CAAwB,CACpB,YADoB,CAEpB,YAFoB,CAAxB,CAIH,CAxBL,kEAmCc,IAPUJ,CAAAA,IAOV,MAPUA,IAOV,CANUC,UAMV,MANUA,UAMV,CALUC,SAKV,MALUA,SAKV,CAJUC,qBAIV,MAJUA,qBAIV,CAHUC,gBAGV,MAHUA,gBAGV,CACN,MAAO,IAAIL,CAAAA,MAAJ,CACHC,IADG,SACHA,IADG,UACHA,IADG,CACK,KAAKA,IADV,CAEHC,UAFG,SAEHA,UAFG,UAEHA,UAFG,CAEW,KAAKA,UAFhB,CAGHC,SAHG,SAGHA,SAHG,UAGHA,SAHG,CAGU,KAAKA,SAHf,CAIHC,qBAJG,SAIHA,qBAJG,UAIHA,qBAJG,CAIsB,KAAKA,qBAJ3B,CAKHC,gBALG,SAKHA,gBALG,UAKHA,gBALG,CAKiB,KAAKA,gBALtB,CAAP,CAOH,CA3CL,+CA8C6C,sDACrC,MAAO,CACHJ,IAAI,aAAE,KAAKA,IAAP,qCAAE,WAAWK,KADd,CAEHC,cAAc,CAAE,uBAAKJ,SAAL,0DAAgBG,KAAhB,IAA0BR,mBAAmB,CAACU,UAF3D,CAGHC,sBAAsB,CAAE,6BAAKL,qBAAL,sEAA4BE,KAA5B,IAAsCP,kBAAkB,CAACW,IAH9E,CAIHR,UAAU,CAAE,KAAKA,UAJd,CAAP,CAMH,CArDL,wCAwDmBS,MAxDnB,CAwD4C,CACpC,MAAO,MAAKV,IAAL,GAAcU,MAAM,CAACV,IAArB,EACH,KAAKC,UAAL,GAAoBS,MAAM,CAACT,UADxB,EAEH,KAAKC,SAAL,GAAmBQ,MAAM,CAACR,SAFvB,EAGH,KAAKC,qBAAL,GAA+BO,MAAM,CAACP,qBAHnC,EAIH,KAAKC,gBAAL,GAA0BM,MAAM,CAACN,gBAJrC,CAKH,CA9DL,qFA0BKR,QA1BL,0IA6CKA,QA7CL,yIAuDKA,QAvDL","sourcesContent":["import autobind from \"autobind-decorator\";\r\nimport {\r\n    PowersExercisedSelectionType, PowersExercisedType,\r\n    PowersSelectionType,\r\n    PowersSubTrustSelectionType, PowersSubTrustType,\r\n} from \"./SelectionType\";\r\nimport {deepEqual} from \"../../utils/json_hepler\";\r\nimport {IModel} from \"./IModel\";\r\n\r\nexport interface PowersProps {\r\n    type?: PowersSelectionType | null;\r\n    // isGroupAllowed?: boolean | null;\r\n    // isRevokeOnReDelegation?: boolean | null;\r\n    textPowers?: string | null;\r\n    exercised?: PowersExercisedSelectionType | null;\r\n    reDelegatingAuthority?: PowersSubTrustSelectionType | null;\r\n    structuredPowers?: string[] | null;\r\n}\r\n\r\nexport class Powers implements IModel<Powers, PowersProps> {\r\n    public type?: PowersSelectionType | null;\r\n    // public isGroupAllowed: boolean;\r\n    // public isRevokeOnReDelegation: boolean;\r\n    public textPowers: string;\r\n    public exercised?: PowersExercisedSelectionType | null;\r\n    public reDelegatingAuthority: PowersSubTrustSelectionType | null;\r\n    public structuredPowers: string[];\r\n\r\n    public constructor(\r\n        type?: PowersSelectionType | null,\r\n        textPowers?: string | null,\r\n        exercised?: PowersExercisedSelectionType | null,\r\n        reDelegatingAuthority?: PowersSubTrustSelectionType | null,\r\n        structuredPowers?: string[] | null,\r\n    ) {\r\n        this.type = type;\r\n        this.textPowers = textPowers ?? \"\";\r\n        this.exercised = exercised ?? null;\r\n        this.reDelegatingAuthority = reDelegatingAuthority ?? null;\r\n        this.structuredPowers = [\r\n            'DIT_MP0001',\r\n            'DIT_AS0001'\r\n        ];\r\n    }\r\n\r\n    @autobind\r\n    public copyWith({\r\n                        type,\r\n                        textPowers,\r\n                        exercised,\r\n                        reDelegatingAuthority,\r\n                        structuredPowers\r\n\r\n                    }: PowersProps\r\n    ): Powers {\r\n        return new Powers(\r\n            type ?? this.type,\r\n            textPowers ?? this.textPowers,\r\n            exercised ?? this.exercised,\r\n            reDelegatingAuthority ?? this.reDelegatingAuthority,\r\n            structuredPowers ?? this.structuredPowers,\r\n        )\r\n    }\r\n\r\n    @autobind\r\n    public toFlatJson(): Record<string, any> {\r\n        return {\r\n            type: this.type?.value,\r\n            isGroupAllowed: this.exercised?.value === PowersExercisedType.individual,\r\n            isRevokeOnReDelegation: this.reDelegatingAuthority?.value === PowersSubTrustType.lost,\r\n            textPowers: this.textPowers,\r\n        }\r\n    }\r\n\r\n    @autobind\r\n    public compare(powers: Powers): boolean {\r\n        return this.type === powers.type &&\r\n            this.textPowers === powers.textPowers &&\r\n            this.exercised === powers.exercised &&\r\n            this.reDelegatingAuthority === powers.reDelegatingAuthority &&\r\n            this.structuredPowers === powers.structuredPowers;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}