{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Button,ButtonKinds,ButtonSizes,Icons}from'@distate/components';import SecurityService from'@distate/core/dist/application/security/SecurityService';import{getFinanceInfo}from'../../store/actions';import{root as financeSelector}from'../../store/selectors';import{ChangeBalanceModal}from'./ChangeBalanceModal';import{BillModal}from'./BillModal';import{TariffCard}from'./TariffCard';import{ChangeTariffModal}from'./ChangeTariffModal';/** Финансы - Информация */export var Information=function Information(_ref){var _match$params;var match=_ref.match;var dispatch=useDispatch();var _useSelector=useSelector(financeSelector),isVks=_useSelector.isVks,companyName=_useSelector.companyName,balance=_useSelector.balance,accountNumber=_useSelector.accountNumber,currentTariff=_useSelector.currentTariff,isPostpaid=_useSelector.isPostpaid,tariffBalance=_useSelector.tariffBalance,authorized=_useSelector.authorized;var isPromotion=currentTariff===null||currentTariff===void 0?void 0:currentTariff.isPromotion;var companyId=match===null||match===void 0?void 0:(_match$params=match.params)===null||_match$params===void 0?void 0:_match$params.id;var tariffId=currentTariff===null||currentTariff===void 0?void 0:currentTariff.tariff_id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isChangeBalance=_useState2[0],setIsChangeBalance=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),changeBalanceTitle=_useState4[0],setChangeBalanceTitle=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isAdd=_useState6[0],setIsAdd=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isBill=_useState8[0],setIsBill=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isCard=_useState10[0],setIsCard=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isChangeTariff=_useState12[0],setIsChangeTariff=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isEnableBalance=_useState14[0],setIsEnableBalance=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isEnableTariff=_useState16[0],setIsEnableTariff=_useState16[1];useEffect(function(){companyId&&dispatch(getFinanceInfo(companyId));},[companyId,dispatch]);useEffect(function(){/** получение прав на редактирование баланса */var hasChangeBalanceRole=SecurityService.hasRole('ROLE_BALANCE_CHANGER');setIsEnableBalance(hasChangeBalanceRole);/** получение прав на редактирование тарифа */var hasChangeTariffRole=SecurityService.hasRole('ROLE_TARIFF_CHANGER');setIsEnableTariff(hasChangeTariffRole);},[dispatch]);/** Пополнить баланс */var onTopUpBalance=function onTopUpBalance(){setIsChangeBalance(true);setChangeBalanceTitle('Зачисление средств');setIsAdd(true);};/** Списать баланс */var onWriteOffBalance=function onWriteOffBalance(){setIsChangeBalance(true);setChangeBalanceTitle('Списание средств');setIsAdd(false);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",{className:\"header\"},companyName),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u043B\\u0438\\u0446\\u0435\\u0432\\u043E\\u0433\\u043E \\u0441\\u0447\\u0435\\u0442\\u0430:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},accountNumber)),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u0411\\u0430\\u043B\\u0430\\u043D\\u0441 \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\",style:{display:'flex',alignItems:'center'}},balance?/*#__PURE__*/React.createElement(\"div\",null,Number(balance)/100,\" \",isPromotion?'док.':'р.'):/*#__PURE__*/React.createElement(\"div\",null,\"0.00 \",isPromotion?'док.':'р.'),/*#__PURE__*/React.createElement(\"div\",null,!isVks&&/*#__PURE__*/React.createElement(Button,{kind:ButtonKinds.Orange,icon:/*#__PURE__*/React.createElement(Icons.IconShare,{fill:\"currentColor\"}),size:ButtonSizes.Small,style:{margin:'0 10px 0 20px'},onClick:function onClick(){return setIsBill(true);}},\"\\u0412\\u044B\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0447\\u0435\\u0442\"),isEnableBalance&&isVks&&/*#__PURE__*/React.createElement(Button,{kind:ButtonKinds.LightGreen,icon:/*#__PURE__*/React.createElement(Icons.IconArrowUp,{fill:\"currentColor\"}),size:ButtonSizes.Small,style:{margin:'0 10px 0 20px'},onClick:onTopUpBalance},\"\\u041F\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u044C\"),isEnableBalance&&isVks&&/*#__PURE__*/React.createElement(Button,{kind:ButtonKinds.Danger,icon:/*#__PURE__*/React.createElement(Icons.IconArrowDown,{fill:\"currentColor\"}),size:ButtonSizes.Small,onClick:onWriteOffBalance},\"\\u0421\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u0422\\u0430\\u0440\\u0438\\u0444:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\",style:{display:'flex',alignItems:'center'}},/*#__PURE__*/React.createElement(\"div\",null,currentTariff===null||currentTariff===void 0?void 0:currentTariff.tariff_title),/*#__PURE__*/React.createElement(Button,{kind:ButtonKinds.Secondary,size:ButtonSizes.Small,style:{margin:'0 10px 0 20px',minWidth:140},onClick:function onClick(){return setIsCard(true);}},\"\\u041A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0430 \\u0442\\u0430\\u0440\\u0438\\u0444\\u0430\"),isEnableTariff&&/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconFiles,{fill:\"currentColor\"}),size:ButtonSizes.Small,style:{minWidth:140},onClick:function onClick(){return setIsChangeTariff(true);}},\"\\u0421\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0442\\u0430\\u0440\\u0438\\u0444\")))),typeof isPostpaid!==undefined&&!isPostpaid&&/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u0411\\u0430\\u043B\\u0430\\u043D\\u0441 \\u0442\\u0430\\u0440\\u0438\\u0444\\u0430:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(\"div\",null,(Number(tariffBalance)/100).toFixed(2),\" \",isPromotion?'док.':'р.',\" \\u0438\\u0437 \\u043D\\u0438\\u0445 \\u0437\\u0430\\u0431\\u043B\\u043E\\u043A\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u043E \",(Number(authorized)/100).toFixed(2),\" \",isPromotion?'док.':'р.'))),/*#__PURE__*/React.createElement(ChangeBalanceModal,{hide:function hide(){return setIsChangeBalance(false);},isVisible:isChangeBalance,title:changeBalanceTitle,id:companyId,isAdd:isAdd}),/*#__PURE__*/React.createElement(BillModal,{hide:function hide(){return setIsBill(false);},isVisible:isBill,id:companyId,accountNumber:accountNumber}),tariffId&&isCard&&/*#__PURE__*/React.createElement(TariffCard,{hide:function hide(){return setIsCard(false);},isVisible:isCard,tariffId:tariffId}),tariffId&&/*#__PURE__*/React.createElement(ChangeTariffModal,{hide:function hide(){return setIsChangeTariff(false);},isVisible:isChangeTariff,currentTariffId:tariffId,companyId:companyId}));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/finance/components/information/Information.tsx"],"names":["React","useEffect","useState","useDispatch","useSelector","Button","ButtonKinds","ButtonSizes","Icons","SecurityService","getFinanceInfo","root","financeSelector","ChangeBalanceModal","BillModal","TariffCard","ChangeTariffModal","Information","match","dispatch","isVks","companyName","balance","accountNumber","currentTariff","isPostpaid","tariffBalance","authorized","isPromotion","companyId","params","id","tariffId","tariff_id","isChangeBalance","setIsChangeBalance","changeBalanceTitle","setChangeBalanceTitle","isAdd","setIsAdd","isBill","setIsBill","isCard","setIsCard","isChangeTariff","setIsChangeTariff","isEnableBalance","setIsEnableBalance","isEnableTariff","setIsEnableTariff","hasChangeBalanceRole","hasRole","hasChangeTariffRole","onTopUpBalance","onWriteOffBalance","display","alignItems","Number","Orange","Small","margin","LightGreen","Danger","tariff_title","Secondary","minWidth","undefined","toFixed"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, ButtonKinds, ButtonSizes, Icons } from '@distate/components';\r\nimport SecurityService from '@distate/core/dist/application/security/SecurityService';\r\nimport { getFinanceInfo } from '../../store/actions';\r\nimport { root as financeSelector } from '../../store/selectors';\r\nimport { ChangeBalanceModal } from './ChangeBalanceModal';\r\nimport { BillModal } from './BillModal';\r\nimport { TariffCard } from './TariffCard';\r\nimport { ChangeTariffModal } from './ChangeTariffModal';\r\n\r\n/** Финансы - Информация */\r\nexport const Information = ({ match }: any) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const {\r\n    isVks,\r\n    companyName,\r\n    balance,\r\n    accountNumber,\r\n    currentTariff,\r\n    isPostpaid,\r\n    tariffBalance,\r\n    authorized\r\n  } = useSelector(financeSelector);\r\n\r\n  const isPromotion = currentTariff?.isPromotion;\r\n\r\n  const companyId = match?.params?.id;\r\n  const tariffId = currentTariff?.tariff_id;\r\n\r\n  const [isChangeBalance, setIsChangeBalance] = useState(false);\r\n  const [changeBalanceTitle, setChangeBalanceTitle] = useState('');\r\n  const [isAdd, setIsAdd] = useState(true);\r\n  const [isBill, setIsBill] = useState(false);\r\n  const [isCard, setIsCard] = useState(false);\r\n  const [isChangeTariff, setIsChangeTariff] = useState(false);\r\n  const [isEnableBalance, setIsEnableBalance] = useState(false);\r\n  const [isEnableTariff, setIsEnableTariff] = useState(false);\r\n\r\n  useEffect(() => {\r\n    companyId && dispatch(getFinanceInfo(companyId));\r\n  }, [companyId, dispatch]);\r\n\r\n  useEffect(() => {\r\n    /** получение прав на редактирование баланса */\r\n    const hasChangeBalanceRole = SecurityService.hasRole('ROLE_BALANCE_CHANGER');\r\n    setIsEnableBalance(hasChangeBalanceRole);\r\n\r\n    /** получение прав на редактирование тарифа */\r\n    const hasChangeTariffRole = SecurityService.hasRole('ROLE_TARIFF_CHANGER');\r\n    setIsEnableTariff(hasChangeTariffRole);\r\n  }, [dispatch]);\r\n\r\n  /** Пополнить баланс */\r\n  const onTopUpBalance = () => {\r\n    setIsChangeBalance(true);\r\n    setChangeBalanceTitle('Зачисление средств');\r\n    setIsAdd(true);\r\n  };\r\n\r\n  /** Списать баланс */\r\n  const onWriteOffBalance = () => {\r\n    setIsChangeBalance(true);\r\n    setChangeBalanceTitle('Списание средств');\r\n    setIsAdd(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3 className=\"header\">{companyName}</h3>\r\n\r\n      <div className=\"two-columns-center\">\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Номер лицевого счета:</div>\r\n          <div className=\"two-columns-center_value\">{accountNumber}</div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Баланс компании:</div>\r\n          <div\r\n            className=\"two-columns-center_value\"\r\n            style={{ display: 'flex', alignItems: 'center' }}\r\n          >\r\n            {balance ? (\r\n              <div>\r\n                {Number(balance) / 100} {isPromotion ? 'док.' : 'р.'}\r\n              </div>\r\n            ) : (\r\n              <div>0.00 {isPromotion ? 'док.' : 'р.'}</div>\r\n            )}\r\n            <div>\r\n              {!isVks && (\r\n                <Button\r\n                  kind={ButtonKinds.Orange}\r\n                  icon={<Icons.IconShare fill=\"currentColor\" />}\r\n                  size={ButtonSizes.Small}\r\n                  style={{ margin: '0 10px 0 20px' }}\r\n                  onClick={() => setIsBill(true)}\r\n                >\r\n                  Выставить счет\r\n                </Button>\r\n              )}\r\n              {isEnableBalance && isVks && (\r\n                <Button\r\n                  kind={ButtonKinds.LightGreen}\r\n                  icon={<Icons.IconArrowUp fill=\"currentColor\" />}\r\n                  size={ButtonSizes.Small}\r\n                  style={{ margin: '0 10px 0 20px' }}\r\n                  onClick={onTopUpBalance}\r\n                >\r\n                  Пополнить\r\n                </Button>\r\n              )}\r\n              {isEnableBalance && isVks && (\r\n                <Button\r\n                  kind={ButtonKinds.Danger}\r\n                  icon={<Icons.IconArrowDown fill=\"currentColor\" />}\r\n                  size={ButtonSizes.Small}\r\n                  onClick={onWriteOffBalance}\r\n                >\r\n                  Списать\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Тариф:</div>\r\n          <div\r\n            className=\"two-columns-center_value\"\r\n            style={{ display: 'flex', alignItems: 'center' }}\r\n          >\r\n            <div>{currentTariff?.tariff_title}</div>\r\n            <Button\r\n              kind={ButtonKinds.Secondary}\r\n              size={ButtonSizes.Small}\r\n              style={{ margin: '0 10px 0 20px', minWidth: 140 }}\r\n              onClick={() => setIsCard(true)}\r\n            >\r\n              Карточка тарифа\r\n            </Button>\r\n            {isEnableTariff && (\r\n              <Button\r\n                icon={<Icons.IconFiles fill=\"currentColor\" />}\r\n                size={ButtonSizes.Small}\r\n                style={{ minWidth: 140 }}\r\n                onClick={() => setIsChangeTariff(true)}\r\n              >\r\n                Сменить тариф\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/** если флаг существует и это не постоплата */}\r\n      {typeof isPostpaid !== undefined && !isPostpaid && (\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Баланс тарифа:</div>\r\n          <div className=\"two-columns-center_value\">\r\n            {\r\n              <div>\r\n                {(Number(tariffBalance) / 100).toFixed(2)} {isPromotion ? 'док.' : 'р.'} из них\r\n                заблокировано {(Number(authorized) / 100).toFixed(2)} {isPromotion ? 'док.' : 'р.'}\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <ChangeBalanceModal\r\n        hide={() => setIsChangeBalance(false)}\r\n        isVisible={isChangeBalance}\r\n        title={changeBalanceTitle}\r\n        id={companyId}\r\n        isAdd={isAdd}\r\n      />\r\n      <BillModal\r\n        hide={() => setIsBill(false)}\r\n        isVisible={isBill}\r\n        id={companyId}\r\n        accountNumber={accountNumber!}\r\n      />\r\n      {tariffId && isCard && (\r\n        <TariffCard hide={() => setIsCard(false)} isVisible={isCard} tariffId={tariffId} />\r\n      )}\r\n      {tariffId && (\r\n        <ChangeTariffModal\r\n          hide={() => setIsChangeTariff(false)}\r\n          isVisible={isChangeTariff}\r\n          currentTariffId={tariffId}\r\n          companyId={companyId}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}