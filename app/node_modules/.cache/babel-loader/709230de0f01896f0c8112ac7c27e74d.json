{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ProcessorCertificateListItem from'../components/certificate/ProcessorCertificateListItem';import CertificateList from'../components/certificate/CertificateList';import NoCert from'../components/certificate/NoCert';import{Loading}from'@distate/components';import PluginError from'../components/certificate/PluginError';import classNames from'classnames';import Flash from'../../../common/flash/Flash';import DiError from'@distate/core/dist/application/error/Error';import{CERT_DISABLED_HINT,CERT_IS_OUTDATED_HINT}from'../../../common/Lbl';import Certificate from'@distate/core/dist/domain/common/Certificate';import{INIT,LIST_CERTS,CERT_INFO,CERT_IDS,CERT_INFO_ALL}from'@distate/core/dist/application/certificate/get/Steps';import{assert}from'chai';import{CERTS_ERR,PLUGIN_ERR}from'../../../common/Lbl';var CertFormBase=/*#__PURE__*/function(_Component){_inherits(CertFormBase,_Component);var _super=_createSuper(CertFormBase);function CertFormBase(props){var _this;_classCallCheck(this,CertFormBase);_this=_super.call(this,props);_this._isMounted=false;_this.state={currentCertIndex:0,selectedCertificate:null,certificates:[],isLoading:true,certificateError:'',errorMsg:''};_this.getCertByIndex=function(certificates,index){if(certificates.length===0)return'';if(index>=certificates.length)return'';if(index<0)return'';return certificates[index];};_this.getCertIndexByThumb=function(certificates,thumbprint){var certIndex=0;certificates.forEach(function(value,index){if(value.thumbprint===thumbprint){certIndex=index;}});return certIndex;};_this.renderCertificates=_this.renderCertificates.bind(_assertThisInitialized(_this));_this.handlePluginError=_this.handlePluginError.bind(_assertThisInitialized(_this));_this.selectCertificate=_this.selectCertificate.bind(_assertThisInitialized(_this));_this.handleCertsFromService=_this.handleCertsFromService.bind(_assertThisInitialized(_this));_this.listKeyDown=_this.listKeyDown.bind(_assertThisInitialized(_this));_this.submitBtnClasses=classNames({'ds-button':true,'color-primary':true,'height-large':true,'width-fluid-full':true});return _this;}_createClass(CertFormBase,[{key:\"resetCertificates\",value:function resetCertificates(){this.setState({currentCertIndex:0,isLoading:true});}},{key:\"handleCertsFromService\",value:function handleCertsFromService(certificates){if(this._isMounted){this.setState({certificates:certificates,selectedCertificate:this.getCertByIndex(certificates,this.state.currentCertIndex),isLoading:false,certificateError:''});}}},{key:\"listKeyDown\",value:function listKeyDown(event){var index=this.state.currentCertIndex;switch(event.key){case'Up':case'ArrowUp':index--;break;case'Down':case'ArrowDown':index++;break;default:return;}var cert=this.getCertByIndex(this.state.certificates,index);if(cert){this.setState({currentCertIndex:index,selectedCertificate:cert});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._isMounted=false;}},{key:\"selectCertificate\",value:function selectCertificate(event){var currentCertIndex=this.getCertIndexByThumb(this.state.certificates,event.currentTarget.dataset.id);this.setState({selectedCertificate:this.state.certificates[currentCertIndex],currentCertIndex:currentCertIndex});}},{key:\"getCertificateDisabledHint\",value:function getCertificateDisabledHint(certificate){assert.instanceOf(certificate,Certificate);if(certificate.isOutdated){return CERT_IS_OUTDATED_HINT;}else if(!certificate.isActive){return CERT_DISABLED_HINT;}else{return'';}}},{key:\"renderCertificates\",value:function renderCertificates(){var _this2=this;if(this.state.isLoading){return/*#__PURE__*/React.createElement(Loading,null);}if(this.state.certificates.length){var certs=this.state.certificates.map(function(certificate){var disabledHint=_this2.getCertificateDisabledHint(certificate);var isActive=!disabledHint;var isSelected=certificate.thumbprint===_this2.state.selectedCertificate.thumbprint;return ProcessorCertificateListItem.getTransformation(certificate,isSelected,_this2.selectCertificate,isActive,disabledHint);});return/*#__PURE__*/React.createElement(CertificateList,{listKeyDown:this.listKeyDown},certs);}if(this.state.certificateError){return/*#__PURE__*/React.createElement(PluginError,{errorText:this.state.certificateError,showLink:this.state.certificateError===INIT});}return this.renderNoCert();}},{key:\"renderNoCert\",value:function renderNoCert(){return/*#__PURE__*/React.createElement(NoCert,null);}},{key:\"handleErrorStep\",value:function handleErrorStep(error,defaultMessage){switch(error.jsError.step){case INIT:var errorMsg=defaultMessage;if(error.jsError.pluginName){errorMsg+=\" \".concat(error.jsError.pluginName);}return errorMsg;case LIST_CERTS:return null;case CERT_IDS:case CERT_INFO:case CERT_INFO_ALL:return CERTS_ERR;default:return defaultMessage;}}},{key:\"handlePluginError\",value:function handlePluginError(error){var errorMsg=PLUGIN_ERR;if(error instanceof DiError){if(error.jsError.step){errorMsg=this.handleErrorStep(error,errorMsg);}if(!error.jsError.pluginName){Flash.error(error);}}this.setState({isLoading:false,certificateError:errorMsg});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"span\",null,\"Must be rendered in subclass\");}}]);return CertFormBase;}(Component);export default CertFormBase;","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/auth/forms/CertFormBase.js"],"names":["React","Component","ProcessorCertificateListItem","CertificateList","NoCert","Loading","PluginError","classNames","Flash","DiError","CERT_DISABLED_HINT","CERT_IS_OUTDATED_HINT","Certificate","INIT","LIST_CERTS","CERT_INFO","CERT_IDS","CERT_INFO_ALL","assert","CERTS_ERR","PLUGIN_ERR","CertFormBase","props","_isMounted","state","currentCertIndex","selectedCertificate","certificates","isLoading","certificateError","errorMsg","getCertByIndex","index","length","getCertIndexByThumb","thumbprint","certIndex","forEach","value","renderCertificates","bind","handlePluginError","selectCertificate","handleCertsFromService","listKeyDown","submitBtnClasses","setState","event","key","cert","currentTarget","dataset","id","certificate","instanceOf","isOutdated","isActive","certs","map","disabledHint","getCertificateDisabledHint","isSelected","getTransformation","renderNoCert","error","defaultMessage","jsError","step","pluginName","handleErrorStep"],"mappings":"u1BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,4BAAP,KAAyC,wDAAzC,CACA,MAAOC,CAAAA,eAAP,KAA4B,2CAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,kCAAnB,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,uCAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,6BAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,4CAApB,CACA,OAASC,kBAAT,CAA6BC,qBAA7B,KAA0D,qBAA1D,CACA,MAAOC,CAAAA,WAAP,KAAwB,8CAAxB,CACA,OACEC,IADF,CAEEC,UAFF,CAGEC,SAHF,CAIEC,QAJF,CAKEC,aALF,KAMO,sDANP,CAOA,OAASC,MAAT,KAAuB,MAAvB,CACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,qBAAtC,C,GAEMC,CAAAA,Y,4GAEJ,sBAAYC,KAAZ,CAAmB,8CACjB,uBAAMA,KAAN,EADiB,MADnBC,UACmB,CADN,KACM,CAEjB,MAAKC,KAAL,CAAa,CACXC,gBAAgB,CAAE,CADP,CAEXC,mBAAmB,CAAE,IAFV,CAGXC,YAAY,CAAE,EAHH,CAIXC,SAAS,CAAE,IAJA,CAKXC,gBAAgB,CAAE,EALP,CAMXC,QAAQ,CAAE,EANC,CAAb,CASA,MAAKC,cAAL,CAAsB,SAACJ,YAAD,CAAeK,KAAf,CAAyB,CAC7C,GAAIL,YAAY,CAACM,MAAb,GAAwB,CAA5B,CAA+B,MAAO,EAAP,CAC/B,GAAID,KAAK,EAAIL,YAAY,CAACM,MAA1B,CAAkC,MAAO,EAAP,CAClC,GAAID,KAAK,CAAG,CAAZ,CAAe,MAAO,EAAP,CACf,MAAOL,CAAAA,YAAY,CAACK,KAAD,CAAnB,CACD,CALD,CAMA,MAAKE,mBAAL,CAA2B,SAACP,YAAD,CAAeQ,UAAf,CAA8B,CACvD,GAAIC,CAAAA,SAAS,CAAG,CAAhB,CACAT,YAAY,CAACU,OAAb,CAAqB,SAACC,KAAD,CAAQN,KAAR,CAAkB,CACrC,GAAIM,KAAK,CAACH,UAAN,GAAqBA,UAAzB,CAAqC,CACnCC,SAAS,CAAGJ,KAAZ,CACD,CACF,CAJD,EAKA,MAAOI,CAAAA,SAAP,CACD,CARD,CAUA,MAAKG,kBAAL,CAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,+BAA1B,CACA,MAAKC,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBD,IAAvB,+BAAzB,CACA,MAAKE,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBF,IAAvB,+BAAzB,CACA,MAAKG,sBAAL,CAA8B,MAAKA,sBAAL,CAA4BH,IAA5B,+BAA9B,CACA,MAAKI,WAAL,CAAmB,MAAKA,WAAL,CAAiBJ,IAAjB,+BAAnB,CAEA,MAAKK,gBAAL,CAAwBtC,UAAU,CAAC,CACjC,YAAa,IADoB,CAEjC,gBAAiB,IAFgB,CAGjC,eAAgB,IAHiB,CAIjC,mBAAoB,IAJa,CAAD,CAAlC,CAjCiB,aAuClB,C,sFACmB,CAClB,KAAKuC,QAAL,CAAc,CAAErB,gBAAgB,CAAE,CAApB,CAAuBG,SAAS,CAAE,IAAlC,CAAd,EACD,C,sEACsBD,Y,CAAc,CACnC,GAAI,KAAKJ,UAAT,CAAqB,CACnB,KAAKuB,QAAL,CAAc,CACZnB,YAAY,CAAZA,YADY,CAEZD,mBAAmB,CAAE,KAAKK,cAAL,CAAoBJ,YAApB,CAAkC,KAAKH,KAAL,CAAWC,gBAA7C,CAFT,CAGZG,SAAS,CAAE,KAHC,CAIZC,gBAAgB,CAAE,EAJN,CAAd,EAMD,CACF,C,gDACWkB,K,CAAO,CACjB,GAAIf,CAAAA,KAAK,CAAG,KAAKR,KAAL,CAAWC,gBAAvB,CAEA,OAAQsB,KAAK,CAACC,GAAd,EACE,IAAK,IAAL,CACA,IAAK,SAAL,CACEhB,KAAK,GACL,MACF,IAAK,MAAL,CACA,IAAK,WAAL,CACEA,KAAK,GACL,MACF,QACE,OAVJ,CAaA,GAAIiB,CAAAA,IAAI,CAAG,KAAKlB,cAAL,CAAoB,KAAKP,KAAL,CAAWG,YAA/B,CAA6CK,KAA7C,CAAX,CACA,GAAIiB,IAAJ,CAAU,CACR,KAAKH,QAAL,CAAc,CACZrB,gBAAgB,CAAEO,KADN,CAEZN,mBAAmB,CAAEuB,IAFT,CAAd,EAID,CACF,C,mEACsB,CACrB,KAAK1B,UAAL,CAAkB,KAAlB,CACD,C,4DACiBwB,K,CAAO,CACvB,GAAMtB,CAAAA,gBAAgB,CAAG,KAAKS,mBAAL,CACvB,KAAKV,KAAL,CAAWG,YADY,CAEvBoB,KAAK,CAACG,aAAN,CAAoBC,OAApB,CAA4BC,EAFL,CAAzB,CAIA,KAAKN,QAAL,CAAc,CACZpB,mBAAmB,CAAE,KAAKF,KAAL,CAAWG,YAAX,CAAwBF,gBAAxB,CADT,CAEZA,gBAAgB,CAAEA,gBAFN,CAAd,EAID,C,8EAC0B4B,W,CAAa,CACtCnC,MAAM,CAACoC,UAAP,CAAkBD,WAAlB,CAA+BzC,WAA/B,EACA,GAAIyC,WAAW,CAACE,UAAhB,CAA4B,CAC1B,MAAO5C,CAAAA,qBAAP,CACD,CAFD,IAEO,IAAI,CAAC0C,WAAW,CAACG,QAAjB,CAA2B,CAChC,MAAO9C,CAAAA,kBAAP,CACD,CAFM,IAEA,CACL,MAAO,EAAP,CACD,CACF,C,+DACoB,iBACnB,GAAI,KAAKc,KAAL,CAAWI,SAAf,CAA0B,CACxB,mBAAO,oBAAC,OAAD,MAAP,CACD,CACD,GAAI,KAAKJ,KAAL,CAAWG,YAAX,CAAwBM,MAA5B,CAAoC,CAClC,GAAMwB,CAAAA,KAAK,CAAG,KAAKjC,KAAL,CAAWG,YAAX,CAAwB+B,GAAxB,CAA4B,SAAAL,WAAW,CAAI,CACvD,GAAMM,CAAAA,YAAY,CAAG,MAAI,CAACC,0BAAL,CAAgCP,WAAhC,CAArB,CACA,GAAMG,CAAAA,QAAQ,CAAG,CAACG,YAAlB,CACA,GAAME,CAAAA,UAAU,CAAGR,WAAW,CAAClB,UAAZ,GAA2B,MAAI,CAACX,KAAL,CAAWE,mBAAX,CAA+BS,UAA7E,CAEA,MAAOjC,CAAAA,4BAA4B,CAAC4D,iBAA7B,CACLT,WADK,CAELQ,UAFK,CAGL,MAAI,CAACnB,iBAHA,CAILc,QAJK,CAKLG,YALK,CAAP,CAOD,CAZa,CAAd,CAaA,mBAAO,oBAAC,eAAD,EAAiB,WAAW,CAAE,KAAKf,WAAnC,EAAiDa,KAAjD,CAAP,CACD,CACD,GAAI,KAAKjC,KAAL,CAAWK,gBAAf,CAAiC,CAC/B,mBACE,oBAAC,WAAD,EACE,SAAS,CAAE,KAAKL,KAAL,CAAWK,gBADxB,CAEE,QAAQ,CAAE,KAAKL,KAAL,CAAWK,gBAAX,GAAgChB,IAF5C,EADF,CAMD,CACD,MAAO,MAAKkD,YAAL,EAAP,CACD,C,mDACc,CACb,mBAAO,oBAAC,MAAD,MAAP,CACD,C,wDACeC,K,CAAOC,c,CAAgB,CACrC,OAAQD,KAAK,CAACE,OAAN,CAAcC,IAAtB,EACE,IAAKtD,CAAAA,IAAL,CACE,GAAIiB,CAAAA,QAAQ,CAAGmC,cAAf,CACA,GAAID,KAAK,CAACE,OAAN,CAAcE,UAAlB,CAA8B,CAC5BtC,QAAQ,aAAQkC,KAAK,CAACE,OAAN,CAAcE,UAAtB,CAAR,CACD,CACD,MAAOtC,CAAAA,QAAP,CACF,IAAKhB,CAAAA,UAAL,CACE,MAAO,KAAP,CACF,IAAKE,CAAAA,QAAL,CACA,IAAKD,CAAAA,SAAL,CACA,IAAKE,CAAAA,aAAL,CACE,MAAOE,CAAAA,SAAP,CACF,QACE,MAAO8C,CAAAA,cAAP,CAdJ,CAgBD,C,4DACiBD,K,CAAO,CACvB,GAAIlC,CAAAA,QAAQ,CAAGV,UAAf,CAEA,GAAI4C,KAAK,WAAYvD,CAAAA,OAArB,CAA8B,CAC5B,GAAIuD,KAAK,CAACE,OAAN,CAAcC,IAAlB,CAAwB,CACtBrC,QAAQ,CAAG,KAAKuC,eAAL,CAAqBL,KAArB,CAA4BlC,QAA5B,CAAX,CACD,CACD,GAAI,CAACkC,KAAK,CAACE,OAAN,CAAcE,UAAnB,CAA+B,CAC7B5D,KAAK,CAACwD,KAAN,CAAYA,KAAZ,EACD,CACF,CACD,KAAKlB,QAAL,CAAc,CAAElB,SAAS,CAAE,KAAb,CAAoBC,gBAAgB,CAAEC,QAAtC,CAAd,EACD,C,uCACQ,CACP,mBAAO,+DAAP,CACD,C,0BAxKwB7B,S,EA2K3B,cAAeoB,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport ProcessorCertificateListItem from '../components/certificate/ProcessorCertificateListItem';\r\nimport CertificateList from '../components/certificate/CertificateList';\r\nimport NoCert from '../components/certificate/NoCert';\r\nimport { Loading } from '@distate/components';\r\nimport PluginError from '../components/certificate/PluginError';\r\nimport classNames from 'classnames';\r\nimport Flash from '../../../common/flash/Flash';\r\nimport DiError from '@distate/core/dist/application/error/Error';\r\nimport { CERT_DISABLED_HINT, CERT_IS_OUTDATED_HINT } from '../../../common/Lbl';\r\nimport Certificate from '@distate/core/dist/domain/common/Certificate';\r\nimport {\r\n  INIT,\r\n  LIST_CERTS,\r\n  CERT_INFO,\r\n  CERT_IDS,\r\n  CERT_INFO_ALL\r\n} from '@distate/core/dist/application/certificate/get/Steps';\r\nimport { assert } from 'chai';\r\nimport { CERTS_ERR, PLUGIN_ERR } from '../../../common/Lbl';\r\n\r\nclass CertFormBase extends Component {\r\n  _isMounted = false;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentCertIndex: 0,\r\n      selectedCertificate: null,\r\n      certificates: [],\r\n      isLoading: true,\r\n      certificateError: '',\r\n      errorMsg: ''\r\n    };\r\n\r\n    this.getCertByIndex = (certificates, index) => {\r\n      if (certificates.length === 0) return '';\r\n      if (index >= certificates.length) return '';\r\n      if (index < 0) return '';\r\n      return certificates[index];\r\n    };\r\n    this.getCertIndexByThumb = (certificates, thumbprint) => {\r\n      let certIndex = 0;\r\n      certificates.forEach((value, index) => {\r\n        if (value.thumbprint === thumbprint) {\r\n          certIndex = index;\r\n        }\r\n      });\r\n      return certIndex;\r\n    };\r\n\r\n    this.renderCertificates = this.renderCertificates.bind(this);\r\n    this.handlePluginError = this.handlePluginError.bind(this);\r\n    this.selectCertificate = this.selectCertificate.bind(this);\r\n    this.handleCertsFromService = this.handleCertsFromService.bind(this);\r\n    this.listKeyDown = this.listKeyDown.bind(this);\r\n\r\n    this.submitBtnClasses = classNames({\r\n      'ds-button': true,\r\n      'color-primary': true,\r\n      'height-large': true,\r\n      'width-fluid-full': true\r\n    });\r\n  }\r\n  resetCertificates() {\r\n    this.setState({ currentCertIndex: 0, isLoading: true });\r\n  }\r\n  handleCertsFromService(certificates) {\r\n    if (this._isMounted) {\r\n      this.setState({\r\n        certificates,\r\n        selectedCertificate: this.getCertByIndex(certificates, this.state.currentCertIndex),\r\n        isLoading: false,\r\n        certificateError: ''\r\n      });\r\n    }\r\n  }\r\n  listKeyDown(event) {\r\n    let index = this.state.currentCertIndex;\r\n\r\n    switch (event.key) {\r\n      case 'Up':\r\n      case 'ArrowUp':\r\n        index--;\r\n        break;\r\n      case 'Down':\r\n      case 'ArrowDown':\r\n        index++;\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    let cert = this.getCertByIndex(this.state.certificates, index);\r\n    if (cert) {\r\n      this.setState({\r\n        currentCertIndex: index,\r\n        selectedCertificate: cert\r\n      });\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n  selectCertificate(event) {\r\n    const currentCertIndex = this.getCertIndexByThumb(\r\n      this.state.certificates,\r\n      event.currentTarget.dataset.id\r\n    );\r\n    this.setState({\r\n      selectedCertificate: this.state.certificates[currentCertIndex],\r\n      currentCertIndex: currentCertIndex\r\n    });\r\n  }\r\n  getCertificateDisabledHint(certificate) {\r\n    assert.instanceOf(certificate, Certificate);\r\n    if (certificate.isOutdated) {\r\n      return CERT_IS_OUTDATED_HINT;\r\n    } else if (!certificate.isActive) {\r\n      return CERT_DISABLED_HINT;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n  renderCertificates() {\r\n    if (this.state.isLoading) {\r\n      return <Loading />;\r\n    }\r\n    if (this.state.certificates.length) {\r\n      const certs = this.state.certificates.map(certificate => {\r\n        const disabledHint = this.getCertificateDisabledHint(certificate);\r\n        const isActive = !disabledHint;\r\n        const isSelected = certificate.thumbprint === this.state.selectedCertificate.thumbprint;\r\n\r\n        return ProcessorCertificateListItem.getTransformation(\r\n          certificate,\r\n          isSelected,\r\n          this.selectCertificate,\r\n          isActive,\r\n          disabledHint\r\n        );\r\n      });\r\n      return <CertificateList listKeyDown={this.listKeyDown}>{certs}</CertificateList>;\r\n    }\r\n    if (this.state.certificateError) {\r\n      return (\r\n        <PluginError\r\n          errorText={this.state.certificateError}\r\n          showLink={this.state.certificateError === INIT}\r\n        />\r\n      );\r\n    }\r\n    return this.renderNoCert();\r\n  }\r\n  renderNoCert() {\r\n    return <NoCert />;\r\n  }\r\n  handleErrorStep(error, defaultMessage) {\r\n    switch (error.jsError.step) {\r\n      case INIT:\r\n        let errorMsg = defaultMessage;\r\n        if (error.jsError.pluginName) {\r\n          errorMsg += ` ${error.jsError.pluginName}`;\r\n        }\r\n        return errorMsg;\r\n      case LIST_CERTS:\r\n        return null;\r\n      case CERT_IDS:\r\n      case CERT_INFO:\r\n      case CERT_INFO_ALL:\r\n        return CERTS_ERR;\r\n      default:\r\n        return defaultMessage;\r\n    }\r\n  }\r\n  handlePluginError(error) {\r\n    let errorMsg = PLUGIN_ERR;\r\n\r\n    if (error instanceof DiError) {\r\n      if (error.jsError.step) {\r\n        errorMsg = this.handleErrorStep(error, errorMsg);\r\n      }\r\n      if (!error.jsError.pluginName) {\r\n        Flash.error(error);\r\n      }\r\n    }\r\n    this.setState({ isLoading: false, certificateError: errorMsg });\r\n  }\r\n  render() {\r\n    return <span>Must be rendered in subclass</span>;\r\n  }\r\n}\r\n\r\nexport default CertFormBase;\r\n"]},"metadata":{},"sourceType":"module"}