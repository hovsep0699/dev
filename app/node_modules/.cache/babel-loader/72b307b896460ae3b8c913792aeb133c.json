{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import classNames from'classnames';import DropdownMenu from'./DropdownMenu';import DropdownItem from'./DropdownItem';import DropdownHeader from'./DropdownHeader';import styles from'./Dropdown.module.css';import{BOTTOM,BOTTOM_LEFT,BOTTOM_RIGHT,LEFT,LEFT_BOTTOM,LEFT_TOP,RIGHT,RIGHT_BOTTOM,RIGHT_TOP,TOP,TOP_LEFT,TOP_RIGHT}from'../Placement';var Dropdown=/*#__PURE__*/function(_Component){_inherits(Dropdown,_Component);var _super=_createSuper(Dropdown);function Dropdown(props){var _this;_classCallCheck(this,Dropdown);_this=_super.call(this,props);_this.createHandleClickInside=function(onSelectCallback){return function(){if(onSelectCallback&&typeof onSelectCallback==='function'){onSelectCallback();}_this.close();};};_this.state={isOpen:false};_this.dropdownRef=React.createRef();_this.toggle=_this.toggle.bind(_assertThisInitialized(_this));_this.close=_this.close.bind(_assertThisInitialized(_this));_this.handleClickOutside=_this.handleClickOutside.bind(_assertThisInitialized(_this));_this.getTriggerComponent=_this.getTriggerComponent.bind(_assertThisInitialized(_this));return _this;}_createClass(Dropdown,[{key:\"toggle\",value:function toggle(){this.setState({isOpen:!this.state.isOpen});}},{key:\"close\",value:function close(){this.setState({isOpen:false});}},{key:\"handleClickOutside\",value:function handleClickOutside(e){if(this.dropdownRef.current.contains(e.target)){return;}this.close();}},{key:\"getTriggerComponent\",value:function getTriggerComponent(trigger){if(typeof trigger==='function'){return trigger(this.toggle);}else{return React.cloneElement(trigger,{onClick:this.toggle});}}},{key:\"extendChildrenWithNewProps\",value:function extendChildrenWithNewProps(children,newProps){return React.Children.map(children,function(child){return React.cloneElement(child,newProps);});}},{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener('mousedown',this.handleClickOutside);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.props===prevProps&&this.state===prevState){return;}if(this.state.isOpen===true){document.addEventListener('mousedown',this.handleClickOutside);}else{document.removeEventListener('mousedown',this.handleClickOutside);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('mousedown',this.handleClickOutside);}},{key:\"render\",value:function render(){var _classNames;var placement=this.props.placement;var dropdownWrapperClasses=classNames({'dropdown-menu':true,group:true,open:this.state.isOpen});var dropdownClasses=classNames((_classNames={dropdown:true,arrow:!this.props.noArrow},_defineProperty(_classNames,styles.widthRestrict,this.props.widthRestrict),_defineProperty(_classNames,styles.bottom,placement===BOTTOM),_defineProperty(_classNames,styles.bottomLeft,placement===BOTTOM_LEFT),_defineProperty(_classNames,styles.bottomRight,placement===BOTTOM_RIGHT),_defineProperty(_classNames,styles.top,placement===TOP),_defineProperty(_classNames,styles.topLeft,placement===TOP_LEFT),_defineProperty(_classNames,styles.topRight,placement===TOP_RIGHT),_defineProperty(_classNames,styles.left,placement===LEFT),_defineProperty(_classNames,styles.leftTop,placement===LEFT_TOP),_defineProperty(_classNames,styles.leftBottom,placement===LEFT_BOTTOM),_defineProperty(_classNames,styles.right,placement===RIGHT),_defineProperty(_classNames,styles.rightTop,placement===RIGHT_TOP),_defineProperty(_classNames,styles.rightBottom,placement===RIGHT_BOTTOM),_classNames));return/*#__PURE__*/React.createElement(\"div\",{className:dropdownWrapperClasses,ref:this.dropdownRef},this.getTriggerComponent(this.props.trigger),/*#__PURE__*/React.createElement(\"div\",{className:dropdownClasses},this.extendChildrenWithNewProps(this.props.children,{handleClick:this.createHandleClickInside})));}}]);return Dropdown;}(Component);Dropdown.Menu=DropdownMenu;Dropdown.Item=DropdownItem;Dropdown.Header=DropdownHeader;Dropdown.defaultProps={placement:BOTTOM_LEFT,noArrow:false};export default Dropdown;","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/common/dropdown/Dropdown.js"],"names":["React","Component","classNames","DropdownMenu","DropdownItem","DropdownHeader","styles","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","LEFT_BOTTOM","LEFT_TOP","RIGHT","RIGHT_BOTTOM","RIGHT_TOP","TOP","TOP_LEFT","TOP_RIGHT","Dropdown","props","createHandleClickInside","onSelectCallback","close","state","isOpen","dropdownRef","createRef","toggle","bind","handleClickOutside","getTriggerComponent","setState","e","current","contains","target","trigger","cloneElement","onClick","children","newProps","Children","map","child","document","addEventListener","prevProps","prevState","removeEventListener","placement","dropdownWrapperClasses","group","open","dropdownClasses","dropdown","arrow","noArrow","widthRestrict","bottom","bottomLeft","bottomRight","top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","extendChildrenWithNewProps","handleClick","Menu","Item","Header","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport DropdownMenu from './DropdownMenu';\r\nimport DropdownItem from './DropdownItem';\r\nimport DropdownHeader from './DropdownHeader';\r\nimport styles from './Dropdown.module.css';\r\nimport {\r\n  BOTTOM,\r\n  BOTTOM_LEFT,\r\n  BOTTOM_RIGHT,\r\n  LEFT,\r\n  LEFT_BOTTOM,\r\n  LEFT_TOP,\r\n  RIGHT,\r\n  RIGHT_BOTTOM,\r\n  RIGHT_TOP,\r\n  TOP,\r\n  TOP_LEFT,\r\n  TOP_RIGHT\r\n} from '../Placement';\r\n\r\nclass Dropdown extends Component {\r\n  static Menu = DropdownMenu;\r\n  static Item = DropdownItem;\r\n  static Header = DropdownHeader;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isOpen: false\r\n    };\r\n    this.dropdownRef = React.createRef();\r\n    this.toggle = this.toggle.bind(this);\r\n    this.close = this.close.bind(this);\r\n    this.handleClickOutside = this.handleClickOutside.bind(this);\r\n    this.getTriggerComponent = this.getTriggerComponent.bind(this);\r\n  }\r\n\r\n  toggle() {\r\n    this.setState({ isOpen: !this.state.isOpen });\r\n  }\r\n\r\n  close() {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  createHandleClickInside = onSelectCallback => () => {\r\n    if (onSelectCallback && typeof onSelectCallback === 'function') {\r\n      onSelectCallback();\r\n    }\r\n    this.close();\r\n  };\r\n\r\n  handleClickOutside(e) {\r\n    if (this.dropdownRef.current.contains(e.target)) {\r\n      return;\r\n    }\r\n    this.close();\r\n  }\r\n\r\n  getTriggerComponent(trigger) {\r\n    if (typeof trigger === 'function') {\r\n      return trigger(this.toggle);\r\n    } else {\r\n      return React.cloneElement(trigger, {\r\n        onClick: this.toggle\r\n      });\r\n    }\r\n  }\r\n\r\n  extendChildrenWithNewProps(children, newProps) {\r\n    return React.Children.map(children, child => React.cloneElement(child, newProps));\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props === prevProps && this.state === prevState) {\r\n      return;\r\n    }\r\n    if (this.state.isOpen === true) {\r\n      document.addEventListener('mousedown', this.handleClickOutside);\r\n    } else {\r\n      document.removeEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('mousedown', this.handleClickOutside);\r\n  }\r\n\r\n  render() {\r\n    const placement = this.props.placement;\r\n    const dropdownWrapperClasses = classNames({\r\n      'dropdown-menu': true,\r\n      group: true,\r\n      open: this.state.isOpen\r\n    });\r\n    const dropdownClasses = classNames({\r\n      dropdown: true,\r\n      arrow: !this.props.noArrow,\r\n      [styles.widthRestrict]: this.props.widthRestrict,\r\n      [styles.bottom]: placement === BOTTOM,\r\n      [styles.bottomLeft]: placement === BOTTOM_LEFT,\r\n      [styles.bottomRight]: placement === BOTTOM_RIGHT,\r\n      [styles.top]: placement === TOP,\r\n      [styles.topLeft]: placement === TOP_LEFT,\r\n      [styles.topRight]: placement === TOP_RIGHT,\r\n      [styles.left]: placement === LEFT,\r\n      [styles.leftTop]: placement === LEFT_TOP,\r\n      [styles.leftBottom]: placement === LEFT_BOTTOM,\r\n      [styles.right]: placement === RIGHT,\r\n      [styles.rightTop]: placement === RIGHT_TOP,\r\n      [styles.rightBottom]: placement === RIGHT_BOTTOM\r\n    });\r\n    return (\r\n      <div className={dropdownWrapperClasses} ref={this.dropdownRef}>\r\n        {this.getTriggerComponent(this.props.trigger)}\r\n        <div className={dropdownClasses}>\r\n          {this.extendChildrenWithNewProps(this.props.children, {\r\n            handleClick: this.createHandleClickInside\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDropdown.defaultProps = {\r\n  placement: BOTTOM_LEFT,\r\n  noArrow: false\r\n};\r\n\r\nDropdown.propTypes = {\r\n  placement: PropTypes.oneOf([\r\n    BOTTOM,\r\n    BOTTOM_LEFT,\r\n    BOTTOM_RIGHT,\r\n    TOP,\r\n    TOP_LEFT,\r\n    TOP_RIGHT,\r\n    LEFT,\r\n    LEFT_TOP,\r\n    LEFT_BOTTOM,\r\n    RIGHT,\r\n    RIGHT_TOP,\r\n    RIGHT_BOTTOM\r\n  ]),\r\n  trigger: PropTypes.oneOfType([PropTypes.func, PropTypes.element]).isRequired,\r\n  noArrow: PropTypes.bool,\r\n  widthRestrict: PropTypes.bool\r\n};\r\n\r\nexport default Dropdown;\r\n"]},"metadata":{},"sourceType":"module"}