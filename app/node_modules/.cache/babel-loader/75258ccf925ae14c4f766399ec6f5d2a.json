{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(personsEffect),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getPersonsWorker);import{takeLatest,put}from'redux-saga/effects';import SystemGateway from'@distate/core/dist/application/system/SystemGateway';import{getPersons,setPersons}from'../actions';import{Flash}from'../../../../common/flash';export function personsEffect(){return _regeneratorRuntime.wrap(function personsEffect$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(getPersons,getPersonsWorker);case 2:case\"end\":return _context.stop();}}},_marked);}/** получение информации о физ-лицах */function getPersonsWorker(_ref){var payload,systemGateway,persons;return _regeneratorRuntime.wrap(function getPersonsWorker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref.payload;_context2.prev=1;systemGateway=new SystemGateway();_context2.next=5;return systemGateway.personList(payload);case 5:persons=_context2.sent;_context2.next=8;return put(setPersons({persons:persons}));case 8:_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);_context2.next=14;return Flash.error('Произошла ошибка');case 14:case\"end\":return _context2.stop();}}},_marked2,null,[[1,10]]);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/system/store/sagas/persons.saga.ts"],"names":["personsEffect","getPersonsWorker","takeLatest","put","SystemGateway","getPersons","setPersons","Flash","payload","systemGateway","personList","persons","error"],"mappings":"oNAMiBA,a,iDAKPC,gB,EAXV,OAASC,UAAT,CAAqBC,GAArB,KAAgC,oBAAhC,CACA,MAAOC,CAAAA,aAAP,KAA0B,qDAA1B,CAEA,OAASC,UAAT,CAAqBC,UAArB,KAAuC,YAAvC,CACA,OAASC,KAAT,KAAsB,0BAAtB,CAEA,MAAO,SAAUP,CAAAA,aAAV,yIACL,MAAME,CAAAA,UAAU,CAACG,UAAD,CAAaJ,gBAAb,CAAhB,CADK,sDAIP,uCACA,QAAUA,CAAAA,gBAAV,qKAA6BO,OAA7B,MAA6BA,OAA7B,kBAEUC,aAFV,CAE0B,GAAIL,CAAAA,aAAJ,EAF1B,kBAGoB,MAAMK,CAAAA,aAAa,CAACC,UAAd,CAAyBF,OAAzB,CAAN,CAHpB,OAGUG,OAHV,iCAII,MAAMR,CAAAA,GAAG,CAACG,UAAU,CAAC,CAAEK,OAAO,CAAPA,OAAF,CAAD,CAAX,CAAT,CAJJ,8GAMI,MAAMJ,CAAAA,KAAK,CAACK,KAAN,CAAY,kBAAZ,CAAN,CANJ","sourcesContent":["import { takeLatest, put } from 'redux-saga/effects';\r\nimport SystemGateway from '@distate/core/dist/application/system/SystemGateway';\r\n\r\nimport { getPersons, setPersons } from '../actions';\r\nimport { Flash } from '../../../../common/flash';\r\n\r\nexport function* personsEffect() {\r\n  yield takeLatest(getPersons, getPersonsWorker);\r\n}\r\n\r\n/** получение информации о физ-лицах */\r\nfunction* getPersonsWorker({ payload }: { payload: {} }) {\r\n  try {\r\n    const systemGateway = new SystemGateway();\r\n    const persons = yield systemGateway.personList(payload);\r\n    yield put(setPersons({ persons }));\r\n  } catch (error) {\r\n    yield Flash.error('Произошла ошибка');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}