{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import{Modal}from'@distate/components';import{NavLink}from'react-router-dom';import{getCompanyInfo}from'../../../../contractors/store/actions';import{nameCompanySelector,diServerIdCompanySelector,innCompanySelector,ogrnCompanySelector,taxAuthorityTitleCompanySelector,taxAuthorityCodeCompanySelector,addressCountryTitleCompanySelector,addressRegionTitleCompanySelector,addressPostalCodeCompanySelector,addressDistrictCompanySelector,addressCityCompanySelector,addressSettlementCompanySelector,addressStreetCompanySelector,addressHouseCompanySelector,addressBuildingCompanySelector,addressRoomCompanySelector,bankBikCompanySelector,bankTitleSelector,accountNumberCompanySelector,kppCompanySelector,tariffTitleSelector}from'../../../store/selects';import{Staff}from'./Staff';/** Карточка контрагента ЮЛ */export var Card=function Card(props){var isVisible=props.isVisible,_hide=props.hide,companyId=props.companyId;var dispatch=useDispatch();// const company = useSelector(currentCompanySelector);\nvar name=useSelector(nameCompanySelector);var diServerId=useSelector(diServerIdCompanySelector);var inn=useSelector(innCompanySelector);var ogrn=useSelector(ogrnCompanySelector);var taxAuthorityTitle=useSelector(taxAuthorityTitleCompanySelector);var taxAuthorityCode=useSelector(taxAuthorityCodeCompanySelector);var addressCountryTitle=useSelector(addressCountryTitleCompanySelector);var addressRegionTitle=useSelector(addressRegionTitleCompanySelector);var addressPostalCode=useSelector(addressPostalCodeCompanySelector);var addressDistrict=useSelector(addressDistrictCompanySelector);var addressCity=useSelector(addressCityCompanySelector);var addressSettlement=useSelector(addressSettlementCompanySelector);var addressStreet=useSelector(addressStreetCompanySelector);var addressHouse=useSelector(addressHouseCompanySelector);var addressBuilding=useSelector(addressBuildingCompanySelector);var addressRoom=useSelector(addressRoomCompanySelector);var bankBik=useSelector(bankBikCompanySelector);var bankTitle=useSelector(bankTitleSelector);var accountNumber=useSelector(accountNumberCompanySelector);var kpp=useSelector(kppCompanySelector);var tariffTitle=useSelector(tariffTitleSelector);var address=[addressCountryTitle,addressPostalCode,addressRegionTitle,addressDistrict,addressCity,addressSettlement,addressStreet,addressHouse,addressBuilding,addressRoom].filter(function(item){return item;}).join(', ');React.useEffect(function(){/** получение информации о контрагенте */companyId&&dispatch(getCompanyInfo(companyId));},[dispatch,companyId]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{hide:function hide(){return _hide();},isVisible:isVisible},/*#__PURE__*/React.createElement(Modal.Header,{title:name}),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"table\",{className:\"natural-entity-card-table\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{align:\"right\"},\"\\u0418\\u0434\\u0435\\u043D\\u0442\\u0438\\u0444\\u0438\\u043A\\u0430\\u0442\\u043E\\u0440 \\u042D\\u0414\\u041E\"),/*#__PURE__*/React.createElement(\"td\",null,diServerId)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{align:\"right\"},\"\\u0418\\u041D\\u041D\",kpp&&'/КПП'),/*#__PURE__*/React.createElement(\"td\",null,inn,kpp&&\" / \".concat(kpp))),ogrn&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{align:\"right\"},\"\\u041E\\u0413\\u0420\\u041D\"),/*#__PURE__*/React.createElement(\"td\",null,ogrn)),taxAuthorityCode&&taxAuthorityTitle&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{align:\"right\"},\"\\u041A\\u043E\\u0434 \\u043D\\u0430\\u043B\\u043E\\u0433\\u043E\\u0432\\u043E\\u0433\\u043E \\u043E\\u0440\\u0433\\u0430\\u043D\\u0430\"),/*#__PURE__*/React.createElement(\"td\",null,taxAuthorityCode&&taxAuthorityCode+' ',taxAuthorityTitle&&taxAuthorityTitle+' ')),Boolean(address)&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{align:\"right\"},\"\\u0410\\u0434\\u0440\\u0435\\u0441\"),/*#__PURE__*/React.createElement(\"td\",null,address)),bankBik&&bankTitle&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{align:\"right\"},\"\\u0411\\u0418\\u041A\"),/*#__PURE__*/React.createElement(\"td\",null,bankBik,\" - \",bankTitle)),accountNumber&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{align:\"right\"},\"\\u0420\\u0430\\u0441\\u0441\\u0447\\u0435\\u0442\\u043D\\u044B\\u0439 \\u0441\\u0447\\u0435\\u0442\"),/*#__PURE__*/React.createElement(\"td\",null,accountNumber)),tariffTitle&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{align:\"right\"},\"\\u0422\\u0430\\u0440\\u0438\\u0444\"),/*#__PURE__*/React.createElement(\"td\",null,tariffTitle)))),/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'center',padding:25}},/*#__PURE__*/React.createElement(NavLink,{to:\"/finance/information/\".concat(companyId)},\"\\u0424\\u0438\\u043D\\u0430\\u043D\\u0441\\u043E\\u0432\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\")),/*#__PURE__*/React.createElement(Staff,{companyId:companyId}))));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/system/components/companies/card/Card.tsx"],"names":["React","useDispatch","useSelector","Modal","NavLink","getCompanyInfo","nameCompanySelector","diServerIdCompanySelector","innCompanySelector","ogrnCompanySelector","taxAuthorityTitleCompanySelector","taxAuthorityCodeCompanySelector","addressCountryTitleCompanySelector","addressRegionTitleCompanySelector","addressPostalCodeCompanySelector","addressDistrictCompanySelector","addressCityCompanySelector","addressSettlementCompanySelector","addressStreetCompanySelector","addressHouseCompanySelector","addressBuildingCompanySelector","addressRoomCompanySelector","bankBikCompanySelector","bankTitleSelector","accountNumberCompanySelector","kppCompanySelector","tariffTitleSelector","Staff","Card","props","isVisible","hide","companyId","dispatch","name","diServerId","inn","ogrn","taxAuthorityTitle","taxAuthorityCode","addressCountryTitle","addressRegionTitle","addressPostalCode","addressDistrict","addressCity","addressSettlement","addressStreet","addressHouse","addressBuilding","addressRoom","bankBik","bankTitle","accountNumber","kpp","tariffTitle","address","filter","item","join","useEffect","Boolean","display","justifyContent","padding"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,KAAT,KAAsB,qBAAtB,CACA,OAASC,OAAT,KAAwB,kBAAxB,CAEA,OAASC,cAAT,KAA+B,uCAA/B,CACA,OACEC,mBADF,CAEEC,yBAFF,CAGEC,kBAHF,CAIEC,mBAJF,CAKEC,gCALF,CAMEC,+BANF,CAOEC,kCAPF,CAQEC,iCARF,CASEC,gCATF,CAUEC,8BAVF,CAWEC,0BAXF,CAYEC,gCAZF,CAaEC,4BAbF,CAcEC,2BAdF,CAeEC,8BAfF,CAgBEC,0BAhBF,CAiBEC,sBAjBF,CAkBEC,iBAlBF,CAmBEC,4BAnBF,CAoBEC,kBApBF,CAqBEC,mBArBF,KAsBO,wBAtBP,CAuBA,OAASC,KAAT,KAAsB,SAAtB,CAQA,8BACA,MAAO,IAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAkB,IAC5BC,CAAAA,SAD4B,CACGD,KADH,CAC5BC,SAD4B,CACjBC,KADiB,CACGF,KADH,CACjBE,IADiB,CACXC,SADW,CACGH,KADH,CACXG,SADW,CAEpC,GAAMC,CAAAA,QAAQ,CAAGhC,WAAW,EAA5B,CAEA;AAEA,GAAMiC,CAAAA,IAAI,CAAGhC,WAAW,CAACI,mBAAD,CAAxB,CACA,GAAM6B,CAAAA,UAAU,CAAGjC,WAAW,CAACK,yBAAD,CAA9B,CACA,GAAM6B,CAAAA,GAAG,CAAGlC,WAAW,CAACM,kBAAD,CAAvB,CAEA,GAAM6B,CAAAA,IAAI,CAAGnC,WAAW,CAACO,mBAAD,CAAxB,CACA,GAAM6B,CAAAA,iBAAiB,CAAGpC,WAAW,CAACQ,gCAAD,CAArC,CACA,GAAM6B,CAAAA,gBAAgB,CAAGrC,WAAW,CAACS,+BAAD,CAApC,CACA,GAAM6B,CAAAA,mBAAmB,CAAGtC,WAAW,CAACU,kCAAD,CAAvC,CACA,GAAM6B,CAAAA,kBAAkB,CAAGvC,WAAW,CAACW,iCAAD,CAAtC,CACA,GAAM6B,CAAAA,iBAAiB,CAAGxC,WAAW,CAACY,gCAAD,CAArC,CAEA,GAAM6B,CAAAA,eAAe,CAAGzC,WAAW,CAACa,8BAAD,CAAnC,CACA,GAAM6B,CAAAA,WAAW,CAAG1C,WAAW,CAACc,0BAAD,CAA/B,CACA,GAAM6B,CAAAA,iBAAiB,CAAG3C,WAAW,CAACe,gCAAD,CAArC,CACA,GAAM6B,CAAAA,aAAa,CAAG5C,WAAW,CAACgB,4BAAD,CAAjC,CACA,GAAM6B,CAAAA,YAAY,CAAG7C,WAAW,CAACiB,2BAAD,CAAhC,CACA,GAAM6B,CAAAA,eAAe,CAAG9C,WAAW,CAACkB,8BAAD,CAAnC,CACA,GAAM6B,CAAAA,WAAW,CAAG/C,WAAW,CAACmB,0BAAD,CAA/B,CACA,GAAM6B,CAAAA,OAAO,CAAGhD,WAAW,CAACoB,sBAAD,CAA3B,CACA,GAAM6B,CAAAA,SAAS,CAAGjD,WAAW,CAACqB,iBAAD,CAA7B,CACA,GAAM6B,CAAAA,aAAa,CAAGlD,WAAW,CAACsB,4BAAD,CAAjC,CACA,GAAM6B,CAAAA,GAAG,CAAGnD,WAAW,CAACuB,kBAAD,CAAvB,CACA,GAAM6B,CAAAA,WAAW,CAAGpD,WAAW,CAACwB,mBAAD,CAA/B,CAEA,GAAM6B,CAAAA,OAA2B,CAAG,CAClCf,mBADkC,CAElCE,iBAFkC,CAGlCD,kBAHkC,CAIlCE,eAJkC,CAKlCC,WALkC,CAMlCC,iBANkC,CAOlCC,aAPkC,CAQlCC,YARkC,CASlCC,eATkC,CAUlCC,WAVkC,EAYjCO,MAZiC,CAY1B,SAAAC,IAAI,QAAIA,CAAAA,IAAJ,EAZsB,EAajCC,IAbiC,CAa5B,IAb4B,CAApC,CAeA1D,KAAK,CAAC2D,SAAN,CAAgB,UAAM,CACpB,yCACA3B,SAAS,EAAIC,QAAQ,CAAC5B,cAAc,CAAC2B,SAAD,CAAf,CAArB,CACD,CAHD,CAGG,CAACC,QAAD,CAAWD,SAAX,CAHH,EAKA,mBACE,qDACE,oBAAC,KAAD,EAAO,IAAI,CAAE,sBAAMD,CAAAA,KAAI,EAAV,EAAb,CAA2B,SAAS,CAAED,SAAtC,eACE,oBAAC,KAAD,CAAO,MAAP,EAAc,KAAK,CAAEI,IAArB,EADF,cAEE,oBAAC,KAAD,CAAO,IAAP,mBACE,6BAAO,SAAS,CAAC,2BAAjB,eACE,8CACE,2CACE,0BAAI,KAAK,CAAC,OAAV,sGADF,cAEE,8BAAKC,UAAL,CAFF,CADF,cAKE,2CAEE,0BAAI,KAAK,CAAC,OAAV,uBAAsBkB,GAAG,EAAI,MAA7B,CAFF,cAGE,8BACGjB,GADH,CAEGiB,GAAG,eAAUA,GAAV,CAFN,CAHF,CALF,CAaGhB,IAAI,eACH,2CACE,0BAAI,KAAK,CAAC,OAAV,6BADF,cAEE,8BAAKA,IAAL,CAFF,CAdJ,CAmBGE,gBAAgB,EAAID,iBAApB,eACC,2CACE,0BAAI,KAAK,CAAC,OAAV,yHADF,cAEE,8BACGC,gBAAgB,EAAIA,gBAAgB,CAAG,GAD1C,CAEGD,iBAAiB,EAAIA,iBAAiB,CAAG,GAF5C,CAFF,CApBJ,CA4BGsB,OAAO,CAACL,OAAD,CAAP,eACC,2CACE,0BAAI,KAAK,CAAC,OAAV,mCADF,cAEE,8BAAKA,OAAL,CAFF,CA7BJ,CAkCGL,OAAO,EAAIC,SAAX,eACC,2CACE,0BAAI,KAAK,CAAC,OAAV,uBADF,cAEE,8BACGD,OADH,OACeC,SADf,CAFF,CAnCJ,CA0CGC,aAAa,eACZ,2CACE,0BAAI,KAAK,CAAC,OAAV,0FADF,cAEE,8BAAKA,aAAL,CAFF,CA3CJ,CAgDGE,WAAW,eACV,2CACE,0BAAI,KAAK,CAAC,OAAV,mCADF,cAEE,8BAAKA,WAAL,CAFF,CAjDJ,CADF,CADF,cA2DE,2BAAK,KAAK,CAAE,CAAEO,OAAO,CAAE,MAAX,CAAmBC,cAAc,CAAE,QAAnC,CAA6CC,OAAO,CAAE,EAAtD,CAAZ,eACE,oBAAC,OAAD,EAAS,EAAE,gCAA0B/B,SAA1B,CAAX,8HADF,CA3DF,cA8DE,oBAAC,KAAD,EAAO,SAAS,CAAEA,SAAlB,EA9DF,CAFF,CADF,CADF,CAuED,CAzHM","sourcesContent":["import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Modal } from '@distate/components';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { getCompanyInfo } from '../../../../contractors/store/actions';\r\nimport {\r\n  nameCompanySelector,\r\n  diServerIdCompanySelector,\r\n  innCompanySelector,\r\n  ogrnCompanySelector,\r\n  taxAuthorityTitleCompanySelector,\r\n  taxAuthorityCodeCompanySelector,\r\n  addressCountryTitleCompanySelector,\r\n  addressRegionTitleCompanySelector,\r\n  addressPostalCodeCompanySelector,\r\n  addressDistrictCompanySelector,\r\n  addressCityCompanySelector,\r\n  addressSettlementCompanySelector,\r\n  addressStreetCompanySelector,\r\n  addressHouseCompanySelector,\r\n  addressBuildingCompanySelector,\r\n  addressRoomCompanySelector,\r\n  bankBikCompanySelector,\r\n  bankTitleSelector,\r\n  accountNumberCompanySelector,\r\n  kppCompanySelector,\r\n  tariffTitleSelector\r\n} from '../../../store/selects';\r\nimport { Staff } from './Staff';\r\n\r\ntype Props = {\r\n  isVisible: boolean;\r\n  hide: () => void;\r\n  companyId: number;\r\n};\r\n\r\n/** Карточка контрагента ЮЛ */\r\nexport const Card = (props: Props) => {\r\n  const { isVisible, hide, companyId } = props;\r\n  const dispatch = useDispatch();\r\n\r\n  // const company = useSelector(currentCompanySelector);\r\n\r\n  const name = useSelector(nameCompanySelector);\r\n  const diServerId = useSelector(diServerIdCompanySelector);\r\n  const inn = useSelector(innCompanySelector);\r\n\r\n  const ogrn = useSelector(ogrnCompanySelector);\r\n  const taxAuthorityTitle = useSelector(taxAuthorityTitleCompanySelector);\r\n  const taxAuthorityCode = useSelector(taxAuthorityCodeCompanySelector);\r\n  const addressCountryTitle = useSelector(addressCountryTitleCompanySelector);\r\n  const addressRegionTitle = useSelector(addressRegionTitleCompanySelector);\r\n  const addressPostalCode = useSelector(addressPostalCodeCompanySelector);\r\n\r\n  const addressDistrict = useSelector(addressDistrictCompanySelector);\r\n  const addressCity = useSelector(addressCityCompanySelector);\r\n  const addressSettlement = useSelector(addressSettlementCompanySelector);\r\n  const addressStreet = useSelector(addressStreetCompanySelector);\r\n  const addressHouse = useSelector(addressHouseCompanySelector);\r\n  const addressBuilding = useSelector(addressBuildingCompanySelector);\r\n  const addressRoom = useSelector(addressRoomCompanySelector);\r\n  const bankBik = useSelector(bankBikCompanySelector);\r\n  const bankTitle = useSelector(bankTitleSelector);\r\n  const accountNumber = useSelector(accountNumberCompanySelector);\r\n  const kpp = useSelector(kppCompanySelector);\r\n  const tariffTitle = useSelector(tariffTitleSelector);\r\n\r\n  const address: string | undefined = [\r\n    addressCountryTitle,\r\n    addressPostalCode,\r\n    addressRegionTitle,\r\n    addressDistrict,\r\n    addressCity,\r\n    addressSettlement,\r\n    addressStreet,\r\n    addressHouse,\r\n    addressBuilding,\r\n    addressRoom\r\n  ]\r\n    .filter(item => item)\r\n    .join(', ');\r\n\r\n  React.useEffect(() => {\r\n    /** получение информации о контрагенте */\r\n    companyId && dispatch(getCompanyInfo(companyId));\r\n  }, [dispatch, companyId]);\r\n\r\n  return (\r\n    <>\r\n      <Modal hide={() => hide()} isVisible={isVisible}>\r\n        <Modal.Header title={name} />\r\n        <Modal.Body>\r\n          <table className=\"natural-entity-card-table\">\r\n            <tbody>\r\n              <tr>\r\n                <td align=\"right\">Идентификатор ЭДО</td>\r\n                <td>{diServerId}</td>\r\n              </tr>\r\n              <tr>\r\n                {/** у ИП нет КПП */}\r\n                <td align=\"right\">ИНН{kpp && '/КПП'}</td>\r\n                <td>\r\n                  {inn}\r\n                  {kpp && ` / ${kpp}`}\r\n                </td>\r\n              </tr>\r\n              {ogrn && (\r\n                <tr>\r\n                  <td align=\"right\">ОГРН</td>\r\n                  <td>{ogrn}</td>\r\n                </tr>\r\n              )}\r\n              {taxAuthorityCode && taxAuthorityTitle && (\r\n                <tr>\r\n                  <td align=\"right\">Код налогового органа</td>\r\n                  <td>\r\n                    {taxAuthorityCode && taxAuthorityCode + ' '}\r\n                    {taxAuthorityTitle && taxAuthorityTitle + ' '}\r\n                  </td>\r\n                </tr>\r\n              )}\r\n              {Boolean(address) && (\r\n                <tr>\r\n                  <td align=\"right\">Адрес</td>\r\n                  <td>{address}</td>\r\n                </tr>\r\n              )}\r\n              {bankBik && bankTitle && (\r\n                <tr>\r\n                  <td align=\"right\">БИК</td>\r\n                  <td>\r\n                    {bankBik} - {bankTitle}\r\n                  </td>\r\n                </tr>\r\n              )}\r\n              {accountNumber && (\r\n                <tr>\r\n                  <td align=\"right\">Рассчетный счет</td>\r\n                  <td>{accountNumber}</td>\r\n                </tr>\r\n              )}\r\n              {tariffTitle && (\r\n                <tr>\r\n                  <td align=\"right\">Тариф</td>\r\n                  <td>{tariffTitle}</td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n\r\n          <div style={{ display: 'flex', justifyContent: 'center', padding: 25 }}>\r\n            <NavLink to={`/finance/information/${companyId}`}>Финансовая информация</NavLink>\r\n          </div>\r\n          <Staff companyId={companyId} />\r\n        </Modal.Body>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}