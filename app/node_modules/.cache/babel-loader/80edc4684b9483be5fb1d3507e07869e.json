{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\n\nvar EventManager = /*#__PURE__*/function () {\n  function EventManager() {\n    _classCallCheck(this, EventManager);\n\n    this.channels = new Map();\n  }\n\n  _createClass(EventManager, [{\n    key: \"subscribe\",\n    value: function subscribe(eventType, listener) {\n      var listeners = [];\n\n      if (this.channels.has(eventType)) {\n        listener = this.channels.get(eventType);\n      }\n\n      listeners.push(listener);\n      console.log(eventType, listener);\n      this.channels.set(eventType, listeners);\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(eventType, listener) {\n      if (!this.channels.has(eventType)) return;\n      var listeners = this.channels.get(eventType);\n      var listenerIndex = listeners.indexOf(listener);\n      if (listenerIndex === -1) return;\n      listeners.splice(listenerIndex, 1);\n\n      if (listeners.length) {\n        this.channels.set(eventType, listeners);\n        return;\n      }\n\n      this.channels.delete(eventType);\n    }\n  }, {\n    key: \"notify\",\n    value: function notify(eventType) {\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      if (!this.channels.has(eventType)) return;\n      var listeners = this.channels.get(eventType);\n      listeners.forEach(function (listener) {\n        return listener.apply(void 0, rest);\n      });\n    }\n  }]);\n\n  return EventManager;\n}();\n\nexport default EventManager;","map":{"version":3,"sources":["../../src/application/EventManager.ts"],"names":[],"mappings":";;;IAEM,Y;AAGJ,0BAAA;AAAA;;AACE,SAAK,QAAL,GAAgB,IAAI,GAAJ,EAAhB;AACD;;;;8BAES,S,EAAmB,Q,EAAkB;AAC7C,UAAI,SAAS,GAAQ,EAArB;;AACA,UAAI,KAAK,QAAL,CAAc,GAAd,CAAkB,SAAlB,CAAJ,EAAkC;AAChC,QAAA,QAAQ,GAAG,KAAK,QAAL,CAAc,GAAd,CAAkB,SAAlB,CAAX;AACD;;AAED,MAAA,SAAS,CAAC,IAAV,CAAe,QAAf;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,SAAZ,EAAuB,QAAvB;AACA,WAAK,QAAL,CAAc,GAAd,CAAkB,SAAlB,EAA6B,SAA7B;AACD;;;gCAEW,S,EAAmB,Q,EAAkB;AAC/C,UAAI,CAAC,KAAK,QAAL,CAAc,GAAd,CAAkB,SAAlB,CAAL,EAAmC;AAEnC,UAAM,SAAS,GAAG,KAAK,QAAL,CAAc,GAAd,CAAkB,SAAlB,CAAlB;AACA,UAAM,aAAa,GAAG,SAAS,CAAC,OAAV,CAAkB,QAAlB,CAAtB;AACA,UAAI,aAAa,KAAK,CAAC,CAAvB,EAA0B;AAE1B,MAAA,SAAS,CAAC,MAAV,CAAiB,aAAjB,EAAgC,CAAhC;;AACA,UAAI,SAAS,CAAC,MAAd,EAAsB;AACpB,aAAK,QAAL,CAAc,GAAd,CAAkB,SAAlB,EAA6B,SAA7B;AACA;AACD;;AAED,WAAK,QAAL,CAAc,MAAd,CAAqB,SAArB;AACD;;;2BAEM,S,EAA+B;AAAA,wCAAT,IAAS;AAAT,QAAA,IAAS;AAAA;;AACpC,UAAI,CAAC,KAAK,QAAL,CAAc,GAAd,CAAkB,SAAlB,CAAL,EAAmC;AACnC,UAAM,SAAS,GAAG,KAAK,QAAL,CAAc,GAAd,CAAkB,SAAlB,CAAlB;AACA,MAAA,SAAS,CAAC,OAAV,CAAkB,UAAC,QAAD;AAAA,eAAwB,QAAQ,MAAR,SAAY,IAAZ,CAAxB;AAAA,OAAlB;AACD;;;;;;AAGH,eAAe,YAAf","sourceRoot":"","sourcesContent":["class EventManager {\r\n    constructor() {\r\n        this.channels = new Map();\r\n    }\r\n    subscribe(eventType, listener) {\r\n        let listeners = [];\r\n        if (this.channels.has(eventType)) {\r\n            listener = this.channels.get(eventType);\r\n        }\r\n        listeners.push(listener);\r\n        console.log(eventType, listener);\r\n        this.channels.set(eventType, listeners);\r\n    }\r\n    unsubscribe(eventType, listener) {\r\n        if (!this.channels.has(eventType))\r\n            return;\r\n        const listeners = this.channels.get(eventType);\r\n        const listenerIndex = listeners.indexOf(listener);\r\n        if (listenerIndex === -1)\r\n            return;\r\n        listeners.splice(listenerIndex, 1);\r\n        if (listeners.length) {\r\n            this.channels.set(eventType, listeners);\r\n            return;\r\n        }\r\n        this.channels.delete(eventType);\r\n    }\r\n    notify(eventType, ...rest) {\r\n        if (!this.channels.has(eventType))\r\n            return;\r\n        const listeners = this.channels.get(eventType);\r\n        listeners.forEach((listener) => listener(...rest));\r\n    }\r\n}\r\nexport default EventManager;\r\n//# sourceMappingURL=EventManager.js.map"]},"metadata":{},"sourceType":"module"}