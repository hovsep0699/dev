{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(ducumentSearchSubmit),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(sagaSearchSubmit),_marked3=/*#__PURE__*/_regeneratorRuntime.mark(ducumentSearchClear),_marked4=/*#__PURE__*/_regeneratorRuntime.mark(sagaSearchClear);import{takeLatest,put,select}from'redux-saga/effects';import{actionSearchSubmit,actionSearchClear}from'../../../../container/filter/store/actions';import{selectPathName}from'../../../../store/selects';import{DOCUMENT}from'../../../../common/Url';import{actionDocumentRequest,actionDocumentFilter}from'../actions';import{selectFilter,selectMode}from'../selects';// Search Submit\n// ----------------\nexport function ducumentSearchSubmit(){return _regeneratorRuntime.wrap(function ducumentSearchSubmit$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(actionSearchSubmit,sagaSearchSubmit);case 2:case\"end\":return _context.stop();}}},_marked);}function sagaSearchSubmit(_ref){var formData,pathname,mode,_yield$select,labels,filter,message;return _regeneratorRuntime.wrap(function sagaSearchSubmit$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formData=_ref.payload.formData;_context2.next=3;return select(selectPathName);case 3:pathname=_context2.sent;if(!(pathname.substr(0,DOCUMENT.length)!==DOCUMENT)){_context2.next=6;break;}return _context2.abrupt(\"return\");case 6:_context2.next=8;return select(selectMode);case 8:mode=_context2.sent;_context2.next=11;return select(selectFilter);case 11:_yield$select=_context2.sent;labels=_yield$select.labels;filter={};if(labels){filter['labels']=labels;}if(mode!=='folder'&&mode!=='redirect'){filter['documentStatuses']=[mode];}filter=_objectSpread(_objectSpread({},filter),formData);_context2.next=19;return put(actionDocumentFilter({filter:filter,offset:0}));case 19:_context2.next=21;return put(actionDocumentRequest({}));case 21:try{}catch(_ref2){message=_ref2.message;}case 22:case\"end\":return _context2.stop();}}},_marked2);}// Search Clear\n// ----------------\nexport function ducumentSearchClear(){return _regeneratorRuntime.wrap(function ducumentSearchClear$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return takeLatest(actionSearchClear,sagaSearchClear);case 2:case\"end\":return _context3.stop();}}},_marked3);}function sagaSearchClear(){var pathname,_yield$select2,documentStatuses,labels;return _regeneratorRuntime.wrap(function sagaSearchClear$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return select(selectPathName);case 2:pathname=_context4.sent;if(!(pathname.substr(0,DOCUMENT.length)!==DOCUMENT)){_context4.next=5;break;}return _context4.abrupt(\"return\");case 5:_context4.next=7;return select(selectFilter);case 7:_yield$select2=_context4.sent;documentStatuses=_yield$select2.documentStatuses;labels=_yield$select2.labels;_context4.next=12;return put(actionDocumentFilter({filter:{documentStatuses:documentStatuses,labels:labels},offset:0}));case 12:_context4.next=14;return put(actionDocumentRequest({}));case 14:case\"end\":return _context4.stop();}}},_marked4);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/documents/store/sagas/search.effect.ts"],"names":["ducumentSearchSubmit","sagaSearchSubmit","ducumentSearchClear","sagaSearchClear","takeLatest","put","select","actionSearchSubmit","actionSearchClear","selectPathName","DOCUMENT","actionDocumentRequest","actionDocumentFilter","selectFilter","selectMode","formData","payload","pathname","substr","length","mode","labels","filter","offset","message","documentStatuses"],"mappings":"8XAWiBA,oB,iDAIPC,gB,iDA4BOC,mB,iDAIPC,e,EA/CV,OAASC,UAAT,CAAqBC,GAArB,CAA0BC,MAA1B,KAAwC,oBAAxC,CAEA,OAASC,kBAAT,CAA6BC,iBAA7B,KAAsD,4CAAtD,CACA,OAASC,cAAT,KAA+B,2BAA/B,CACA,OAASC,QAAT,KAAyB,wBAAzB,CAEA,OAASC,qBAAT,CAAgCC,oBAAhC,KAA4D,YAA5D,CACA,OAASC,YAAT,CAAuBC,UAAvB,KAAyC,YAAzC,CAEA;AACA;AACA,MAAO,SAAUd,CAAAA,oBAAV,gJACL,MAAMI,CAAAA,UAAU,CAACG,kBAAD,CAAqBN,gBAArB,CAAhB,CADK,sDAIP,QAAUA,CAAAA,gBAAV,kMAAwCc,QAAxC,MAA6BC,OAA7B,CAAwCD,QAAxC,kBAC2B,MAAMT,CAAAA,MAAM,CAACG,cAAD,CAAZ,CAD3B,OACQQ,QADR,qBAEMA,QAAQ,CAACC,MAAT,CAAgB,CAAhB,CAAmBR,QAAQ,CAACS,MAA5B,IAAwCT,QAF9C,qFAMe,MAAMJ,CAAAA,MAAM,CAACQ,UAAD,CAAZ,CANf,OAMQM,IANR,kCAOqB,MAAMd,CAAAA,MAAM,CAACO,YAAD,CAAZ,CAPrB,qCAOUQ,MAPV,eAOUA,MAPV,CASMC,MATN,CASoB,EATpB,CAUE,GAAID,MAAJ,CAAY,CACVC,MAAM,CAAC,QAAD,CAAN,CAAmBD,MAAnB,CACD,CAED,GAAID,IAAI,GAAK,QAAT,EAAqBA,IAAI,GAAK,UAAlC,CAA8C,CAC5CE,MAAM,CAAC,kBAAD,CAAN,CAA6B,CAACF,IAAD,CAA7B,CACD,CAEDE,MAAM,gCAAQA,MAAR,EAAmBP,QAAnB,CAAN,CAlBF,kBAoBE,MAAMV,CAAAA,GAAG,CAACO,oBAAoB,CAAC,CAAEU,MAAM,CAANA,MAAF,CAAUC,MAAM,CAAE,CAAlB,CAAD,CAArB,CAAT,CApBF,0BAqBE,MAAMlB,CAAAA,GAAG,CAACM,qBAAqB,CAAC,EAAD,CAAtB,CAAT,CArBF,QAsBE,GAAI,CACH,CAAC,YAAoB,CAAXa,OAAW,OAAXA,OAAW,CAAE,CAvB1B,yDA0BA;AACA;AACA,MAAO,SAAUtB,CAAAA,mBAAV,mJACL,MAAME,CAAAA,UAAU,CAACI,iBAAD,CAAoBL,eAApB,CAAhB,CADK,wDAIP,QAAUA,CAAAA,eAAV,mMAC2B,MAAMG,CAAAA,MAAM,CAACG,cAAD,CAAZ,CAD3B,OACQQ,QADR,qBAEMA,QAAQ,CAACC,MAAT,CAAgB,CAAhB,CAAmBR,QAAQ,CAACS,MAA5B,IAAwCT,QAF9C,qFAMuC,MAAMJ,CAAAA,MAAM,CAACO,YAAD,CAAZ,CANvC,qCAMUY,gBANV,gBAMUA,gBANV,CAM4BJ,MAN5B,gBAM4BA,MAN5B,mBAQE,MAAMhB,CAAAA,GAAG,CAACO,oBAAoB,CAAC,CAAEU,MAAM,CAAE,CAAEG,gBAAgB,CAAhBA,gBAAF,CAAoBJ,MAAM,CAANA,MAApB,CAAV,CAAwCE,MAAM,CAAE,CAAhD,CAAD,CAArB,CAAT,CARF,0BASE,MAAMlB,CAAAA,GAAG,CAACM,qBAAqB,CAAC,EAAD,CAAtB,CAAT,CATF","sourcesContent":["import { takeLatest, put, select } from 'redux-saga/effects';\r\n\r\nimport { actionSearchSubmit, actionSearchClear } from '../../../../container/filter/store/actions';\r\nimport { selectPathName } from '../../../../store/selects';\r\nimport { DOCUMENT } from '../../../../common/Url';\r\n\r\nimport { actionDocumentRequest, actionDocumentFilter } from '../actions';\r\nimport { selectFilter, selectMode } from '../selects';\r\n\r\n// Search Submit\r\n// ----------------\r\nexport function* ducumentSearchSubmit() {\r\n  yield takeLatest(actionSearchSubmit, sagaSearchSubmit);\r\n}\r\n\r\nfunction* sagaSearchSubmit({ payload: { formData } }: any) {\r\n  const pathname: string = yield select(selectPathName);\r\n  if (pathname.substr(0, DOCUMENT.length) !== DOCUMENT) {\r\n    return;\r\n  }\r\n\r\n  const mode = yield select(selectMode);\r\n  const { labels } = yield select(selectFilter);\r\n\r\n  let filter: any = {};\r\n  if (labels) {\r\n    filter['labels'] = labels;\r\n  }\r\n\r\n  if (mode !== 'folder' && mode !== 'redirect') {\r\n    filter['documentStatuses'] = [mode];\r\n  }\r\n\r\n  filter = { ...filter, ...formData };\r\n\r\n  yield put(actionDocumentFilter({ filter, offset: 0 }));\r\n  yield put(actionDocumentRequest({}));\r\n  try {\r\n  } catch ({ message }) {}\r\n}\r\n\r\n// Search Clear\r\n// ----------------\r\nexport function* ducumentSearchClear() {\r\n  yield takeLatest(actionSearchClear, sagaSearchClear);\r\n}\r\n\r\nfunction* sagaSearchClear() {\r\n  const pathname: string = yield select(selectPathName);\r\n  if (pathname.substr(0, DOCUMENT.length) !== DOCUMENT) {\r\n    return;\r\n  }\r\n\r\n  const { documentStatuses, labels } = yield select(selectFilter);\r\n\r\n  yield put(actionDocumentFilter({ filter: { documentStatuses, labels }, offset: 0 }));\r\n  yield put(actionDocumentRequest({}));\r\n}\r\n"]},"metadata":{},"sourceType":"module"}