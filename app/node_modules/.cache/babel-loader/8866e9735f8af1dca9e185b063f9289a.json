{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{Button,Icons,Dropdown,Select,Input,ButtonKinds}from'@distate/components';import{tariffsSeletor}from'../../../store/selects';import{getCompanies,getTariffs}from'../../../store/actions';import'./style.css';/** Панель инструментов - Система, Юр лица */export var Tools=function Tools(){var dispatch=useDispatch();useEffect(function(){dispatch(getTariffs());},[dispatch]);var _useState=useState(),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),inn=_useState4[0],setInn=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),accountId=_useState6[0],setAccountId=_useState6[1];var _useState7=useState({label:'Активирована',value:1}),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),tariff=_useState10[0],setTariff=_useState10[1];var statusOptions=[{label:'Активирована',value:1},{label:'Деактивирована',value:0}];var tariffs=useSelector(tariffsSeletor);var tariffOptions=tariffs===null||tariffs===void 0?void 0:tariffs.map(function(item){var id=item.id,title=item.title;return{label:title,value:id};});var onClearForm=function onClearForm(){setName(undefined);setInn(undefined);setAccountId(undefined);setStatus({label:'Активирована',value:1});setTariff(undefined);};var onSearch=function onSearch(){var params={name:name,inn:inn,accountId:accountId!==''?accountId:undefined,isActive:status===null||status===void 0?void 0:status.value,tariff:tariff===null||tariff===void 0?void 0:tariff.value,limit:10};dispatch(getCompanies(params));};return/*#__PURE__*/React.createElement(\"div\",{style:{marginBottom:15}},/*#__PURE__*/React.createElement(Dropdown,{width:\"300px\",widthRestrict:true,trigger:/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconSearch,{fill:\"currentColor\"})},\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438\")},/*#__PURE__*/React.createElement(\"div\",{className:\"tools-dropdown_inner_wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-header\"},/*#__PURE__*/React.createElement(\"span\",null,\"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438\")),/*#__PURE__*/React.createElement(\"div\",{className:\"tools-dropdown_content\"},/*#__PURE__*/React.createElement(Input,{label:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/React.createElement(Input,{label:\"\\u0418\\u041D\\u041D\",value:inn,onChange:function onChange(e){return setInn(e.target.value);}}),/*#__PURE__*/React.createElement(Input,{label:\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\",value:accountId,onChange:function onChange(e){return setAccountId(e.target.value);}}),/*#__PURE__*/React.createElement(Select,{value:status,label:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u0438\",options:statusOptions,onChange:function onChange(e){return setStatus(e);},placeholder:\"\"}),/*#__PURE__*/React.createElement(Select,{value:tariff,label:\"\\u0422\\u0430\\u0440\\u0438\\u0444\",options:tariffOptions,onChange:function onChange(e){return setTariff(e);},placeholder:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"tools-dropdown_buttons\"},/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconClose,{fill:\"currentColor\"}),fullWidth:true,onClick:onClearForm},\"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C\"),/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconSearch,{fill:\"currentColor\"}),kind:ButtonKinds.Secondary,fullWidth:true,onClick:onSearch},\"\\u0418\\u0441\\u043A\\u0430\\u0442\\u044C\")))));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/system/components/companies/tools/Tools.tsx"],"names":["React","useState","useEffect","useSelector","useDispatch","Button","Icons","Dropdown","Select","Input","ButtonKinds","tariffsSeletor","getCompanies","getTariffs","Tools","dispatch","name","setName","inn","setInn","accountId","setAccountId","label","value","status","setStatus","tariff","setTariff","statusOptions","tariffs","tariffOptions","map","item","id","title","onClearForm","undefined","onSearch","params","isActive","limit","marginBottom","e","target","Secondary"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Button, Icons, Dropdown, Select, Input, ButtonKinds } from '@distate/components';\r\nimport { tariffsSeletor } from '../../../store/selects';\r\nimport { getCompanies, getTariffs } from '../../../store/actions';\r\nimport './style.css';\r\n\r\ntype SelectItem = { label: string; value: number };\r\n\r\n/** Панель инструментов - Система, Юр лица */\r\nexport const Tools = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getTariffs());\r\n  }, [dispatch]);\r\n\r\n  const [name, setName] = useState<string>();\r\n  const [inn, setInn] = useState<string>();\r\n  const [accountId, setAccountId] = useState<string>();\r\n  const [status, setStatus] = useState<SelectItem>({\r\n    label: 'Активирована',\r\n    value: 1\r\n  });\r\n  const [tariff, setTariff] = useState<SelectItem>();\r\n\r\n  const statusOptions = [\r\n    {\r\n      label: 'Активирована',\r\n      value: 1\r\n    },\r\n    {\r\n      label: 'Деактивирована',\r\n      value: 0\r\n    }\r\n  ];\r\n\r\n  const tariffs = useSelector(tariffsSeletor);\r\n\r\n  const tariffOptions = tariffs?.map((item: any) => {\r\n    const { id, title } = item;\r\n    return {\r\n      label: title,\r\n      value: id\r\n    };\r\n  });\r\n\r\n  const onClearForm = () => {\r\n    setName(undefined);\r\n    setInn(undefined);\r\n    setAccountId(undefined);\r\n    setStatus({\r\n      label: 'Активирована',\r\n      value: 1\r\n    });\r\n    setTariff(undefined);\r\n  };\r\n\r\n  const onSearch = () => {\r\n    const params = {\r\n      name,\r\n      inn,\r\n      accountId: accountId !== '' ? accountId : undefined,\r\n      isActive: status?.value,\r\n      tariff: tariff?.value,\r\n      limit: 10\r\n    };\r\n\r\n    dispatch(getCompanies(params));\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: 15 }}>\r\n      <Dropdown\r\n        width=\"300px\"\r\n        widthRestrict\r\n        trigger={<Button icon={<Icons.IconSearch fill=\"currentColor\" />}>Поиск компании</Button>}\r\n      >\r\n        <div className=\"tools-dropdown_inner_wrapper\">\r\n          <div className=\"dropdown-header\">\r\n            <span>Поиск компании</span>\r\n          </div>\r\n          <div className=\"tools-dropdown_content\">\r\n            <Input label=\"Название\" value={name} onChange={e => setName(e.target.value)} />\r\n            <Input label=\"ИНН\" value={inn} onChange={e => setInn(e.target.value)} />\r\n            <Input\r\n              label=\"Номер аккаунта\"\r\n              value={accountId}\r\n              onChange={e => setAccountId(e.target.value)}\r\n            />\r\n\r\n            <Select\r\n              value={status}\r\n              label=\"Статус компании\"\r\n              options={statusOptions}\r\n              onChange={(e: { label: string; value: number }) => setStatus(e)}\r\n              placeholder=\"\"\r\n            />\r\n\r\n            <Select\r\n              value={tariff}\r\n              label=\"Тариф\"\r\n              options={tariffOptions}\r\n              onChange={(e: { label: string; value: number }) => setTariff(e)}\r\n              placeholder=\"\"\r\n            />\r\n          </div>\r\n          <div className=\"tools-dropdown_buttons\">\r\n            <Button icon={<Icons.IconClose fill=\"currentColor\" />} fullWidth onClick={onClearForm}>\r\n              Очистить\r\n            </Button>\r\n            <Button\r\n              icon={<Icons.IconSearch fill=\"currentColor\" />}\r\n              kind={ButtonKinds.Secondary}\r\n              fullWidth\r\n              onClick={onSearch}\r\n            >\r\n              Искать\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Dropdown>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}