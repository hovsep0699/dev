{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import DatePicker from'react-datepicker';import ru from'date-fns/locale/ru';import'./style.css';import{IconCalendar}from'../../assets/icons';import{format}from'date-fns';/** Новый компонент календаря без ошибок заполнения */export var DatePickerNew=function DatePickerNew(props){var value=props.value,name=props.name,onChange=props.onChange,label=props.label,required=props.required,placeholder=props.placeholder,error=props.error,errors=props.errors,title=props.title;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(value),_useState4=_slicedToArray(_useState3,2),startDate=_useState4[0],setStartDate=_useState4[1];useEffect(function(){setStartDate(value);},[value]);var formatDate=function formatDate(date){if(!date)return undefined;return format(date,'dd.MM.yyyy');};var handleOnChange=function handleOnChange(date){setStartDate(date);if(onChange&&typeof onChange==='function'){onChange(date);}setOpen(false);};return/*#__PURE__*/React.createElement(\"div\",{className:\"date-picker-wrapper \".concat(!label?'date-picker-label':'',\" \").concat(error?'date-picker-error':'')},label&&/*#__PURE__*/React.createElement(\"div\",{className:\"date-picker-label \".concat(required?'date-picker-label--required':'')},label),/*#__PURE__*/React.createElement(DatePicker,{onInputClick:function onInputClick(){return setOpen(!open);},onCalendarClose:function onCalendarClose(){return setOpen(false);},onClickOutside:function onClickOutside(){return setOpen(false);},open:open,value:formatDate(startDate),title:title,name:name,locale:ru,placeholderText:placeholder,dateFormat:'dd.MM.yyyy',selected:value?startDate:null,onChange:handleOnChange}),/*#__PURE__*/React.createElement(\"div\",{className:\"date-picker-icon\"},/*#__PURE__*/React.createElement(IconCalendar,{fill:\"#70706a\",onClick:function onClick(){return setOpen(!open);}})),error&&/*#__PURE__*/React.createElement(\"span\",{className:\"date-picker-text-error\"},error));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/POA/MCHD_ROOT/common/date-picker-new/DatePickerNew.tsx"],"names":["React","useState","useEffect","DatePicker","ru","IconCalendar","format","DatePickerNew","props","value","name","onChange","label","required","placeholder","error","errors","title","open","setOpen","startDate","setStartDate","formatDate","date","undefined","handleOnChange"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport DatePicker from 'react-datepicker';\r\nimport ru from 'date-fns/locale/ru';\r\nimport './style.css';\r\nimport {IconCalendar} from '../../assets/icons';\r\nimport { format } from 'date-fns';\r\n\r\ntype Props = {\r\n    value?: Date | null;\r\n    name?: string;\r\n    title?: string;\r\n    onChange?: (date: any) => void;\r\n    label?: string;\r\n    required?: boolean;\r\n    placeholder?: string;\r\n    error?: any;\r\n    errors?: string[];\r\n};\r\n\r\n/** Новый компонент календаря без ошибок заполнения */\r\nexport const DatePickerNew = (props: Props) => {\r\n    const {value, name, onChange, label, required, placeholder, error, errors, title} = props;\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const [startDate, setStartDate] = useState(value);\r\n\r\n    useEffect(() => {\r\n        setStartDate(value);\r\n    }, [value]);\r\n\r\n    const formatDate = (date: any): string | undefined => {\r\n        if (!date) return undefined;\r\n        return format(date, 'dd.MM.yyyy');\r\n    };\r\n    const handleOnChange = (date: Date) => {\r\n        setStartDate(date);\r\n        if (onChange && typeof onChange === 'function') {\r\n            onChange(date);\r\n        }\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className={`date-picker-wrapper ${!label ? 'date-picker-label' : ''} ${\r\n                error ? 'date-picker-error' : ''\r\n            }`}\r\n        >\r\n            {label && (\r\n                <div className={`date-picker-label ${required ? 'date-picker-label--required' : ''}`}>\r\n                    {label}\r\n                </div>\r\n            )}\r\n            <DatePicker\r\n                onInputClick={() => setOpen(!open)}\r\n                onCalendarClose={() => setOpen(false)}\r\n                onClickOutside={() => setOpen(false)}\r\n                open={open}\r\n                value={formatDate(startDate)}\r\n                title={title}\r\n                name={name}\r\n                locale={ru}\r\n                placeholderText={placeholder}\r\n                dateFormat={'dd.MM.yyyy'}\r\n                selected={value ? startDate : null}\r\n                onChange={handleOnChange}\r\n            />\r\n            <div className=\"date-picker-icon\">\r\n                <IconCalendar fill=\"#70706a\" onClick={() => setOpen(!open)}/>\r\n            </div>\r\n            {error && <span className=\"date-picker-text-error\">{error}</span>}\r\n        </div>\r\n    );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}