{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getFoundLocalRoamingCompanyEffect),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getFoundLocalRoamingCompanyWorker);import{takeLatest,call,put}from'redux-saga/effects';import{getFoundLocalRoamingCompany,setFoundCompanyContractor}from'../actions';import{ContractorApiServices}from'../../services/contractors.api';import{Flash}from'../../../../common/flash/Flash';export function getFoundLocalRoamingCompanyEffect(){return _regeneratorRuntime.wrap(function getFoundLocalRoamingCompanyEffect$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(getFoundLocalRoamingCompany,getFoundLocalRoamingCompanyWorker);case 2:case\"end\":return _context.stop();}}},_marked);}function getFoundLocalRoamingCompanyWorker(_ref){var payload,inn,offset,localRoamingCompany,message;return _regeneratorRuntime.wrap(function getFoundLocalRoamingCompanyWorker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref.payload;_context2.prev=1;inn=payload.inn,offset=payload.offset;_context2.next=5;return call(ContractorApiServices.searchLocalRoamingCompany,{inn:inn,offset:offset});case 5:localRoamingCompany=_context2.sent;_context2.next=8;return put(setFoundCompanyContractor({search:{localRoamingCompany:_objectSpread(_objectSpread({},localRoamingCompany),{},{searchParams:{inn:inn}})}}));case 8:_context2.next=15;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);message=_context2.t0.message;_context2.next=15;return Flash.error(message||'Возникла ошибка');case 15:case\"end\":return _context2.stop();}}},_marked2,null,[[1,10]]);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/store/sagas/getFoundLocalRoamingCompany.effect.ts"],"names":["getFoundLocalRoamingCompanyEffect","getFoundLocalRoamingCompanyWorker","takeLatest","call","put","getFoundLocalRoamingCompany","setFoundCompanyContractor","ContractorApiServices","Flash","payload","inn","offset","searchLocalRoamingCompany","localRoamingCompany","search","searchParams","message","error"],"mappings":"8XAMiBA,iC,iDASPC,iC,EAfV,OAASC,UAAT,CAAqBC,IAArB,CAA2BC,GAA3B,KAAsC,oBAAtC,CAEA,OAASC,2BAAT,CAAsCC,yBAAtC,KAAuE,YAAvE,CACA,OAASC,qBAAT,KAAsC,gCAAtC,CACA,OAASC,KAAT,KAAsB,gCAAtB,CAEA,MAAO,SAAUR,CAAAA,iCAAV,6JACL,MAAME,CAAAA,UAAU,CAACG,2BAAD,CAA8BJ,iCAA9B,CAAhB,CADK,sDASP,QAAUA,CAAAA,iCAAV,uMAA8CQ,OAA9C,MAA8CA,OAA9C,kBAEYC,GAFZ,CAE4BD,OAF5B,CAEYC,GAFZ,CAEiBC,MAFjB,CAE4BF,OAF5B,CAEiBE,MAFjB,kBAGgC,MAAMR,CAAAA,IAAI,CAACI,qBAAqB,CAACK,yBAAvB,CAAkD,CACtFF,GAAG,CAAHA,GADsF,CAEtFC,MAAM,CAANA,MAFsF,CAAlD,CAAV,CAHhC,OAGUE,mBAHV,iCAOI,MAAMT,CAAAA,GAAG,CACPE,yBAAyB,CAAC,CACxBQ,MAAM,CAAE,CACND,mBAAmB,gCACdA,mBADc,MAEjBE,YAAY,CAAE,CAAEL,GAAG,CAAHA,GAAF,CAFG,EADb,CADgB,CAAD,CADlB,CAAT,CAPJ,4FAiBaM,OAjBb,cAiBaA,OAjBb,mBAkBI,MAAMR,CAAAA,KAAK,CAACS,KAAN,CAAYD,OAAO,EAAI,iBAAvB,CAAN,CAlBJ","sourcesContent":["import { takeLatest, call, put } from 'redux-saga/effects';\r\n\r\nimport { getFoundLocalRoamingCompany, setFoundCompanyContractor } from '../actions';\r\nimport { ContractorApiServices } from '../../services/contractors.api';\r\nimport { Flash } from '../../../../common/flash/Flash';\r\n\r\nexport function* getFoundLocalRoamingCompanyEffect() {\r\n  yield takeLatest(getFoundLocalRoamingCompany, getFoundLocalRoamingCompanyWorker);\r\n}\r\n\r\ntype Payload = {\r\n  inn: string;\r\n  offset: number;\r\n};\r\n\r\nfunction* getFoundLocalRoamingCompanyWorker({ payload }: { payload: Payload }) {\r\n  try {\r\n    const { inn, offset } = payload;\r\n    const localRoamingCompany = yield call(ContractorApiServices.searchLocalRoamingCompany, {\r\n      inn,\r\n      offset\r\n    });\r\n    yield put(\r\n      setFoundCompanyContractor({\r\n        search: {\r\n          localRoamingCompany: {\r\n            ...localRoamingCompany,\r\n            searchParams: { inn }\r\n          }\r\n        }\r\n      })\r\n    );\r\n  } catch ({ message }) {\r\n    yield Flash.error(message || 'Возникла ошибка');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}