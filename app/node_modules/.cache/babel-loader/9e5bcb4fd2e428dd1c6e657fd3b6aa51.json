{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import{Formik,Form}from'formik';import*as yup from'yup';import{Button,Input}from'@distate/components';import{ALLOWED_ONLY_NUMBER_ERROR,ALLOWED_ONLY_STRING_ERROR}from'../../../../../common/Lbl';import{getFoundLocalCompany}from'../../../store/actions';import{selectSearch}from'../../../store/selectors';/** Форма посика локального ЮЛ */export var DestinationLocalForm=function DestinationLocalForm(){var _useSelector$errors,_useSelector$errors$m,_useSelector$errors$m2,_useSelector$errors2,_useSelector$errors2$,_useSelector$errors2$2;var dispatch=useDispatch();var innErr=(_useSelector$errors=useSelector(selectSearch).errors)===null||_useSelector$errors===void 0?void 0:(_useSelector$errors$m=_useSelector$errors.messages)===null||_useSelector$errors$m===void 0?void 0:(_useSelector$errors$m2=_useSelector$errors$m.inn)===null||_useSelector$errors$m2===void 0?void 0:_useSelector$errors$m2.errors;var nameErr=(_useSelector$errors2=useSelector(selectSearch).errors)===null||_useSelector$errors2===void 0?void 0:(_useSelector$errors2$=_useSelector$errors2.messages)===null||_useSelector$errors2$===void 0?void 0:(_useSelector$errors2$2=_useSelector$errors2$.name)===null||_useSelector$errors2$2===void 0?void 0:_useSelector$errors2$2.errors;var _onSubmit=function onSubmit(args){dispatch(getFoundLocalCompany(args));};var validationsSchema=yup.object().shape({title:yup.string().typeError(ALLOWED_ONLY_STRING_ERROR),inn:yup.number().typeError(ALLOWED_ONLY_NUMBER_ERROR).positive().integer()});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Formik,{initialValues:{inn:'',name:''},validateOnBlur:true,onSubmit:function onSubmit(values){return _onSubmit(values);},validationSchema:validationsSchema},function(_ref){var values=_ref.values,handleSubmit=_ref.handleSubmit,handleChange=_ref.handleChange,errors=_ref.errors,touched=_ref.touched,setFieldTouched=_ref.setFieldTouched;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Input,{label:\"\\u0418\\u041D\\u041D\",name:\"inn\",value:values.inn,onChange:handleChange,error:!!errors.inn&&touched.inn||innErr,errors:(errors===null||errors===void 0?void 0:errors.inn)&&touched.inn?[errors.inn]:innErr,onBlur:function onBlur(){return setFieldTouched('fnsUid',true);}}),/*#__PURE__*/React.createElement(Input,{label:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",name:\"name\",value:values.name,onChange:handleChange,error:!!errors.name&&touched.name||nameErr,errors:(errors===null||errors===void 0?void 0:errors.name)&&touched.name?[errors.name]:nameErr}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(e){return handleSubmit;},type:\"submit\"},\"\\u041D\\u0430\\u0439\\u0442\\u0438\"));}));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/components/invite-contractor/forms/DestinationLocalForm.tsx"],"names":["React","useDispatch","useSelector","Formik","Form","yup","Button","Input","ALLOWED_ONLY_NUMBER_ERROR","ALLOWED_ONLY_STRING_ERROR","getFoundLocalCompany","selectSearch","DestinationLocalForm","dispatch","innErr","errors","messages","inn","nameErr","name","onSubmit","args","validationsSchema","object","shape","title","string","typeError","number","positive","integer","values","handleSubmit","handleChange","touched","setFieldTouched","e"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Formik, Form } from 'formik';\r\nimport * as yup from 'yup';\r\n\r\nimport { Button, Input } from '@distate/components';\r\nimport { ALLOWED_ONLY_NUMBER_ERROR, ALLOWED_ONLY_STRING_ERROR } from '../../../../../common/Lbl';\r\nimport { getFoundLocalCompany } from '../../../store/actions';\r\nimport { selectSearch } from '../../../store/selectors';\r\n\r\ntype Args = {\r\n  inn?: string;\r\n  name?: string;\r\n};\r\n\r\n/** Форма посика локального ЮЛ */\r\nexport const DestinationLocalForm = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const innErr = useSelector(selectSearch).errors?.messages?.inn?.errors;\r\n  const nameErr = useSelector(selectSearch).errors?.messages?.name?.errors;\r\n\r\n  const onSubmit = (args: Args) => {\r\n    dispatch(getFoundLocalCompany(args));\r\n  };\r\n\r\n  const validationsSchema = yup.object().shape({\r\n    title: yup.string().typeError(ALLOWED_ONLY_STRING_ERROR),\r\n    inn: yup\r\n      .number()\r\n      .typeError(ALLOWED_ONLY_NUMBER_ERROR)\r\n      .positive()\r\n      .integer()\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          inn: '',\r\n          name: ''\r\n        }}\r\n        validateOnBlur\r\n        onSubmit={values => onSubmit(values)}\r\n        validationSchema={validationsSchema}\r\n      >\r\n        {({ values, handleSubmit, handleChange, errors, touched, setFieldTouched }) => (\r\n          <Form>\r\n            <Input\r\n              label=\"ИНН\"\r\n              name=\"inn\"\r\n              value={values.inn}\r\n              onChange={handleChange}\r\n              error={(!!errors.inn && touched.inn) || innErr}\r\n              errors={errors?.inn && touched.inn ? [errors.inn] : innErr}\r\n              onBlur={() => setFieldTouched('fnsUid', true)}\r\n            />\r\n            <Input\r\n              label=\"Название\"\r\n              name=\"name\"\r\n              value={values.name}\r\n              onChange={handleChange}\r\n              error={(!!errors.name && touched.name) || nameErr}\r\n              errors={errors?.name && touched.name ? [errors.name] : nameErr}\r\n            />\r\n            <br />\r\n            <Button onClick={e => handleSubmit} type={`submit`}>\r\n              Найти\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}