{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(newGroupCreateEffect),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(newGroupCreateWorker);import{takeLatest,put}from'redux-saga/effects';import{newGroupCreate,getContractorsGroup}from'../actions';import{Flash}from'../../../../common/flash/Flash';import{ContractorApiServices}from'../../services/contractors.api';export function newGroupCreateEffect(){return _regeneratorRuntime.wrap(function newGroupCreateEffect$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(newGroupCreate,newGroupCreateWorker);case 2:case\"end\":return _context.stop();}}},_marked);}/** Создание новой группы */function newGroupCreateWorker(_ref){var payload,title,offset,message;return _regeneratorRuntime.wrap(function newGroupCreateWorker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref.payload;_context2.prev=1;title=payload.title,offset=payload.offset;_context2.next=5;return ContractorApiServices.newGroupCreate(title);case 5:_context2.next=7;return put(getContractorsGroup({offset:offset}));case 7:_context2.next=14;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);message=_context2.t0.message;_context2.next=14;return Flash.error(message||'Возникла ошибка');case 14:case\"end\":return _context2.stop();}}},_marked2,null,[[1,9]]);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/store/sagas/newGroupCreate.effect.ts"],"names":["newGroupCreateEffect","newGroupCreateWorker","takeLatest","put","newGroupCreate","getContractorsGroup","Flash","ContractorApiServices","payload","title","offset","message","error"],"mappings":"oNAMiBA,oB,iDASPC,oB,EAfV,OAASC,UAAT,CAAqBC,GAArB,KAAgC,oBAAhC,CAEA,OAASC,cAAT,CAAyBC,mBAAzB,KAAoD,YAApD,CACA,OAASC,KAAT,KAAsB,gCAAtB,CACA,OAASC,qBAAT,KAAsC,gCAAtC,CAEA,MAAO,SAAUP,CAAAA,oBAAV,gJACL,MAAME,CAAAA,UAAU,CAACE,cAAD,CAAiBH,oBAAjB,CAAhB,CADK,sDAQP,4BACA,QAAUA,CAAAA,oBAAV,wKAAiCO,OAAjC,MAAiCA,OAAjC,kBAEYC,KAFZ,CAE8BD,OAF9B,CAEYC,KAFZ,CAEmBC,MAFnB,CAE8BF,OAF9B,CAEmBE,MAFnB,kBAGI,MAAMH,CAAAA,qBAAqB,CAACH,cAAtB,CAAqCK,KAArC,CAAN,CAHJ,wBAII,MAAMN,CAAAA,GAAG,CAACE,mBAAmB,CAAC,CAAEK,MAAM,CAANA,MAAF,CAAD,CAApB,CAAT,CAJJ,0FAKaC,OALb,cAKaA,OALb,mBAMI,MAAML,CAAAA,KAAK,CAACM,KAAN,CAAYD,OAAO,EAAI,iBAAvB,CAAN,CANJ","sourcesContent":["import { takeLatest, put } from 'redux-saga/effects';\r\n\r\nimport { newGroupCreate, getContractorsGroup } from '../actions';\r\nimport { Flash } from '../../../../common/flash/Flash';\r\nimport { ContractorApiServices } from '../../services/contractors.api';\r\n\r\nexport function* newGroupCreateEffect() {\r\n  yield takeLatest(newGroupCreate, newGroupCreateWorker);\r\n}\r\n\r\ninterface Payload {\r\n  title: string;\r\n  offset: number;\r\n}\r\n/** Создание новой группы */\r\nfunction* newGroupCreateWorker({ payload }: { payload: Payload }) {\r\n  try {\r\n    const { title, offset } = payload;\r\n    yield ContractorApiServices.newGroupCreate(title);\r\n    yield put(getContractorsGroup({ offset }));\r\n  } catch ({ message }) {\r\n    yield Flash.error(message || 'Возникла ошибка');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}