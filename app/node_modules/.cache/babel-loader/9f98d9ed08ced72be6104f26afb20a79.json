{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{DragAndDrop}from'../../../../common/drag-and-drop';import{Button,ButtonKinds}from'@distate/components';import{sendFile}from'../../store/actions';import{selectDocumentType,selectFileResponseId}from'../../store/selectors';import{DocumentType,DocumentTypeName}from'../../helpers/createDocument.typings';import{Universal}from'./forms/Universal';import{InvoiceUtd}from'./forms/InvoiceUtd';import{Default}from'./forms/Default';export var CreateFromFile=function CreateFromFile(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var onUpload=function onUpload(currentFile){setFile(currentFile);};var dispatch=useDispatch();var documentType=useSelector(selectDocumentType);var fileResponseId=useSelector(selectFileResponseId);var onSend=function onSend(){dispatch(sendFile(file));};var isUniversal=documentType===DocumentType.universal;var isInvoiceUtd=documentType===DocumentType.on_nschfdoppr;var isDefault=documentType&&!isUniversal&&!isInvoiceUtd;var title=DocumentTypeName[documentType];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(DragAndDrop,{onUpload:onUpload,maxLarge:50000000}),/*#__PURE__*/React.createElement(Button,{kind:ButtonKinds.Secondary,style:{marginTop:10},onClick:onSend},\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"),documentType===DocumentType.universal&&/*#__PURE__*/React.createElement(Universal,{id:fileResponseId,title:title,enableTitle:file.name}),documentType===DocumentType.on_nschfdoppr&&/*#__PURE__*/React.createElement(InvoiceUtd,{id:fileResponseId,title:title}),isDefault&&/*#__PURE__*/React.createElement(Default,{id:fileResponseId,title:title}));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/create-document/components/create-from-file/CreateFromFile.tsx"],"names":["React","useState","useDispatch","useSelector","DragAndDrop","Button","ButtonKinds","sendFile","selectDocumentType","selectFileResponseId","DocumentType","DocumentTypeName","Universal","InvoiceUtd","Default","CreateFromFile","file","setFile","onUpload","currentFile","dispatch","documentType","fileResponseId","onSend","isUniversal","universal","isInvoiceUtd","on_nschfdoppr","isDefault","title","Secondary","marginTop","name"],"mappings":"2KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,WAAT,KAA4B,kCAA5B,CACA,OAASC,MAAT,CAAiBC,WAAjB,KAAoC,qBAApC,CACA,OAASC,QAAT,KAAyB,qBAAzB,CACA,OAASC,kBAAT,CAA6BC,oBAA7B,KAAyD,uBAAzD,CACA,OAASC,YAAT,CAAuBC,gBAAvB,KAA+C,sCAA/C,CACA,OAASC,SAAT,KAA0B,mBAA1B,CACA,OAASC,UAAT,KAA2B,oBAA3B,CACA,OAASC,OAAT,KAAwB,iBAAxB,CAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,eACVd,QAAQ,EADE,wCAC3Be,IAD2B,eACrBC,OADqB,eAElC,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,WAAD,CAAuB,CACtCF,OAAO,CAACE,WAAD,CAAP,CACD,CAFD,CAIA,GAAMC,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CAEA,GAAMmB,CAAAA,YAAY,CAAGlB,WAAW,CAACK,kBAAD,CAAhC,CACA,GAAMc,CAAAA,cAAc,CAAGnB,WAAW,CAACM,oBAAD,CAAlC,CAEA,GAAMc,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBH,QAAQ,CAACb,QAAQ,CAACS,IAAD,CAAT,CAAR,CACD,CAFD,CAIA,GAAMQ,CAAAA,WAAW,CAAGH,YAAY,GAAKX,YAAY,CAACe,SAAlD,CACA,GAAMC,CAAAA,YAAY,CAAGL,YAAY,GAAKX,YAAY,CAACiB,aAAnD,CACA,GAAMC,CAAAA,SAAS,CAAGP,YAAY,EAAI,CAACG,WAAjB,EAAgC,CAACE,YAAnD,CAEA,GAAMG,CAAAA,KAAK,CAAGlB,gBAAgB,CAACU,YAAD,CAA9B,CAEA,mBACE,qDACE,oBAAC,WAAD,EAAa,QAAQ,CAAEH,QAAvB,CAAiC,QAAQ,CAAE,QAA3C,EADF,cAEE,oBAAC,MAAD,EAAQ,IAAI,CAAEZ,WAAW,CAACwB,SAA1B,CAAqC,KAAK,CAAE,CAAEC,SAAS,CAAE,EAAb,CAA5C,CAA+D,OAAO,CAAER,MAAxE,2DAFF,CAMGF,YAAY,GAAKX,YAAY,CAACe,SAA9B,eACC,oBAAC,SAAD,EAAW,EAAE,CAAEH,cAAf,CAAgC,KAAK,CAAEO,KAAvC,CAA8C,WAAW,CAAEb,IAAI,CAAEgB,IAAjE,EAPJ,CASGX,YAAY,GAAKX,YAAY,CAACiB,aAA9B,eACC,oBAAC,UAAD,EAAY,EAAE,CAAEL,cAAhB,CAAiC,KAAK,CAAEO,KAAxC,EAVJ,CAYGD,SAAS,eAAI,oBAAC,OAAD,EAAS,EAAE,CAAEN,cAAb,CAA8B,KAAK,CAAEO,KAArC,EAZhB,CADF,CAgBD,CArCM","sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { DragAndDrop } from '../../../../common/drag-and-drop';\r\nimport { Button, ButtonKinds } from '@distate/components';\r\nimport { sendFile } from '../../store/actions';\r\nimport { selectDocumentType, selectFileResponseId } from '../../store/selectors';\r\nimport { DocumentType, DocumentTypeName } from '../../helpers/createDocument.typings';\r\nimport { Universal } from './forms/Universal';\r\nimport { InvoiceUtd } from './forms/InvoiceUtd';\r\nimport { Default } from './forms/Default';\r\n\r\nexport const CreateFromFile = () => {\r\n  const [file, setFile] = useState<File>();\r\n  const onUpload = (currentFile: File) => {\r\n    setFile(currentFile);\r\n  };\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const documentType = useSelector(selectDocumentType);\r\n  const fileResponseId = useSelector(selectFileResponseId);\r\n\r\n  const onSend = () => {\r\n    dispatch(sendFile(file));\r\n  };\r\n\r\n  const isUniversal = documentType === DocumentType.universal;\r\n  const isInvoiceUtd = documentType === DocumentType.on_nschfdoppr;\r\n  const isDefault = documentType && !isUniversal && !isInvoiceUtd;\r\n\r\n  const title = DocumentTypeName[documentType!];\r\n\r\n  return (\r\n    <>\r\n      <DragAndDrop onUpload={onUpload} maxLarge={50_000_000} />\r\n      <Button kind={ButtonKinds.Secondary} style={{ marginTop: 10 }} onClick={onSend}>\r\n        Отправить\r\n      </Button>\r\n\r\n      {documentType === DocumentType.universal && (\r\n        <Universal id={fileResponseId!} title={title} enableTitle={file!.name} />\r\n      )}\r\n      {documentType === DocumentType.on_nschfdoppr && (\r\n        <InvoiceUtd id={fileResponseId!} title={title} />\r\n      )}\r\n      {isDefault && <Default id={fileResponseId!} title={title} />}\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}