{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React from'react';import{useDispatch,useSelector}from'react-redux';import{Modal,Button,ButtonKinds,Icons}from'@distate/components';import{SubModal}from'./SubModal';import{SubModalLegalEntityTable}from'./SubModalLegalEntityTable';import{SubModalNaturalEntityTable}from'./SubModalNaturalEntityTable';import{SubModalEmployeeTable}from'./SubModalEmployeeTable';import{getLegalEntityGroup,getNaturalEntityGroup,getEmployeeGroup,removeFromGroup,removeEmployeeFromGroup,removeGroup,setAddedGroupLegalEntity,setAddedGroupNaturalEntity,setAddedGroupEmployee}from'../../../store/actions';import{legalEntityInfoAdded,naturalEntityInfoAdded,employeeEntityInfoAdded,group}from'../../../store/selectors';import{RelationStatus}from'../../../helpers/contractors.typings';import{Pagination}from'../../../../../common/pagination';import{AddedLegalEntityFilter,AddedNaturalEntityFilter,AddedEmployeeFilter}from'./filters';import{arrToString}from'../../../helpers/contractors.helpers';import{TruncateText}from'../../../../../common/truncate-text';import{getExternalTypeToString}from'../../../../../helpers/heplers';export var GroupCardModal=function GroupCardModal(props){var dispatch=useDispatch();var groupOffset=useSelector(group).offset;var legalEntityInfo=useSelector(legalEntityInfoAdded);/** список добавленных ЮЛ */var legalEntityList=(legalEntityInfo===null||legalEntityInfo===void 0?void 0:legalEntityInfo.rows)||[];var isEmptyLegalEntity=legalEntityList.length===0;var naturalEntityInfo=useSelector(naturalEntityInfoAdded);/** список добавленных ФЛ */var naturalEntityList=(naturalEntityInfo===null||naturalEntityInfo===void 0?void 0:naturalEntityInfo.rows)||[];var isEmptyNaturalEntity=naturalEntityList.length===0;var employeeInfo=useSelector(employeeEntityInfoAdded);/** список добавленных Сотрудников */var employeeList=(employeeInfo===null||employeeInfo===void 0?void 0:employeeInfo.rows)||[];var isEmptyEmployee=employeeList.length===0;var isVisible=props.isVisible,setIsVisible=props.setIsVisible,onHide=props.onHide,id=props.id,title=props.title;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isSubModalOpen=_React$useState2[0],setIsSubModalOpen=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),subModalContent=_React$useState4[0],setSubModalContent=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),offsetLegalEntity=_React$useState6[0],setOffsetLegalEntity=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),offsetNaturalEntity=_React$useState8[0],setOffsetNaturalEntity=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),offsetEmployee=_React$useState10[0],setOffsetEmployee=_React$useState10[1];var GroupUsersType;/** запись в стор значения пагинации ЮЛ */(function(GroupUsersType){GroupUsersType[\"LegalEntity\"]=\"legalEntity\";GroupUsersType[\"NaturalEntity\"]=\"naturalEntity\";GroupUsersType[\"Employee\"]=\"employee\";})(GroupUsersType||(GroupUsersType={}));React.useEffect(function(){dispatch(setAddedGroupLegalEntity({offset:offsetLegalEntity}));},[dispatch,offsetLegalEntity]);/** запись в стор значения пагинации ФЛ*/React.useEffect(function(){dispatch(setAddedGroupNaturalEntity({offset:offsetNaturalEntity}));},[dispatch,offsetNaturalEntity]);/** запись в стор значения пагинации Сотрудников */React.useEffect(function(){dispatch(setAddedGroupEmployee({offset:offsetEmployee}));},[dispatch,offsetEmployee]);var onAdd=function onAdd(usersType){// dispatch(getGroupContractorsInfo(id));\nif(usersType===GroupUsersType.LegalEntity){dispatch(getLegalEntityGroup({id:id,offset:offsetLegalEntity}));setSubModalContent(/*#__PURE__*/React.createElement(SubModalLegalEntityTable,{groupId:id}));}if(usersType===GroupUsersType.NaturalEntity){dispatch(getNaturalEntityGroup({id:id,offset:offsetNaturalEntity}));setSubModalContent(/*#__PURE__*/React.createElement(SubModalNaturalEntityTable,{groupId:id}));}if(usersType===GroupUsersType.Employee){dispatch(getEmployeeGroup({id:id,offset:offsetEmployee}));setSubModalContent(/*#__PURE__*/React.createElement(SubModalEmployeeTable,{groupId:id}));}setIsSubModalOpen(true);};/** удаление ЮЛ и ФЛ */var onRemove=function onRemove(contractorId){dispatch(removeFromGroup({groupId:id,contractorId:contractorId}));};/** удаление сотрудника */var onRemoveEmployee=function onRemoveEmployee(contractorId){dispatch(removeEmployeeFromGroup({groupId:id,contractorId:contractorId}));};/** удаление группы */var onRemoveGroup=function onRemoveGroup(){dispatch(removeGroup({id:id,offset:groupOffset}));setIsVisible(false);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{hide:function hide(){return onHide();},isVisible:isVisible},/*#__PURE__*/React.createElement(Modal.Header,{title:\"\\u0413\\u0440\\u0443\\u043F\\u043F\\u0430 \".concat(title)}),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"h3\",{className:\"header\"},\"\\u042E\\u0440\\u0438\\u0434\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u043B\\u0438\\u0446\\u0430\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"common-table-head\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"),/*#__PURE__*/React.createElement(\"td\",null,\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"),/*#__PURE__*/React.createElement(\"td\",null,\"\\u0418\\u041D\\u041D\"),/*#__PURE__*/React.createElement(\"td\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,isEmptyLegalEntity&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u0443\\u0441\\u0442.\"),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null)),legalEntityList.map(function(item){var id=item.id,name=item.name,status=item.status,inn=item.inn,contractorId=item.contractorId,externalType=item.externalType,externalOperator=item.externalOperator,network=item.network;var typeToStr=getExternalTypeToString(externalType,externalOperator,network);var title=name+typeToStr;return/*#__PURE__*/React.createElement(\"tr\",{key:id},/*#__PURE__*/React.createElement(\"td\",null,title.length>1&&/*#__PURE__*/React.createElement(TruncateText,{text:title})),/*#__PURE__*/React.createElement(\"td\",null,status===RelationStatus.Active?'активный':'заблокированный'),/*#__PURE__*/React.createElement(\"td\",null,inn),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconTrash,{fill:\"currentColor\"}),onClick:function onClick(){return onRemove(contractorId);}},\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")));})),/*#__PURE__*/React.createElement(\"tfoot\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconPlus,{fill:\"currentColor\"}),onClick:function onClick(){return onAdd(GroupUsersType.LegalEntity);}},\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\")),/*#__PURE__*/React.createElement(\"td\",{colSpan:3},/*#__PURE__*/React.createElement(\"div\",{className:\"pagination-right\"},/*#__PURE__*/React.createElement(AddedLegalEntityFilter,{id:id}),/*#__PURE__*/React.createElement(Pagination,{listLength:legalEntityInfo===null||legalEntityInfo===void 0?void 0:legalEntityInfo.recordsTotal,setOffset:setOffsetLegalEntity})))))),/*#__PURE__*/React.createElement(\"h3\",{className:\"header\"},\"\\u0424\\u0438\\u0437\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u043B\\u0438\\u0446\\u0430\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"common-table-head\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"\\u0424\\u0418\\u041E\"),/*#__PURE__*/React.createElement(\"td\",null,\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"),/*#__PURE__*/React.createElement(\"td\",null,\"\\u0421\\u041D\\u0418\\u041B\\u0421\"),/*#__PURE__*/React.createElement(\"td\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,isEmptyNaturalEntity&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u0443\\u0441\\u0442.\"),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null)),naturalEntityList.map(function(item){var id=item.id,surname=item.surname,name=item.name,patronymic=item.patronymic,status=item.status,socialNumber=item.socialNumber,contractorId=item.contractorId;var fio=arrToString([surname,name,patronymic]);return/*#__PURE__*/React.createElement(\"tr\",{key:id},/*#__PURE__*/React.createElement(\"td\",null,fio&&/*#__PURE__*/React.createElement(TruncateText,{text:fio})),/*#__PURE__*/React.createElement(\"td\",null,status===RelationStatus.Active?'активный':'заблокированный'),/*#__PURE__*/React.createElement(\"td\",null,socialNumber),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconTrash,{fill:\"currentColor\"}),onClick:function onClick(){return onRemove(contractorId);}},\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")));})),/*#__PURE__*/React.createElement(\"tfoot\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconPlus,{fill:\"currentColor\"}),onClick:function onClick(){return onAdd(GroupUsersType.NaturalEntity);}},\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\")),/*#__PURE__*/React.createElement(\"td\",{colSpan:3},/*#__PURE__*/React.createElement(\"div\",{className:\"pagination-right\"},/*#__PURE__*/React.createElement(AddedNaturalEntityFilter,{id:id}),/*#__PURE__*/React.createElement(Pagination,{listLength:naturalEntityInfo===null||naturalEntityInfo===void 0?void 0:naturalEntityInfo.recordsTotal,setOffset:setOffsetNaturalEntity})))))),/*#__PURE__*/React.createElement(\"h3\",{className:\"header\"},\"\\u0421\\u043E\\u0442\\u0440\\u0443\\u0434\\u043D\\u0438\\u043A\\u0438\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"common-table-head\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"\\u0424\\u0418\\u041E\"),/*#__PURE__*/React.createElement(\"td\",null,\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"),/*#__PURE__*/React.createElement(\"td\",null,\"\\u0414\\u043E\\u043B\\u0436\\u043D\\u043E\\u0441\\u0442\\u044C\"),/*#__PURE__*/React.createElement(\"td\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,isEmptyEmployee&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u043F\\u0443\\u0441\\u0442.\"),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null)),employeeList.map(function(item){var surname=item.surname,name=item.name,patronymic=item.patronymic,status=item.status,position=item.position,id=item.id;var fio=arrToString([surname,name,patronymic]);return/*#__PURE__*/React.createElement(\"tr\",{key:id},/*#__PURE__*/React.createElement(\"td\",null,fio&&/*#__PURE__*/React.createElement(TruncateText,{text:fio})),/*#__PURE__*/React.createElement(\"td\",null,status===RelationStatus.Active?'активный':'заблокированный'),/*#__PURE__*/React.createElement(\"td\",null,position),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconTrash,{fill:\"currentColor\"}),onClick:function onClick(){return onRemoveEmployee(id);}},\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\")));})),/*#__PURE__*/React.createElement(\"tfoot\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconPlus,{fill:\"currentColor\"}),onClick:function onClick(){return onAdd(GroupUsersType.Employee);}},\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\")),/*#__PURE__*/React.createElement(\"td\",{colSpan:3},/*#__PURE__*/React.createElement(\"div\",{className:\"pagination-right\"},/*#__PURE__*/React.createElement(AddedEmployeeFilter,{id:id}),/*#__PURE__*/React.createElement(Pagination,{listLength:employeeInfo===null||employeeInfo===void 0?void 0:employeeInfo.recordsTotal,setOffset:setOffsetEmployee}))))))),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconTrash,{fill:\"currentColor\"}),onClick:onRemoveGroup,kind:ButtonKinds.Danger},\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0433\\u0440\\u0443\\u043F\\u043F\\u0443\"))),/*#__PURE__*/React.createElement(SubModal,{isVisible:isSubModalOpen,onHide:function onHide(){return setIsSubModalOpen(false);},render:function render(data){return subModalContent;}}));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/components/groups/modal/GroupCardModal.tsx"],"names":["React","useDispatch","useSelector","Modal","Button","ButtonKinds","Icons","SubModal","SubModalLegalEntityTable","SubModalNaturalEntityTable","SubModalEmployeeTable","getLegalEntityGroup","getNaturalEntityGroup","getEmployeeGroup","removeFromGroup","removeEmployeeFromGroup","removeGroup","setAddedGroupLegalEntity","setAddedGroupNaturalEntity","setAddedGroupEmployee","legalEntityInfoAdded","naturalEntityInfoAdded","employeeEntityInfoAdded","group","RelationStatus","Pagination","AddedLegalEntityFilter","AddedNaturalEntityFilter","AddedEmployeeFilter","arrToString","TruncateText","getExternalTypeToString","GroupCardModal","props","dispatch","groupOffset","offset","legalEntityInfo","legalEntityList","rows","isEmptyLegalEntity","length","naturalEntityInfo","naturalEntityList","isEmptyNaturalEntity","employeeInfo","employeeList","isEmptyEmployee","isVisible","setIsVisible","onHide","id","title","useState","isSubModalOpen","setIsSubModalOpen","subModalContent","setSubModalContent","offsetLegalEntity","setOffsetLegalEntity","offsetNaturalEntity","setOffsetNaturalEntity","offsetEmployee","setOffsetEmployee","GroupUsersType","useEffect","onAdd","usersType","LegalEntity","NaturalEntity","Employee","onRemove","contractorId","groupId","onRemoveEmployee","onRemoveGroup","map","item","name","status","inn","externalType","externalOperator","network","typeToStr","Active","recordsTotal","surname","patronymic","socialNumber","fio","position","Danger","data"],"mappings":"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","sourcesContent":["import React, { ReactElement } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { Modal, Button, ButtonKinds, Icons } from '@distate/components';\r\n\r\nimport { SubModal } from './SubModal';\r\nimport { SubModalLegalEntityTable } from './SubModalLegalEntityTable';\r\nimport { SubModalNaturalEntityTable } from './SubModalNaturalEntityTable';\r\nimport { SubModalEmployeeTable } from './SubModalEmployeeTable';\r\nimport {\r\n  getLegalEntityGroup,\r\n  getNaturalEntityGroup,\r\n  getEmployeeGroup,\r\n  removeFromGroup,\r\n  removeEmployeeFromGroup,\r\n  removeGroup,\r\n  setAddedGroupLegalEntity,\r\n  setAddedGroupNaturalEntity,\r\n  setAddedGroupEmployee\r\n} from '../../../store/actions';\r\nimport {\r\n  legalEntityInfoAdded,\r\n  naturalEntityInfoAdded,\r\n  employeeEntityInfoAdded,\r\n  group\r\n} from '../../../store/selectors';\r\nimport { RelationStatus } from '../../../helpers/contractors.typings';\r\nimport { Pagination } from '../../../../../common/pagination';\r\nimport { AddedLegalEntityFilter, AddedNaturalEntityFilter, AddedEmployeeFilter } from './filters';\r\nimport { arrToString } from '../../../helpers/contractors.helpers';\r\nimport { TruncateText } from '../../../../../common/truncate-text';\r\nimport { getExternalTypeToString } from '../../../../../helpers/heplers';\r\n\r\ninterface Props {\r\n  isVisible: boolean;\r\n  setIsVisible: Function;\r\n  onHide: Function;\r\n  id: number;\r\n  title: string;\r\n}\r\n\r\nexport const GroupCardModal = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const groupOffset = useSelector(group).offset;\r\n  const legalEntityInfo = useSelector(legalEntityInfoAdded);\r\n  /** список добавленных ЮЛ */\r\n  const legalEntityList = legalEntityInfo?.rows || [];\r\n  const isEmptyLegalEntity = legalEntityList.length === 0;\r\n\r\n  const naturalEntityInfo = useSelector(naturalEntityInfoAdded);\r\n  /** список добавленных ФЛ */\r\n  const naturalEntityList = naturalEntityInfo?.rows || [];\r\n  const isEmptyNaturalEntity = naturalEntityList.length === 0;\r\n\r\n  const employeeInfo = useSelector(employeeEntityInfoAdded);\r\n  /** список добавленных Сотрудников */\r\n  const employeeList = employeeInfo?.rows || [];\r\n  const isEmptyEmployee = employeeList.length === 0;\r\n\r\n  const { isVisible, setIsVisible, onHide, id, title } = props;\r\n  const [isSubModalOpen, setIsSubModalOpen] = React.useState(false);\r\n  const [subModalContent, setSubModalContent] = React.useState<ReactElement>();\r\n\r\n  const [offsetLegalEntity, setOffsetLegalEntity] = React.useState(false);\r\n  const [offsetNaturalEntity, setOffsetNaturalEntity] = React.useState(false);\r\n  const [offsetEmployee, setOffsetEmployee] = React.useState(false);\r\n\r\n  enum GroupUsersType {\r\n    LegalEntity = 'legalEntity',\r\n    NaturalEntity = 'naturalEntity',\r\n    Employee = 'employee'\r\n  }\r\n\r\n  /** запись в стор значения пагинации ЮЛ */\r\n  React.useEffect(() => {\r\n    dispatch(setAddedGroupLegalEntity({ offset: offsetLegalEntity }));\r\n  }, [dispatch, offsetLegalEntity]);\r\n\r\n  /** запись в стор значения пагинации ФЛ*/\r\n  React.useEffect(() => {\r\n    dispatch(setAddedGroupNaturalEntity({ offset: offsetNaturalEntity }));\r\n  }, [dispatch, offsetNaturalEntity]);\r\n\r\n  /** запись в стор значения пагинации Сотрудников */\r\n  React.useEffect(() => {\r\n    dispatch(setAddedGroupEmployee({ offset: offsetEmployee }));\r\n  }, [dispatch, offsetEmployee]);\r\n\r\n  const onAdd = (usersType: GroupUsersType) => {\r\n    // dispatch(getGroupContractorsInfo(id));\r\n    if (usersType === GroupUsersType.LegalEntity) {\r\n      dispatch(getLegalEntityGroup({ id, offset: offsetLegalEntity }));\r\n      setSubModalContent((<SubModalLegalEntityTable groupId={id} />) as ReactElement);\r\n    }\r\n    if (usersType === GroupUsersType.NaturalEntity) {\r\n      dispatch(getNaturalEntityGroup({ id, offset: offsetNaturalEntity }));\r\n      setSubModalContent((<SubModalNaturalEntityTable groupId={id} />) as ReactElement);\r\n    }\r\n    if (usersType === GroupUsersType.Employee) {\r\n      dispatch(getEmployeeGroup({ id, offset: offsetEmployee }));\r\n      setSubModalContent((<SubModalEmployeeTable groupId={id} />) as ReactElement);\r\n    }\r\n    setIsSubModalOpen(true);\r\n  };\r\n\r\n  /** удаление ЮЛ и ФЛ */\r\n  const onRemove = (contractorId: number) => {\r\n    dispatch(removeFromGroup({ groupId: id, contractorId }));\r\n  };\r\n\r\n  /** удаление сотрудника */\r\n  const onRemoveEmployee = (contractorId: number) => {\r\n    dispatch(removeEmployeeFromGroup({ groupId: id, contractorId }));\r\n  };\r\n\r\n  /** удаление группы */\r\n  const onRemoveGroup = () => {\r\n    dispatch(removeGroup({ id, offset: groupOffset }));\r\n    setIsVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal hide={() => onHide()} isVisible={isVisible}>\r\n        <Modal.Header title={`Группа ${title}`} />\r\n        <Modal.Body>\r\n          <h3 className=\"header\">Юридические лица</h3>\r\n          <table className=\"table\">\r\n            <thead className=\"common-table-head\">\r\n              <tr>\r\n                <td>Название</td>\r\n                <td>Статус</td>\r\n                <td>ИНН</td>\r\n                <td></td>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {isEmptyLegalEntity && (\r\n                <tr>\r\n                  <td>Список пуст.</td>\r\n                  <td></td>\r\n                  <td></td>\r\n                  <td></td>\r\n                </tr>\r\n              )}\r\n              {legalEntityList.map(item => {\r\n                const {\r\n                  id,\r\n                  name,\r\n                  status,\r\n                  inn,\r\n                  contractorId,\r\n                  externalType,\r\n                  externalOperator,\r\n                  network\r\n                } = item;\r\n\r\n                const typeToStr = getExternalTypeToString(externalType, externalOperator, network);\r\n                const title = name + typeToStr;\r\n\r\n                return (\r\n                  <tr key={id}>\r\n                    <td>{title.length > 1 && <TruncateText text={title} />}</td>\r\n                    <td>{status === RelationStatus.Active ? 'активный' : 'заблокированный'}</td>\r\n                    <td>{inn}</td>\r\n                    <td>\r\n                      <Button\r\n                        icon={<Icons.IconTrash fill=\"currentColor\" />}\r\n                        onClick={() => onRemove(contractorId)}\r\n                      >\r\n                        Удалить\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n            <tfoot>\r\n              <tr>\r\n                <td>\r\n                  <Button\r\n                    icon={<Icons.IconPlus fill=\"currentColor\" />}\r\n                    onClick={() => onAdd(GroupUsersType.LegalEntity)}\r\n                  >\r\n                    Добавить\r\n                  </Button>\r\n                </td>\r\n                <td colSpan={3}>\r\n                  <div className=\"pagination-right\">\r\n                    <AddedLegalEntityFilter id={id} />\r\n                    <Pagination\r\n                      listLength={legalEntityInfo?.recordsTotal}\r\n                      setOffset={setOffsetLegalEntity}\r\n                    />\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n\r\n          <h3 className=\"header\">Физические лица</h3>\r\n          <table className=\"table\">\r\n            <thead className=\"common-table-head\">\r\n              <tr>\r\n                <td>ФИО</td>\r\n                <td>Статус</td>\r\n                <td>СНИЛС</td>\r\n                <td></td>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {isEmptyNaturalEntity && (\r\n                <tr>\r\n                  <td>Список пуст.</td>\r\n                  <td></td>\r\n                  <td></td>\r\n                  <td></td>\r\n                </tr>\r\n              )}\r\n              {naturalEntityList.map(item => {\r\n                const { id, surname, name, patronymic, status, socialNumber, contractorId } = item;\r\n                const fio = arrToString([surname, name, patronymic]);\r\n\r\n                return (\r\n                  <tr key={id}>\r\n                    <td>{fio && <TruncateText text={fio} />}</td>\r\n                    <td>{status === RelationStatus.Active ? 'активный' : 'заблокированный'}</td>\r\n                    <td>{socialNumber}</td>\r\n                    <td>\r\n                      <Button\r\n                        icon={<Icons.IconTrash fill=\"currentColor\" />}\r\n                        onClick={() => onRemove(contractorId)}\r\n                      >\r\n                        Удалить\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n            <tfoot>\r\n              <tr>\r\n                <td>\r\n                  <Button\r\n                    icon={<Icons.IconPlus fill=\"currentColor\" />}\r\n                    onClick={() => onAdd(GroupUsersType.NaturalEntity)}\r\n                  >\r\n                    Добавить\r\n                  </Button>\r\n                </td>\r\n                <td colSpan={3}>\r\n                  <div className=\"pagination-right\">\r\n                    <AddedNaturalEntityFilter id={id} />\r\n                    <Pagination\r\n                      listLength={naturalEntityInfo?.recordsTotal}\r\n                      setOffset={setOffsetNaturalEntity}\r\n                    />\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n\r\n          <h3 className=\"header\">Сотрудники</h3>\r\n          <table className=\"table\">\r\n            <thead className=\"common-table-head\">\r\n              <tr>\r\n                <td>ФИО</td>\r\n                <td>Статус</td>\r\n                <td>Должность</td>\r\n                <td></td>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {isEmptyEmployee && (\r\n                <tr>\r\n                  <td>Список пуст.</td>\r\n                  <td></td>\r\n                  <td></td>\r\n                  <td></td>\r\n                </tr>\r\n              )}\r\n              {employeeList.map(item => {\r\n                const { surname, name, patronymic, status, position, id } = item;\r\n                const fio = arrToString([surname, name, patronymic]);\r\n\r\n                return (\r\n                  <tr key={id}>\r\n                    <td>{fio && <TruncateText text={fio} />}</td>\r\n                    <td>{status === RelationStatus.Active ? 'активный' : 'заблокированный'}</td>\r\n                    <td>{position}</td>\r\n                    <td>\r\n                      <Button\r\n                        icon={<Icons.IconTrash fill=\"currentColor\" />}\r\n                        onClick={() => onRemoveEmployee(id)}\r\n                      >\r\n                        Удалить\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n            <tfoot>\r\n              <tr>\r\n                <td>\r\n                  <Button\r\n                    icon={<Icons.IconPlus fill=\"currentColor\" />}\r\n                    onClick={() => onAdd(GroupUsersType.Employee)}\r\n                  >\r\n                    Добавить\r\n                  </Button>\r\n                </td>\r\n                <td colSpan={3}>\r\n                  <div className=\"pagination-right\">\r\n                    <AddedEmployeeFilter id={id} />\r\n                    <Pagination\r\n                      listLength={employeeInfo?.recordsTotal}\r\n                      setOffset={setOffsetEmployee}\r\n                    />\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button\r\n            icon={<Icons.IconTrash fill=\"currentColor\" />}\r\n            onClick={onRemoveGroup}\r\n            kind={ButtonKinds.Danger}\r\n          >\r\n            Удалить группу\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      <SubModal\r\n        isVisible={isSubModalOpen}\r\n        onHide={() => setIsSubModalOpen(false)}\r\n        render={(data: string) => subModalContent}\r\n      />\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}