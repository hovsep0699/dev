{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Button,Modal,Icons}from'@distate/components';import{getEmployeeNoContractorGroups,addEmployeeContractorGroups}from'../../store/actions';import{selectEmployeeNoContractorGroupRows,selectEmployeeNoContractorGroupTotal}from'../../store/selectors';import{Pagination}from'../../../../common/pagination';/** группы контрагентов, которые можно добавить сотруднику */export var EmployeeContractorGroupsSubmodal=function EmployeeContractorGroupsSubmodal(props){var hide=props.hide,isVisible=props.isVisible,id=props.id;var dispatch=useDispatch();var rows=useSelector(selectEmployeeNoContractorGroupRows);var recordsTotal=useSelector(selectEmployeeNoContractorGroupTotal);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),offset=_useState2[0],setOffset=_useState2[1];useEffect(function(){id&&dispatch(getEmployeeNoContractorGroups({id:id,props:{offset:offset}}));},[dispatch,id,offset]);var onAddGroup=function onAddGroup(groupId){dispatch(addEmployeeContractorGroups({groupId:groupId,employeeId:id}));};return/*#__PURE__*/React.createElement(Modal,{hide:hide,isVisible:isVisible,zIndex:1001},/*#__PURE__*/React.createElement(Modal.Header,{title:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432\"}),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"common-table-head\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"\\u0413\\u0440\\u0443\\u043F\\u043F\\u0430 \\u043A\\u043E\\u043D\\u0442\\u0440\\u0430\\u0433\\u0435\\u043D\\u0442\\u043E\\u0432\"),/*#__PURE__*/React.createElement(\"td\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,rows===null||rows===void 0?void 0:rows.map(function(row){var id=row.id,title=row.title;return/*#__PURE__*/React.createElement(\"tr\",{key:id},/*#__PURE__*/React.createElement(\"td\",null,title),/*#__PURE__*/React.createElement(\"td\",{align:\"right\"},/*#__PURE__*/React.createElement(Button,{icon:/*#__PURE__*/React.createElement(Icons.IconPlus,{fill:\"currentColor\"}),onClick:function onClick(){return onAddGroup(id);}},\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\")));})),/*#__PURE__*/React.createElement(\"tfoot\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"pagination-right\"},/*#__PURE__*/React.createElement(Pagination,{setOffset:setOffset,listLength:recordsTotal}))))))));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/company/components/staff/EmployeeContractorGroupsSubmodal.tsx"],"names":["React","useEffect","useState","useDispatch","useSelector","Button","Modal","Icons","getEmployeeNoContractorGroups","addEmployeeContractorGroups","selectEmployeeNoContractorGroupRows","selectEmployeeNoContractorGroupTotal","Pagination","EmployeeContractorGroupsSubmodal","props","hide","isVisible","id","dispatch","rows","recordsTotal","offset","setOffset","onAddGroup","groupId","employeeId","map","row","title"],"mappings":"2KAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,KAAxB,KAAqC,qBAArC,CACA,OAASC,6BAAT,CAAwCC,2BAAxC,KAA2E,qBAA3E,CACA,OACEC,mCADF,CAEEC,oCAFF,KAGO,uBAHP,CAIA,OAASC,UAAT,KAA2B,+BAA3B,CAOA,6DACA,MAAO,IAAMC,CAAAA,gCAAgC,CAAG,QAAnCA,CAAAA,gCAAmC,CAACC,KAAD,CAAkB,IACxDC,CAAAA,IADwD,CAChCD,KADgC,CACxDC,IADwD,CAClDC,SADkD,CAChCF,KADgC,CAClDE,SADkD,CACvCC,EADuC,CAChCH,KADgC,CACvCG,EADuC,CAEhE,GAAMC,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CAEA,GAAMgB,CAAAA,IAAI,CAAGf,WAAW,CAACM,mCAAD,CAAxB,CACA,GAAMU,CAAAA,YAAY,CAAGhB,WAAW,CAACO,oCAAD,CAAhC,CALgE,cAOpCT,QAAQ,CAAC,CAAD,CAP4B,wCAOzDmB,MAPyD,eAOjDC,SAPiD,eAShErB,SAAS,CAAC,UAAM,CACdgB,EAAE,EAAIC,QAAQ,CAACV,6BAA6B,CAAC,CAAES,EAAE,CAAFA,EAAF,CAAMH,KAAK,CAAE,CAAEO,MAAM,CAANA,MAAF,CAAb,CAAD,CAA9B,CAAd,CACD,CAFQ,CAEN,CAACH,QAAD,CAAWD,EAAX,CAAeI,MAAf,CAFM,CAAT,CAIA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,OAAD,CAAqB,CACtCN,QAAQ,CAACT,2BAA2B,CAAC,CAAEe,OAAO,CAAPA,OAAF,CAAWC,UAAU,CAAER,EAAvB,CAAD,CAA5B,CAAR,CACD,CAFD,CAIA,mBACE,oBAAC,KAAD,EAAO,IAAI,CAAEF,IAAb,CAAmB,SAAS,CAAEC,SAA9B,CAAyC,MAAM,CAAE,IAAjD,eACE,oBAAC,KAAD,CAAO,MAAP,EAAc,KAAK,CAAC,qHAApB,EADF,cAGE,oBAAC,KAAD,CAAO,IAAP,mBACE,6BAAO,SAAS,CAAC,OAAjB,eACE,6BAAO,SAAS,CAAC,mBAAjB,eACE,2CACE,8IADF,cAEE,8BAFF,CADF,CADF,cAOE,iCACGG,IADH,SACGA,IADH,iBACGA,IAAI,CAAEO,GAAN,CAAU,SAAAC,GAAG,CAAI,IACRV,CAAAA,EADQ,CACMU,GADN,CACRV,EADQ,CACJW,KADI,CACMD,GADN,CACJC,KADI,CAEhB,mBACE,0BAAI,GAAG,CAAEX,EAAT,eACE,8BAAKW,KAAL,CADF,cAEE,0BAAI,KAAK,CAAC,OAAV,eACE,oBAAC,MAAD,EACE,IAAI,cAAE,oBAAC,KAAD,CAAO,QAAP,EAAgB,IAAI,CAAC,cAArB,EADR,CAEE,OAAO,CAAE,yBAAML,CAAAA,UAAU,CAACN,EAAD,CAAhB,EAFX,qDADF,CAFF,CADF,CAaD,CAfA,CADH,CAPF,cAyBE,8CACE,2CACE,8BADF,cAEE,2CACE,2BAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,UAAD,EAAY,SAAS,CAAEK,SAAvB,CAAkC,UAAU,CAAEF,YAA9C,EADF,CADF,CAFF,CADF,CAzBF,CADF,CAHF,CADF,CA4CD,CA7DM","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, Modal, Icons } from '@distate/components';\r\nimport { getEmployeeNoContractorGroups, addEmployeeContractorGroups } from '../../store/actions';\r\nimport {\r\n  selectEmployeeNoContractorGroupRows,\r\n  selectEmployeeNoContractorGroupTotal\r\n} from '../../store/selectors';\r\nimport { Pagination } from '../../../../common/pagination';\r\n\r\ntype Props = {\r\n  hide: () => void;\r\n  isVisible: boolean;\r\n  id: number;\r\n};\r\n/** группы контрагентов, которые можно добавить сотруднику */\r\nexport const EmployeeContractorGroupsSubmodal = (props: Props) => {\r\n  const { hide, isVisible, id } = props;\r\n  const dispatch = useDispatch();\r\n\r\n  const rows = useSelector(selectEmployeeNoContractorGroupRows);\r\n  const recordsTotal = useSelector(selectEmployeeNoContractorGroupTotal);\r\n\r\n  const [offset, setOffset] = useState(0);\r\n\r\n  useEffect(() => {\r\n    id && dispatch(getEmployeeNoContractorGroups({ id, props: { offset } }));\r\n  }, [dispatch, id, offset]);\r\n\r\n  const onAddGroup = (groupId: number) => {\r\n    dispatch(addEmployeeContractorGroups({ groupId, employeeId: id }));\r\n  };\r\n\r\n  return (\r\n    <Modal hide={hide} isVisible={isVisible} zIndex={1001}>\r\n      <Modal.Header title=\"Добавление элементов\" />\r\n\r\n      <Modal.Body>\r\n        <table className=\"table\">\r\n          <thead className=\"common-table-head\">\r\n            <tr>\r\n              <td>Группа контрагентов</td>\r\n              <td></td>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rows?.map(row => {\r\n              const { id, title } = row;\r\n              return (\r\n                <tr key={id}>\r\n                  <td>{title}</td>\r\n                  <td align=\"right\">\r\n                    <Button\r\n                      icon={<Icons.IconPlus fill=\"currentColor\" />}\r\n                      onClick={() => onAddGroup(id)}\r\n                    >\r\n                      Добавить\r\n                    </Button>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <td></td>\r\n              <td>\r\n                <div className=\"pagination-right\">\r\n                  <Pagination setOffset={setOffset} listLength={recordsTotal} />\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}