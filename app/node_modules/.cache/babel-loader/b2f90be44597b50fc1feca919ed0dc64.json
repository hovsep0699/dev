{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _applyDecoratedDescriptor from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";var _class;import autobind from\"autobind-decorator\";import{IJsonManager}from\"./IJsonManager\";import{cleanObject}from\"../utils/json_hepler\";export var JsonCreateManager=(_class=/*#__PURE__*/function(_IJsonManager){_inherits(JsonCreateManager,_IJsonManager);var _super=_createSuper(JsonCreateManager);function JsonCreateManager(){_classCallCheck(this,JsonCreateManager);return _super.apply(this,arguments);}_createClass(JsonCreateManager,[{key:\"toFlatJson\",value:function toFlatJson(){var _cleanObject;var sectionState=this.sectionPresenter.getState();var presenterState=this.presenter.getState();var object={predecessors:[],assignees:[]};presenterState.principals.map(function(element){var entity=element.toFlatJson();object.predecessors.push(entity);return object;});presenterState.representatives.map(function(element){var entity=element.toFlatJson();object.assignees.push(entity);return object;});return(_cleanObject=cleanObject({force:false,document:{type:this.sectionPresenter.getState().selectedAttorneyType.value,poa:_objectSpread({info:sectionState.info.toFlatJson(),powers:sectionState.powers.toFlatJson()},object)}}))!==null&&_cleanObject!==void 0?_cleanObject:{};}}]);return JsonCreateManager;}(IJsonManager),(_applyDecoratedDescriptor(_class.prototype,\"toFlatJson\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"toFlatJson\"),_class.prototype)),_class);","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/POA/MCHD_ROOT/core/JsonManager.ts"],"names":["autobind","IJsonManager","cleanObject","JsonCreateManager","sectionState","sectionPresenter","getState","presenterState","presenter","object","predecessors","assignees","principals","map","element","entity","toFlatJson","push","representatives","force","document","type","selectedAttorneyType","value","poa","info","powers"],"mappings":"khCAAA,MAAOA,CAAAA,QAAP,KAAqB,oBAArB,CAIA,OAAQC,YAAR,KAA2B,gBAA3B,CAGA,OAAQC,WAAR,KAA0B,sBAA1B,CAGA,UAAaC,CAAAA,iBAAb,2TAG6C,kBACrC,GAAMC,CAAAA,YAAmC,CAAG,KAAKC,gBAAL,CAAsBC,QAAtB,EAA5C,CACA,GAAMC,CAAAA,cAAoC,CAAG,KAAKC,SAAL,CAAeF,QAAf,EAA7C,CACA,GAAMG,CAAAA,MAA2B,CAAG,CAChCC,YAAY,CAAE,EADkB,CAEhCC,SAAS,CAAE,EAFqB,CAApC,CAKAJ,cAAc,CAACK,UAAf,CAA0BC,GAA1B,CAA8B,SAACC,OAAD,CAAwB,CAClD,GAAMC,CAAAA,MAA2B,CAAGD,OAAO,CAACE,UAAR,EAApC,CACAP,MAAM,CAACC,YAAP,CAAoBO,IAApB,CAAyBF,MAAzB,EACA,MAAON,CAAAA,MAAP,CACH,CAJD,EAKAF,cAAc,CAACW,eAAf,CAA+BL,GAA/B,CAAmC,SAACC,OAAD,CAA6B,CAC5D,GAAMC,CAAAA,MAA2B,CAAGD,OAAO,CAACE,UAAR,EAApC,CACAP,MAAM,CAACE,SAAP,CAAiBM,IAAjB,CAAsBF,MAAtB,EACA,MAAON,CAAAA,MAAP,CACH,CAJD,EAKA,oBAAOP,WAAW,CAAC,CACfiB,KAAK,CAAE,KADQ,CAEfC,QAAQ,CAAE,CACNC,IAAI,CAAE,KAAKhB,gBAAL,CAAsBC,QAAtB,GAAiCgB,oBAAjC,CAAsDC,KADtD,CAENC,GAAG,gBACCC,IAAI,CAAErB,YAAY,CAACqB,IAAb,CAAkBT,UAAlB,EADP,CAECU,MAAM,CAAEtB,YAAY,CAACsB,MAAb,CAAoBV,UAApB,EAFT,EAGIP,MAHJ,CAFG,CAFK,CAAD,CAAlB,6CAUM,EAVN,CAWH,CAhCL,+BAAuCR,YAAvC,4DAEKD,QAFL","sourcesContent":["import autobind from \"autobind-decorator\";\r\nimport {CreatePresenter} from \"../presentation/pages/CreatePoa/presenter/createPresenter\";\r\nimport {SectionPresenterState} from \"../presentation/pages/Sections/presenter/SectionPresenterState\";\r\nimport {CreatePresenterState} from \"../presentation/pages/CreatePoa/presenter/createPresenterState\";\r\nimport {IJsonManager} from \"./IJsonManager\";\r\nimport {Principal} from \"../domain/model/Principal\";\r\nimport {Representative} from \"../domain/model/Representative\";\r\nimport {cleanObject} from \"../utils/json_hepler\";\r\n\r\n\r\nexport class JsonCreateManager extends IJsonManager<CreatePresenter> {\r\n\r\n    @autobind\r\n    public toFlatJson(): Record<string, any> {\r\n        const sectionState: SectionPresenterState = this.sectionPresenter.getState();\r\n        const presenterState: CreatePresenterState = this.presenter.getState();\r\n        const object: Record<string, any> = {\r\n            predecessors: [],\r\n            assignees: []\r\n        };\r\n\r\n        presenterState.principals.map((element: Principal) => {\r\n            const entity: Record<string, any> = element.toFlatJson();\r\n            object.predecessors.push(entity);\r\n            return object;\r\n        })\r\n        presenterState.representatives.map((element: Representative) => {\r\n            const entity: Record<string, any> = element.toFlatJson();\r\n            object.assignees.push(entity);\r\n            return object;\r\n        })\r\n        return cleanObject({\r\n            force: false,\r\n            document: {\r\n                type: this.sectionPresenter.getState().selectedAttorneyType.value,\r\n                poa: {\r\n                    info: sectionState.info.toFlatJson(),\r\n                    powers: sectionState.powers.toFlatJson(),\r\n                    ...object\r\n                }\r\n            }\r\n        }) ?? {};\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}