{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import{Formik,Form}from'formik';import*as yup from'yup';import{Button,Input}from'@distate/components';import{ContractorTypes}from'../../../helpers/contractors.typings';import{ALLOWED_ONLY_NUMBER_ERROR,ALLOWED_ONLY_STRING_ERROR}from'../../../../../common/Lbl';import{getFoundPerson}from'../../../store/actions';import{selectSearch}from'../../../store/selectors';/** Форма поиска ФЛ */export var IndividualForm=function IndividualForm(){var _useSelector$errors,_useSelector$errors$m,_useSelector$errors$m2,_useSelector$errors2,_useSelector$errors2$,_useSelector$errors2$2,_useSelector$errors3,_useSelector$errors3$,_useSelector$errors3$2,_useSelector$errors4,_useSelector$errors4$,_useSelector$errors4$2;var dispatch=useDispatch();var nameErr=(_useSelector$errors=useSelector(selectSearch).errors)===null||_useSelector$errors===void 0?void 0:(_useSelector$errors$m=_useSelector$errors.messages)===null||_useSelector$errors$m===void 0?void 0:(_useSelector$errors$m2=_useSelector$errors$m.name)===null||_useSelector$errors$m2===void 0?void 0:_useSelector$errors$m2.errors;var surnameErr=(_useSelector$errors2=useSelector(selectSearch).errors)===null||_useSelector$errors2===void 0?void 0:(_useSelector$errors2$=_useSelector$errors2.messages)===null||_useSelector$errors2$===void 0?void 0:(_useSelector$errors2$2=_useSelector$errors2$.surname)===null||_useSelector$errors2$2===void 0?void 0:_useSelector$errors2$2.errors;var patronymicErr=(_useSelector$errors3=useSelector(selectSearch).errors)===null||_useSelector$errors3===void 0?void 0:(_useSelector$errors3$=_useSelector$errors3.messages)===null||_useSelector$errors3$===void 0?void 0:(_useSelector$errors3$2=_useSelector$errors3$.patronymic)===null||_useSelector$errors3$2===void 0?void 0:_useSelector$errors3$2.errors;var socialNumberErr=(_useSelector$errors4=useSelector(selectSearch).errors)===null||_useSelector$errors4===void 0?void 0:(_useSelector$errors4$=_useSelector$errors4.messages)===null||_useSelector$errors4$===void 0?void 0:(_useSelector$errors4$2=_useSelector$errors4$.socialNumber)===null||_useSelector$errors4$2===void 0?void 0:_useSelector$errors4$2.errors;var _onSubmit=function onSubmit(args){dispatch(getFoundPerson(args));};var validationsSchema=yup.object().shape({surname:yup.string().typeError(ALLOWED_ONLY_STRING_ERROR),name:yup.string().typeError(ALLOWED_ONLY_STRING_ERROR),patronymic:yup.string().typeError(ALLOWED_ONLY_STRING_ERROR),socialNumber:yup.number().typeError(ALLOWED_ONLY_NUMBER_ERROR).positive().integer()});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Formik,{initialValues:{surname:'',name:'',patronymic:'',socialNumber:'',contractorType:ContractorTypes.natural_entity},validateOnBlur:true,onSubmit:function onSubmit(values){return _onSubmit(values);},validationSchema:validationsSchema},function(_ref){var values=_ref.values,handleSubmit=_ref.handleSubmit,handleChange=_ref.handleChange,errors=_ref.errors,touched=_ref.touched,setFieldTouched=_ref.setFieldTouched;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Input,{label:\"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",name:\"surname\",value:values.surname,onChange:handleChange,error:!!errors.surname&&touched.surname||surnameErr,errors:(errors===null||errors===void 0?void 0:errors.surname)&&touched.surname?[errors.surname]:surnameErr,onBlur:function onBlur(){return setFieldTouched('surname',true);}}),/*#__PURE__*/React.createElement(Input,{label:\"\\u0418\\u043C\\u044F\",name:\"name\",value:values.name,onChange:handleChange,error:!!errors.name&&touched.name||nameErr,errors:(errors===null||errors===void 0?void 0:errors.name)&&touched.name?[errors.name]:nameErr,onBlur:function onBlur(){return setFieldTouched('name',true);}}),/*#__PURE__*/React.createElement(Input,{label:\"\\u041E\\u0442\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\",name:\"patronymic\",value:values.patronymic,onChange:handleChange,error:!!errors.patronymic&&touched.patronymic||patronymicErr,errors:(errors===null||errors===void 0?void 0:errors.patronymic)&&touched.patronymic?[errors.patronymic]:patronymicErr,onBlur:function onBlur(){return setFieldTouched('patronymic',true);}}),/*#__PURE__*/React.createElement(Input,{label:\"\\u0421\\u041D\\u0418\\u041B\\u0421\",name:\"socialNumber\",value:values.socialNumber,onChange:handleChange,error:!!errors.socialNumber&&touched.socialNumber||socialNumberErr,errors:(errors===null||errors===void 0?void 0:errors.socialNumber)&&touched.socialNumber?[errors.socialNumber]:socialNumberErr,onBlur:function onBlur(){return setFieldTouched('socialNumber',true);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(e){return handleSubmit;},type:\"submit\"},\"\\u041D\\u0430\\u0439\\u0442\\u0438\"));}));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/components/invite-contractor/forms/IndividualForm.tsx"],"names":["React","useDispatch","useSelector","Formik","Form","yup","Button","Input","ContractorTypes","ALLOWED_ONLY_NUMBER_ERROR","ALLOWED_ONLY_STRING_ERROR","getFoundPerson","selectSearch","IndividualForm","dispatch","nameErr","errors","messages","name","surnameErr","surname","patronymicErr","patronymic","socialNumberErr","socialNumber","onSubmit","args","validationsSchema","object","shape","string","typeError","number","positive","integer","contractorType","natural_entity","values","handleSubmit","handleChange","touched","setFieldTouched","e"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,CAAiBC,IAAjB,KAA6B,QAA7B,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CAEA,OAASC,MAAT,CAAiBC,KAAjB,KAA8B,qBAA9B,CACA,OAASC,eAAT,KAAgC,sCAAhC,CACA,OAASC,yBAAT,CAAoCC,yBAApC,KAAqE,2BAArE,CACA,OAASC,cAAT,KAA+B,wBAA/B,CACA,OAASC,YAAT,KAA6B,0BAA7B,CAUA,sBACA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,4QAClC,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CAEA,GAAMc,CAAAA,OAAO,sBAAGb,WAAW,CAACU,YAAD,CAAX,CAA0BI,MAA7B,qEAAG,oBAAkCC,QAArC,wEAAG,sBAA4CC,IAA/C,iDAAG,uBAAkDF,MAAlE,CACA,GAAMG,CAAAA,UAAU,uBAAGjB,WAAW,CAACU,YAAD,CAAX,CAA0BI,MAA7B,sEAAG,qBAAkCC,QAArC,wEAAG,sBAA4CG,OAA/C,iDAAG,uBAAqDJ,MAAxE,CACA,GAAMK,CAAAA,aAAa,uBAAGnB,WAAW,CAACU,YAAD,CAAX,CAA0BI,MAA7B,sEAAG,qBAAkCC,QAArC,wEAAG,sBAA4CK,UAA/C,iDAAG,uBAAwDN,MAA9E,CACA,GAAMO,CAAAA,eAAe,uBAAGrB,WAAW,CAACU,YAAD,CAAX,CAA0BI,MAA7B,sEAAG,qBAAkCC,QAArC,wEAAG,sBAA4CO,YAA/C,iDAAG,uBAA0DR,MAAlF,CAEA,GAAMS,CAAAA,SAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAgB,CAC/BZ,QAAQ,CAACH,cAAc,CAACe,IAAD,CAAf,CAAR,CACD,CAFD,CAIA,GAAMC,CAAAA,iBAAiB,CAAGtB,GAAG,CAACuB,MAAJ,GAAaC,KAAb,CAAmB,CAC3CT,OAAO,CAAEf,GAAG,CAACyB,MAAJ,GAAaC,SAAb,CAAuBrB,yBAAvB,CADkC,CAE3CQ,IAAI,CAAEb,GAAG,CAACyB,MAAJ,GAAaC,SAAb,CAAuBrB,yBAAvB,CAFqC,CAG3CY,UAAU,CAAEjB,GAAG,CAACyB,MAAJ,GAAaC,SAAb,CAAuBrB,yBAAvB,CAH+B,CAI3Cc,YAAY,CAAEnB,GAAG,CACd2B,MADW,GAEXD,SAFW,CAEDtB,yBAFC,EAGXwB,QAHW,GAIXC,OAJW,EAJ6B,CAAnB,CAA1B,CAWA,mBACE,4CACE,oBAAC,MAAD,EACE,aAAa,CAAE,CACbd,OAAO,CAAE,EADI,CAEbF,IAAI,CAAE,EAFO,CAGbI,UAAU,CAAE,EAHC,CAIbE,YAAY,CAAE,EAJD,CAKbW,cAAc,CAAE3B,eAAe,CAAC4B,cALnB,CADjB,CAQE,cAAc,KARhB,CASE,QAAQ,CAAE,kBAAAC,MAAM,QAAIZ,CAAAA,SAAQ,CAACY,MAAD,CAAZ,EATlB,CAUE,gBAAgB,CAAEV,iBAVpB,EAYG,kBAAGU,CAAAA,MAAH,MAAGA,MAAH,CAAWC,YAAX,MAAWA,YAAX,CAAyBC,YAAzB,MAAyBA,YAAzB,CAAuCvB,MAAvC,MAAuCA,MAAvC,CAA+CwB,OAA/C,MAA+CA,OAA/C,CAAwDC,eAAxD,MAAwDA,eAAxD,oBACC,oBAAC,IAAD,mBACE,oBAAC,KAAD,EACE,KAAK,CAAC,4CADR,CAEE,IAAI,CAAC,SAFP,CAGE,KAAK,CAAEJ,MAAM,CAACjB,OAHhB,CAIE,QAAQ,CAAEmB,YAJZ,CAKE,KAAK,CAAG,CAAC,CAACvB,MAAM,CAACI,OAAT,EAAoBoB,OAAO,CAACpB,OAA7B,EAAyCD,UALlD,CAME,MAAM,CAAE,CAAAH,MAAM,OAAN,EAAAA,MAAM,SAAN,QAAAA,MAAM,CAAEI,OAAR,GAAmBoB,OAAO,CAACpB,OAA3B,CAAqC,CAACJ,MAAM,CAACI,OAAR,CAArC,CAAwDD,UANlE,CAOE,MAAM,CAAE,wBAAMsB,CAAAA,eAAe,CAAC,SAAD,CAAY,IAAZ,CAArB,EAPV,EADF,cAUE,oBAAC,KAAD,EACE,KAAK,CAAC,oBADR,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEJ,MAAM,CAACnB,IAHhB,CAIE,QAAQ,CAAEqB,YAJZ,CAKE,KAAK,CAAG,CAAC,CAACvB,MAAM,CAACE,IAAT,EAAiBsB,OAAO,CAACtB,IAA1B,EAAmCH,OAL5C,CAME,MAAM,CAAE,CAAAC,MAAM,OAAN,EAAAA,MAAM,SAAN,QAAAA,MAAM,CAAEE,IAAR,GAAgBsB,OAAO,CAACtB,IAAxB,CAA+B,CAACF,MAAM,CAACE,IAAR,CAA/B,CAA+CH,OANzD,CAOE,MAAM,CAAE,wBAAM0B,CAAAA,eAAe,CAAC,MAAD,CAAS,IAAT,CAArB,EAPV,EAVF,cAmBE,oBAAC,KAAD,EACE,KAAK,CAAC,kDADR,CAEE,IAAI,CAAC,YAFP,CAGE,KAAK,CAAEJ,MAAM,CAACf,UAHhB,CAIE,QAAQ,CAAEiB,YAJZ,CAKE,KAAK,CAAG,CAAC,CAACvB,MAAM,CAACM,UAAT,EAAuBkB,OAAO,CAAClB,UAAhC,EAA+CD,aALxD,CAME,MAAM,CACJ,CAAAL,MAAM,OAAN,EAAAA,MAAM,SAAN,QAAAA,MAAM,CAAEM,UAAR,GAAsBkB,OAAO,CAAClB,UAA9B,CAA2C,CAACN,MAAM,CAACM,UAAR,CAA3C,CAAiED,aAPrE,CASE,MAAM,CAAE,wBAAMoB,CAAAA,eAAe,CAAC,YAAD,CAAe,IAAf,CAArB,EATV,EAnBF,cA8BE,oBAAC,KAAD,EACE,KAAK,CAAC,gCADR,CAEE,IAAI,CAAC,cAFP,CAGE,KAAK,CAAEJ,MAAM,CAACb,YAHhB,CAIE,QAAQ,CAAEe,YAJZ,CAKE,KAAK,CAAG,CAAC,CAACvB,MAAM,CAACQ,YAAT,EAAyBgB,OAAO,CAAChB,YAAlC,EAAmDD,eAL5D,CAME,MAAM,CACJ,CAAAP,MAAM,OAAN,EAAAA,MAAM,SAAN,QAAAA,MAAM,CAAEQ,YAAR,GAAwBgB,OAAO,CAAChB,YAAhC,CACI,CAACR,MAAM,CAACQ,YAAR,CADJ,CAEID,eATR,CAWE,MAAM,CAAE,wBAAMkB,CAAAA,eAAe,CAAC,cAAD,CAAiB,IAAjB,CAArB,EAXV,EA9BF,cA4CE,8BA5CF,cA6CE,oBAAC,MAAD,EAAQ,OAAO,CAAE,iBAAAC,CAAC,QAAIJ,CAAAA,YAAJ,EAAlB,CAAoC,IAAI,SAAxC,mCA7CF,CADD,EAZH,CADF,CADF,CAoED,CA3FM","sourcesContent":["import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Formik, Form } from 'formik';\r\nimport * as yup from 'yup';\r\n\r\nimport { Button, Input } from '@distate/components';\r\nimport { ContractorTypes } from '../../../helpers/contractors.typings';\r\nimport { ALLOWED_ONLY_NUMBER_ERROR, ALLOWED_ONLY_STRING_ERROR } from '../../../../../common/Lbl';\r\nimport { getFoundPerson } from '../../../store/actions';\r\nimport { selectSearch } from '../../../store/selectors';\r\n\r\ntype Args = {\r\n  name?: string;\r\n  surname?: string;\r\n  patronymic?: string;\r\n  /** СНИЛС */\r\n  socialNumber?: string;\r\n};\r\n\r\n/** Форма поиска ФЛ */\r\nexport const IndividualForm = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const nameErr = useSelector(selectSearch).errors?.messages?.name?.errors;\r\n  const surnameErr = useSelector(selectSearch).errors?.messages?.surname?.errors;\r\n  const patronymicErr = useSelector(selectSearch).errors?.messages?.patronymic?.errors;\r\n  const socialNumberErr = useSelector(selectSearch).errors?.messages?.socialNumber?.errors;\r\n\r\n  const onSubmit = (args: Args) => {\r\n    dispatch(getFoundPerson(args));\r\n  };\r\n\r\n  const validationsSchema = yup.object().shape({\r\n    surname: yup.string().typeError(ALLOWED_ONLY_STRING_ERROR),\r\n    name: yup.string().typeError(ALLOWED_ONLY_STRING_ERROR),\r\n    patronymic: yup.string().typeError(ALLOWED_ONLY_STRING_ERROR),\r\n    socialNumber: yup\r\n      .number()\r\n      .typeError(ALLOWED_ONLY_NUMBER_ERROR)\r\n      .positive()\r\n      .integer()\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          surname: '',\r\n          name: '',\r\n          patronymic: '',\r\n          socialNumber: '',\r\n          contractorType: ContractorTypes.natural_entity\r\n        }}\r\n        validateOnBlur\r\n        onSubmit={values => onSubmit(values)}\r\n        validationSchema={validationsSchema}\r\n      >\r\n        {({ values, handleSubmit, handleChange, errors, touched, setFieldTouched }) => (\r\n          <Form>\r\n            <Input\r\n              label=\"Фамилия\"\r\n              name=\"surname\"\r\n              value={values.surname}\r\n              onChange={handleChange}\r\n              error={(!!errors.surname && touched.surname) || surnameErr}\r\n              errors={errors?.surname && touched.surname ? [errors.surname] : surnameErr}\r\n              onBlur={() => setFieldTouched('surname', true)}\r\n            />\r\n            <Input\r\n              label=\"Имя\"\r\n              name=\"name\"\r\n              value={values.name}\r\n              onChange={handleChange}\r\n              error={(!!errors.name && touched.name) || nameErr}\r\n              errors={errors?.name && touched.name ? [errors.name] : nameErr}\r\n              onBlur={() => setFieldTouched('name', true)}\r\n            />\r\n            <Input\r\n              label=\"Отчество\"\r\n              name=\"patronymic\"\r\n              value={values.patronymic}\r\n              onChange={handleChange}\r\n              error={(!!errors.patronymic && touched.patronymic) || patronymicErr}\r\n              errors={\r\n                errors?.patronymic && touched.patronymic ? [errors.patronymic] : patronymicErr\r\n              }\r\n              onBlur={() => setFieldTouched('patronymic', true)}\r\n            />\r\n            <Input\r\n              label=\"СНИЛС\"\r\n              name=\"socialNumber\"\r\n              value={values.socialNumber}\r\n              onChange={handleChange}\r\n              error={(!!errors.socialNumber && touched.socialNumber) || socialNumberErr}\r\n              errors={\r\n                errors?.socialNumber && touched.socialNumber\r\n                  ? [errors.socialNumber]\r\n                  : socialNumberErr\r\n              }\r\n              onBlur={() => setFieldTouched('socialNumber', true)}\r\n            />\r\n\r\n            <br />\r\n            <Button onClick={e => handleSubmit} type={`submit`}>\r\n              Найти\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}