{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _applyDecoratedDescriptor from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";var _class,_temp;import React,{Component}from'react';import Button,{PRIMARY}from'../../../common/Button';import{ICON}from'@distate/components';import Modal from'../../../common/modal/Modal';import autobind from'autobind-decorator';import{CLEAR,SAVE,CHANGE}from'../../../common/Lbl';import classNames from'classnames';import style from'../../../common/form/documents/DocumentFormBuilder.module.css';import ParticipantAC from'./ParticipantAutocomplete';import get from'get-value';import ParticipantType from'@distate/core/dist/domain/documents/upd/standard_element/participant/ParticipantType';import Type from'@distate/core/dist/domain/documents/upd/standard_element/participant/Type';import Name from'@distate/core/dist/domain/documents/upd/standard_element/participant/UL/Name';import OKPOIP from'@distate/core/dist/domain/documents/upd/standard_element/participant/IP/OKPO';import INNIP from'@distate/core/dist/domain/documents/upd/standard_element/participant/IP/INN';import OGRNIP from'@distate/core/dist/domain/documents/upd/standard_element/participant/IP/OGRNIP';import OKPOUL from'@distate/core/dist/domain/documents/upd/standard_element/participant/UL/OKPO';import INNUL from'@distate/core/dist/domain/documents/upd/standard_element/participant/UL/INN';import KPP from'@distate/core/dist/domain/documents/upd/standard_element/participant/UL/KPP';import Division from'@distate/core/dist/domain/documents/upd/standard_element/participant/Division';import InformationForParticipant from'@distate/core/dist/domain/documents/upd/standard_element/participant/InformationForParticipant';import AddressRussianType from'@distate/core/dist/domain/documents/upd/standard_element/address/AddressRussianType';import PostalCode from'@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/PostalCode';import RegionCode from'@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/RegionCode';import District from'@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/District';import City from'@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/City';import Settlement from'@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/Settlement';import Street from'@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/Street';import House from'@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/House';import Building from'@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/Building';import Room from'@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/Room';import BankAccountNumber from'@distate/core/dist/domain/documents/upd/standard_element/participant/BankAccountNumber';import BIK from'@distate/core/dist/domain/documents/upd/standard_element/bank_details/BIK';import CorrespondentAccount from'@distate/core/dist/domain/documents/upd/standard_element/bank_details/CorrespondentAccount';import BankName from'@distate/core/dist/domain/documents/upd/standard_element/bank_details/Name';import Phone from'@distate/core/dist/domain/documents/upd/standard_element/contact/Phone';import Email from'@distate/core/dist/domain/documents/upd/standard_element/contact/Email';import Text from'../../../common/form/components/Text';import set from'set-value';import FieldsBlockSeparator from'../../../common/form/components/FieldsBlockSeparator';import RadioGroup from'../../../common/form/components/radio/RadioGroup';import EmptyOption from'@distate/core/dist/domain/common/options/EmptyOption';import{TOP}from'../../../common/Placement';import Select from'../../../common/form/components/select/Select';import IsSameOption from'@distate/core/dist/domain/common/options/IsSameOption';import UserInputOption from'@distate/core/dist/domain/common/options/UserInputOption';import{clone,combineMerge}from'../../../utils/ObjectUtil';import ULType from'@distate/core/dist/domain/documents/upd/standard_element/participant/ULType';import deepmerge from'deepmerge';import FIO from'@distate/core/dist/domain/documents/upd/standard_element/fio/FIO';import FIOName from'@distate/core/dist/domain/documents/upd/standard_element/fio/Name';import Surname from'@distate/core/dist/domain/documents/upd/standard_element/fio/Surname';import Patronymic from'@distate/core/dist/domain/documents/upd/standard_element/fio/Patronymic';import IPType from'@distate/core/dist/domain/documents/upd/standard_element/participant/IPType';import{Loading}from'@distate/components';import{getExternalTypeToString}from'../../../helpers/heplers';import{TruncateText}from'../../../common/truncate-text';var ParticipantForm=(_class=(_temp=/*#__PURE__*/function(_Component){_inherits(ParticipantForm,_Component);var _super=_createSuper(ParticipantForm);function ParticipantForm(props){var _this$dataMap;var _this;_classCallCheck(this,ParticipantForm);_this=_super.call(this,props);_this.handleSelectValue=function(Domain,scope){return function(value){_this.handleFieldValue(Domain,scope)(value);};};_this.handleFieldValue=function(Domain,scope){return function(value){var fieldsValues=clone(_this.state.fieldsValues);var path=scope?\"\".concat(scope,\".\").concat(Domain.field):Domain.field;var oldValue=get(fieldsValues,path);set(fieldsValues,path,value);if(oldValue!==value){_this.validateField(Domain,scope,value);}_this.setState({fieldsValues:fieldsValues},_this.handleRequiredFieldsForAddress);};};_this.validateField=function(Domain,scope,value){var fieldErrorPath=\"\".concat(scope,\".\").concat(Domain.field);var newFieldError=[];var errorMsg=Domain.validate(value);if(errorMsg){newFieldError.push(errorMsg);}else{_this.props.clearFieldError(fieldErrorPath);}set(_this.errors,\"\".concat(fieldErrorPath,\".errors\"),newFieldError);};_this.getFieldErrorMsg=function(Domain,scope){var path=scope?\"\".concat(scope,\".\").concat(Domain.field):Domain.field;var error=get(_this.errors,\"\".concat(path,\".errors\"));if(Array.isArray(error)&&error.length)return error[0];};_this.dataMap=(_this$dataMap={},_defineProperty(_this$dataMap,Type,'type.systemName'),_defineProperty(_this$dataMap,Name,'name'),_defineProperty(_this$dataMap,FIOName,'fio.name'),_defineProperty(_this$dataMap,Surname,'fio.surname'),_defineProperty(_this$dataMap,Patronymic,'fio.patronymic'),_defineProperty(_this$dataMap,OKPOIP,'division.classificationNumber'),_defineProperty(_this$dataMap,OKPOUL,'division.classificationNumber'),_defineProperty(_this$dataMap,OGRNIP,'ogrn'),_defineProperty(_this$dataMap,INNIP,'inn'),_defineProperty(_this$dataMap,INNUL,'inn'),_defineProperty(_this$dataMap,KPP,'division.kpp'),_defineProperty(_this$dataMap,Division,'name'),_defineProperty(_this$dataMap,InformationForParticipant,'informationForParticipant'),_defineProperty(_this$dataMap,PostalCode,'division.address.postalCode'),_defineProperty(_this$dataMap,RegionCode,'division.address.region.code'),_defineProperty(_this$dataMap,District,'division.address.district'),_defineProperty(_this$dataMap,City,'division.address.city'),_defineProperty(_this$dataMap,Settlement,'division.address.settlement'),_defineProperty(_this$dataMap,Street,'division.address.street'),_defineProperty(_this$dataMap,House,'division.address.house'),_defineProperty(_this$dataMap,Building,'division.address.building'),_defineProperty(_this$dataMap,Room,'division.address.room'),_defineProperty(_this$dataMap,BankAccountNumber,'accountNumber'),_defineProperty(_this$dataMap,BIK,'bik'),_defineProperty(_this$dataMap,CorrespondentAccount,'correspondentAccount'),_defineProperty(_this$dataMap,BankName,'bankName'),_defineProperty(_this$dataMap,Phone,'division.contact.phone'),_defineProperty(_this$dataMap,Email,'division.contact.email'),_this$dataMap);_this.renderInputField=function(DomainVO,scope){var customClasses=!_this.isVisibleField(DomainVO,scope)?style.hiddenAndZeroHeight:'';return/*#__PURE__*/React.createElement(\"div\",{className:customClasses},/*#__PURE__*/React.createElement(Text,{DomainVO:DomainVO,initialValue:_this.getFieldValue(DomainVO,scope),onValueChange:_this.handleFieldValue(DomainVO,scope),labelAlign:TOP,isRequired:_this.isFieldRequired(DomainVO,scope),errorMsg:_this.getFieldErrorMsg(DomainVO,scope)}));};_this.renderSelectField=function(DomainVO,scope){var customClasses=!_this.isVisibleField(DomainVO,scope)?style.hiddenAndZeroHeight:'';return/*#__PURE__*/React.createElement(\"div\",{className:customClasses},/*#__PURE__*/React.createElement(Select,{DomainVO:DomainVO,initialValue:_this.getFieldValue(DomainVO,scope),onValueChange:_this.handleSelectValue(DomainVO,scope),labelAlign:TOP,errorMsg:_this.getFieldErrorMsg(DomainVO,scope)}));};_this.state={isShowModal:false,isShowForm:false,isBusy:false,fieldsValues:{},radioValue:EmptyOption.value,typeSelectValue:ULType.value,chosenData:'',requiredFields:[]};_this.formScope=props.scope||props.DomainVO.field;_this.ULRequiredFields=[\"\".concat(_this.formScope,\".\").concat(Name.field)];_this.IPRequiredFields=[\"\".concat(_this.formScope,\".\").concat(FIO.field,\".\").concat(FIOName.field),\"\".concat(_this.formScope,\".\").concat(FIO.field,\".\").concat(Surname.field)];_this.errors=_this.props.errors||{};_this.IPCustomFields=[\"\".concat(FIO.field,\".\").concat(FIOName.field),\"\".concat(FIO.field,\".\").concat(Surname.field),\"\".concat(FIO.field,\".\").concat(Patronymic.field),OKPOIP.field,INNIP.field,OGRNIP.field];_this.ULCustomFields=[Name.field,OKPOUL.field,INNUL.field,KPP.field];return _this;}_createClass(ParticipantForm,[{key:\"componentDidMount\",value:function componentDidMount(){this.setInitialValues();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _prevState$fieldsValu,_this$state$fieldsVal;if(get(prevProps,\"errors.\".concat(this.formScope))!==get(this.props,\"errors.\".concat(this.formScope))){this.updateServerErrors();}if(((_prevState$fieldsValu=prevState.fieldsValues[this.formScope])===null||_prevState$fieldsValu===void 0?void 0:_prevState$fieldsValu.type)!==((_this$state$fieldsVal=this.state.fieldsValues[this.formScope])===null||_this$state$fieldsVal===void 0?void 0:_this$state$fieldsVal.type)){var _this$state$fieldsVal2;if(((_this$state$fieldsVal2=this.state.fieldsValues[this.formScope])===null||_this$state$fieldsVal2===void 0?void 0:_this$state$fieldsVal2.type)!==this.state.typeSelectValue){var _this$state$fieldsVal3;this.setState({typeSelectValue:(_this$state$fieldsVal3=this.state.fieldsValues[this.formScope])===null||_this$state$fieldsVal3===void 0?void 0:_this$state$fieldsVal3.type});}}}},{key:\"updateServerErrors\",value:function updateServerErrors(){var serverErrors=get(this.props,\"errors.\".concat(this.formScope));var companyTypeValue=get(this.state,\"fieldsValues.\".concat(this.formScope,\".type\"))||this.state.typeSelectValue;if(get(serverErrors,'name.errors'))serverErrors[Name.field]=serverErrors.name;if(get(serverErrors,'okpo.errors')){if(companyTypeValue===ULType.value){serverErrors[OKPOUL.field]=serverErrors.okpo;}if(companyTypeValue===IPType.value){serverErrors[OKPOIP.field]=serverErrors.okpo;}delete serverErrors.okpo;}if(get(serverErrors,'inn.errors')){if(companyTypeValue===ULType.value){serverErrors[INNUL.field]=serverErrors.inn;}if(companyTypeValue===IPType.value){serverErrors[INNIP.field]=serverErrors.inn;}delete serverErrors.inn;}this.errors=deepmerge(this.errors,_defineProperty({},this.formScope,serverErrors),{arrayMerge:combineMerge});if(get(serverErrors,'inn.errors'))this.props.clearFieldError(\"\".concat(this.formScope,\".inn\"));if(get(serverErrors,'okpo.errors'))this.props.clearFieldError(\"\".concat(this.formScope,\".okpo\"));}},{key:\"setInitialValues\",value:function setInitialValues(){var _this2=this;this.setState({requiredFields:[\"\".concat(this.formScope,\".\").concat(AddressRussianType.field,\".\").concat(RegionCode.field)]});var initialValues=this.props.initialValues;var chosenData='';if(!initialValues||!initialValues[this.formScope]&&!initialValues.isSame)return;if(initialValues.isSame){this.setState({radioValue:IsSameOption.value,chosenData:IsSameOption.title},this.setIsSame);return;}var checkedRadio=this.props.DomainVO.options.find(function(option){return UserInputOption.check(option.value);});var checkedSelect=initialValues[this.formScope].type||ULType.value;if(checkedSelect===ULType.value){var companyNameVal=initialValues[this.formScope].name;var okpoVal=initialValues[this.formScope].okpo;var innVal=initialValues[this.formScope].inn;var kppVal=initialValues[this.formScope].kpp;if(companyNameVal){initialValues[this.formScope][Name.field]=companyNameVal;chosenData=companyNameVal;}if(okpoVal){initialValues[this.formScope][OKPOUL.field]=okpoVal;}if(innVal){initialValues[this.formScope][INNUL.field]=innVal;}if(kppVal){initialValues[this.formScope][KPP.field]=kppVal;}}if(checkedSelect===IPType.value){var nameVal=get(initialValues,\"\".concat(this.formScope,\".fio.name\"));var surnameVal=get(initialValues,\"\".concat(this.formScope,\".fio.surname\"));var patronymicVal=get(initialValues,\"\".concat(this.formScope,\".fio.patronymic\"));var _okpoVal=initialValues[this.formScope].okpo;var _innVal=initialValues[this.formScope].inn;var ogrnVal=initialValues[this.formScope].ogrn;if(nameVal){set(initialValues,\"\".concat(this.formScope,\".\").concat(FIO.field,\".\").concat(FIOName.field),nameVal);}if(surnameVal){set(initialValues,\"\".concat(this.formScope,\".\").concat(FIO.field,\".\").concat(Surname.field),surnameVal);}if(patronymicVal){set(initialValues,\"\".concat(this.formScope,\".\").concat(FIO.field,\".\").concat(Patronymic.field),patronymicVal);}if(nameVal&&surnameVal){chosenData=\"\".concat(surnameVal,\" \").concat(nameVal);}if(_okpoVal){initialValues[this.formScope][OKPOIP.field]=_okpoVal;}if(_innVal){initialValues[this.formScope][INNIP.field]=_innVal;}if(ogrnVal){initialValues[this.formScope][OGRNIP.field]=ogrnVal;}}this.setState({fieldsValues:initialValues,radioValue:checkedRadio.value,typeSelectValue:checkedSelect,isShowForm:true},function(){_this2.saveData();if(_this2.hasAllRequiredFields()){_this2.setState({chosenData:chosenData});}});}},{key:\"handleRequiredFieldsForAddress\",value:function handleRequiredFieldsForAddress(){// const addressValues = get(\n//   this.state.fieldsValues,\n//   `${this.formScope}.${AddressRussianType.field}`\n// );\n// const hasAnyValue = addressValues && Object.values(addressValues).some(val => val);\n// if (hasAnyValue) {\n//   this.setState({\n//     requiredFields: [`${this.formScope}.${AddressRussianType.field}.${RegionCode.field}`]\n//   });\n// } else {\n//   this.setState({ requiredFields: [] });\n// }\n}},{key:\"isVisibleField\",value:function isVisibleField(domain,scope){var _this3=this;var fieldName=\"\".concat(scope,\".\").concat(domain.field);if(this.state.typeSelectValue===IPType.value){var isCustomULField=this.ULCustomFields.some(function(field){return fieldName===\"\".concat(_this3.formScope,\".\").concat(field);});return!isCustomULField;}if(this.state.typeSelectValue===ULType.value){var isCustomIPField=this.IPCustomFields.some(function(field){return fieldName===\"\".concat(_this3.formScope,\".\").concat(field);});return!isCustomIPField;}}},{key:\"getFormattedFieldsData\",value:function getFormattedFieldsData(){var fieldsValues=clone(this.state.fieldsValues);var scopedFieldsValues=fieldsValues[this.formScope];if(!scopedFieldsValues||Object.keys(scopedFieldsValues).length===0){return fieldsValues;}if(!scopedFieldsValues.address||Object.keys(scopedFieldsValues.address).length===0){delete scopedFieldsValues.address;}else{scopedFieldsValues.address.type='russian';}if(!scopedFieldsValues[Type.field]){scopedFieldsValues[Type.field]=ULType.value;}var checkedSelect=this.state.typeSelectValue||ULType.value;var okpoVal='';var innVal='';var ogrnVal=scopedFieldsValues[OGRNIP.field];var nameVal=get(scopedFieldsValues,\"fio.name\");var surnameVal=get(scopedFieldsValues,\"fio.surname\");var patronymicVal=get(scopedFieldsValues,\"fio.patronymic\");var companyNameVal=scopedFieldsValues[Name.field];var kpp=scopedFieldsValues[KPP.field];if(checkedSelect===ULType.value){okpoVal=scopedFieldsValues[OKPOUL.field];innVal=scopedFieldsValues[INNUL.field];if(companyNameVal){scopedFieldsValues.name=companyNameVal;delete scopedFieldsValues[Name.field];}if(nameVal){delete scopedFieldsValues.fio.name;}if(surnameVal){delete scopedFieldsValues.fio.surname;}if(patronymicVal){delete scopedFieldsValues.fio.patronymic;}if(ogrnVal){delete scopedFieldsValues.ogrn;}}if(checkedSelect===IPType.value){okpoVal=scopedFieldsValues[OKPOIP.field];innVal=scopedFieldsValues[INNIP.field];if(ogrnVal){scopedFieldsValues.ogrn=ogrnVal;}if(companyNameVal){delete scopedFieldsValues[Name.field];}if(scopedFieldsValues.name){delete scopedFieldsValues.name;}if(kpp){delete scopedFieldsValues.kpp;}}if(okpoVal){scopedFieldsValues.okpo=okpoVal;delete scopedFieldsValues[OKPOUL.field];delete scopedFieldsValues[OKPOIP.field];}if(innVal){scopedFieldsValues.inn=innVal;delete scopedFieldsValues[INNUL.field];delete scopedFieldsValues[INNIP.field];}fieldsValues[this.formScope]=scopedFieldsValues;return fieldsValues;}},{key:\"showModal\",value:function showModal(){this.setState({isShowModal:true});}},{key:\"hideModal\",value:function hideModal(){this.setState({isShowModal:false});}},{key:\"showForm\",value:function showForm(){this.setState({isShowForm:true});}},{key:\"hideForm\",value:function hideForm(){this.setState({isShowForm:false});}},{key:\"handleRadioChange\",value:function handleRadioChange(value){this.setState({radioValue:value});if(UserInputOption.check(value)){this.showForm();}else{this.hideForm();}}},{key:\"handleACSelectedItem\",value:function handleACSelectedItem(selectedItem){this.setState({acSelectedItem:selectedItem});}},{key:\"handleCompanyInfo\",value:function handleCompanyInfo(companyInfo){this.setState({companyInfo:companyInfo,isBusy:false});this.update(companyInfo,this.formScope,this.dataMap);}},{key:\"hasErrors\",value:function hasErrors(){var errors=get(this.errors,this.formScope);var hasErrors=errors&&Object.entries(errors).length;if(!hasErrors)return false;var customFieldsToIgnore=this.state.typeSelectValue===IPType.value?this.ULCustomFields:this.IPCustomFields;var hasOnlyIgnoringErrors=function hasOnlyIgnoringErrors(errorsObj,scope){return Object.entries(errorsObj).every(function(errorItem){var fieldName=scope?\"\".concat(scope,\".\").concat(errorItem[0]):errorItem[0];var hasErrors=errorItem[1].errors;var errorsIsEmpty=hasErrors&&!errorItem[1].errors.length;if(errorsIsEmpty)return true;if(!hasErrors&&Object.entries(errorItem[1]).length){return hasOnlyIgnoringErrors(errorItem[1],fieldName);}return customFieldsToIgnore.includes(fieldName);});};return!hasOnlyIgnoringErrors(errors);}},{key:\"isSameOptionExist\",value:function isSameOptionExist(){return this.props.DomainVO.options.includes(IsSameOption);}},{key:\"saveData\",value:function saveData(){if(this.isSameOptionExist()){this.removeData();}var fieldsValues=this.getFormattedFieldsData();this.props.setDataToFormState(fieldsValues);}},{key:\"removeData\",value:function removeData(){var dataToRemove=_defineProperty({},this.formScope,null);if(this.isSameOptionExist()){dataToRemove.isSame=null;}this.props.setDataToFormState(dataToRemove);}},{key:\"setIsSame\",value:function setIsSame(){this.removeData();this.props.setDataToFormState({isSame:true});}},{key:\"isFieldRequired\",value:function isFieldRequired(Domain,scope){var fieldName=scope?\"\".concat(scope,\".\").concat(Domain.field):\"\".concat(this.formScope,\".\").concat(Domain.field);var customRequiredFields=this.state.typeSelectValue===IPType.value?this.IPRequiredFields:this.ULRequiredFields;return this.state.requiredFields.includes(fieldName)||customRequiredFields.includes(fieldName);}},{key:\"hasAllRequiredFields\",value:function hasAllRequiredFields(){var _this4=this;var customRequiredFields=this.state.typeSelectValue===IPType.value?this.IPRequiredFields:this.ULRequiredFields;var hasAllCommonRequiredFields=this.state.requiredFields.every(function(field){return get(_this4.state.fieldsValues,field);});var hasAllCustomRequiredFields=customRequiredFields.every(function(field){return get(_this4.state.fieldsValues,field);});return hasAllCommonRequiredFields&&hasAllCustomRequiredFields;}},{key:\"handleSaveBtnClick\",value:function handleSaveBtnClick(){var radioValue=this.state.radioValue;var chosenData='';if(this.state.typeSelectValue===IPType.value){var name=get(this.state.fieldsValues,\"\".concat(this.formScope,\".\").concat(FIO.field,\".\").concat(FIOName.field));var surname=get(this.state.fieldsValues,\"\".concat(this.formScope,\".\").concat(FIO.field,\".\").concat(Surname.field));if(name&&surname)chosenData=\"\".concat(surname,\" \").concat(name);}if(this.state.typeSelectValue===ULType.value){chosenData=get(this.state.fieldsValues,\"\".concat(this.formScope,\".\").concat(Name.field));}if(radioValue===EmptyOption.value){this.removeData();this.setState({chosenData:''});}else if(radioValue===IsSameOption.value){this.setIsSame();this.setState({chosenData:IsSameOption.title});}else if(UserInputOption.check(radioValue)){this.saveData();if(this.hasAllRequiredFields()){this.setState({chosenData:chosenData});}else{this.setState({chosenData:''});}}this.hideModal();}},{key:\"handleClearBtnClick\",value:function handleClearBtnClick(){if(this.state.isShowForm){this.clearForm();}else{this.clearRadioBtns();}}},{key:\"clearForm\",value:function clearForm(){this.errors={};this.setState({fieldsValues:{},acSelectedItem:'',companyInfo:{},typeSelectValue:ULType.value});}},{key:\"clearRadioBtns\",value:function clearRadioBtns(){this.setState({radioValue:EmptyOption.value});}},{key:\"update\",value:function update(res,scope,dataMap){var _this5=this;var newValuesMap=new Map();var newValues={};var updateField=function updateField(Domain,scope){var field=Domain.field;var scopedField=scope?\"\".concat(scope,\".\").concat(field):field;var newValue=get(res,dataMap[Domain]);if(_this5.state.fieldsValues[scopedField]!==newValue){newValuesMap.set(scopedField,newValue);_this5.validateField(Domain,scope,newValue);}};var updateFields=function updateFields(GroupDomainVOs,scope){GroupDomainVOs.forEach(function(Domain){if(!Domain.VOs){updateField(Domain,scope);}else{updateFields(Domain.VOs,\"\".concat(scope,\".\").concat(Domain.field));}});};updateFields(ParticipantType.VOs,scope);newValuesMap.forEach(function(value,key){set(newValues,key,value);});this.setState({fieldsValues:newValues});}},{key:\"getFieldValue\",value:function getFieldValue(Domain,scope){var path=scope?\"\".concat(scope,\".\").concat(Domain.field):Domain.field;var fieldValue=get(this.state.fieldsValues,path);return fieldValue;}},{key:\"renderFormFields\",value:function renderFormFields(groupDomainVO,scope){var _this6=this;var fields=groupDomainVO.VOs.map(function(DomainVO){if(DomainVO.VOs){return _this6.renderFormFields(DomainVO,\"\".concat(scope,\".\").concat(DomainVO.field));}else{return DomainVO.options?_this6.renderSelectField(DomainVO,scope):_this6.renderInputField(DomainVO,scope);}});return groupDomainVO.VOs&&groupDomainVO.field!==FIO.field?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(FieldsBlockSeparator,{title:groupDomainVO.name}),fields):fields;}},{key:\"renderForm\",value:function renderForm(){var _this7=this;var isBusy=this.state.isBusy;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:{position:'relative'}},/*#__PURE__*/React.createElement(ParticipantAC,{handleACSelectedItem:this.handleACSelectedItem,handleCompanyInfo:this.handleCompanyInfo,selectedItem:this.state.acSelectedItem,handleLoader:function handleLoader(val){return _this7.setState({isBusy:val});}})),/*#__PURE__*/React.createElement(\"div\",{style:{position:'relative'}},isBusy&&/*#__PURE__*/React.createElement(Loading,{isRelative:false}),this.renderFormFields(ParticipantType,this.formScope)));}},{key:\"render\",value:function render(){var _this$state,_this$state$companyIn,_this$state2,_this$state2$companyI,_this$state3,_this$state3$companyI;var DomainVO=this.props.DomainVO;var formClasses=classNames('form',style.modalForm,style.center,style.hideFirstHr);var buttonClasses=classNames(_defineProperty({},style.btnError,this.hasErrors()));var isShowInput=this.state.chosenData;var contractorTypeStr=getExternalTypeToString((_this$state=this.state)===null||_this$state===void 0?void 0:(_this$state$companyIn=_this$state.companyInfo)===null||_this$state$companyIn===void 0?void 0:_this$state$companyIn.companyExternalType,(_this$state2=this.state)===null||_this$state2===void 0?void 0:(_this$state2$companyI=_this$state2.companyInfo)===null||_this$state2$companyI===void 0?void 0:_this$state2$companyI.companyExternalOperator,(_this$state3=this.state)===null||_this$state3===void 0?void 0:(_this$state3$companyI=_this$state3.companyInfo)===null||_this$state3$companyI===void 0?void 0:_this$state3$companyI.companyNetwork);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{className:this.props.customClasses},/*#__PURE__*/React.createElement(\"label\",{className:\"ds-field-name leftside\"},DomainVO.name),/*#__PURE__*/React.createElement(\"div\",{className:\"group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ds-input-group\"},isShowInput&&/*#__PURE__*/React.createElement(\"p\",{className:\"ds-field-value predefined\",style:{width:'472px'}},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(TruncateText,{text:this.state.chosenData+contractorTypeStr,width:\"440px\"}))),/*#__PURE__*/React.createElement(Button,{type:\"button\",iconClass:ICON.edit,className:buttonClasses,onClick:this.showModal},CHANGE)))),/*#__PURE__*/React.createElement(Modal,{hide:this.hideModal,width:\"472\",isVisible:this.state.isShowModal,key:\"\".concat(this.formScope,\"_participantModal\")},/*#__PURE__*/React.createElement(Modal.Header,{title:DomainVO.name,className:style.center}),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"div\",{className:formClasses},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(RadioGroup,{DomainVO:DomainVO,onChange:this.handleRadioChange,initialValue:this.state.radioValue})),this.state.isShowForm&&this.renderForm())),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{type:\"button\",className:\"center\",iconClass:ICON.accept,colorClass:PRIMARY,onClick:this.handleSaveBtnClick},SAVE),/*#__PURE__*/React.createElement(Button,{type:\"button\",className:\"center\",iconClass:ICON.cancel,onClick:this.handleClearBtnClick},CLEAR))));}}]);return ParticipantForm;}(Component),_temp),(_applyDecoratedDescriptor(_class.prototype,\"showModal\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"showModal\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"hideModal\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"hideModal\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"showForm\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"showForm\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"hideForm\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"hideForm\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"handleRadioChange\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"handleRadioChange\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"handleACSelectedItem\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"handleACSelectedItem\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"handleCompanyInfo\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"handleCompanyInfo\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"hasErrors\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"hasErrors\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"isFieldRequired\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"isFieldRequired\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"handleSaveBtnClick\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"handleSaveBtnClick\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"handleClearBtnClick\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"handleClearBtnClick\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"clearForm\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"clearForm\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"clearRadioBtns\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"clearRadioBtns\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"update\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"update\"),_class.prototype)),_class);export default ParticipantForm;","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/upd/fields/ParticipantForm.js"],"names":["React","Component","Button","PRIMARY","ICON","Modal","autobind","CLEAR","SAVE","CHANGE","classNames","style","ParticipantAC","get","ParticipantType","Type","Name","OKPOIP","INNIP","OGRNIP","OKPOUL","INNUL","KPP","Division","InformationForParticipant","AddressRussianType","PostalCode","RegionCode","District","City","Settlement","Street","House","Building","Room","BankAccountNumber","BIK","CorrespondentAccount","BankName","Phone","Email","Text","set","FieldsBlockSeparator","RadioGroup","EmptyOption","TOP","Select","IsSameOption","UserInputOption","clone","combineMerge","ULType","deepmerge","FIO","FIOName","Surname","Patronymic","IPType","Loading","getExternalTypeToString","TruncateText","ParticipantForm","props","handleSelectValue","Domain","scope","value","handleFieldValue","fieldsValues","state","path","field","oldValue","validateField","setState","handleRequiredFieldsForAddress","fieldErrorPath","newFieldError","errorMsg","validate","push","clearFieldError","errors","getFieldErrorMsg","error","Array","isArray","length","dataMap","renderInputField","DomainVO","customClasses","isVisibleField","hiddenAndZeroHeight","getFieldValue","isFieldRequired","renderSelectField","isShowModal","isShowForm","isBusy","radioValue","typeSelectValue","chosenData","requiredFields","formScope","ULRequiredFields","IPRequiredFields","IPCustomFields","ULCustomFields","setInitialValues","prevProps","prevState","updateServerErrors","type","serverErrors","companyTypeValue","name","okpo","inn","arrayMerge","initialValues","isSame","title","setIsSame","checkedRadio","options","find","option","check","checkedSelect","companyNameVal","okpoVal","innVal","kppVal","kpp","nameVal","surnameVal","patronymicVal","ogrnVal","ogrn","saveData","hasAllRequiredFields","domain","fieldName","isCustomULField","some","isCustomIPField","scopedFieldsValues","Object","keys","address","fio","surname","patronymic","showForm","hideForm","selectedItem","acSelectedItem","companyInfo","update","hasErrors","entries","customFieldsToIgnore","hasOnlyIgnoringErrors","errorsObj","every","errorItem","errorsIsEmpty","includes","isSameOptionExist","removeData","getFormattedFieldsData","setDataToFormState","dataToRemove","customRequiredFields","hasAllCommonRequiredFields","hasAllCustomRequiredFields","hideModal","clearForm","clearRadioBtns","res","newValuesMap","Map","newValues","updateField","scopedField","newValue","updateFields","GroupDomainVOs","forEach","VOs","key","fieldValue","groupDomainVO","fields","map","renderFormFields","position","handleACSelectedItem","handleCompanyInfo","val","formClasses","modalForm","center","hideFirstHr","buttonClasses","btnError","isShowInput","contractorTypeStr","companyExternalType","companyExternalOperator","companyNetwork","width","edit","showModal","handleRadioChange","renderForm","accept","handleSaveBtnClick","cancel","handleClearBtnClick"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Button, { PRIMARY } from '../../../common/Button';\r\nimport { ICON } from '@distate/components';\r\nimport Modal from '../../../common/modal/Modal';\r\nimport autobind from 'autobind-decorator';\r\nimport { CLEAR, SAVE, CHANGE } from '../../../common/Lbl';\r\nimport classNames from 'classnames';\r\nimport style from '../../../common/form/documents/DocumentFormBuilder.module.css';\r\nimport ParticipantAC from './ParticipantAutocomplete';\r\nimport get from 'get-value';\r\nimport ParticipantType from '@distate/core/dist/domain/documents/upd/standard_element/participant/ParticipantType';\r\nimport Type from '@distate/core/dist/domain/documents/upd/standard_element/participant/Type';\r\nimport Name from '@distate/core/dist/domain/documents/upd/standard_element/participant/UL/Name';\r\nimport OKPOIP from '@distate/core/dist/domain/documents/upd/standard_element/participant/IP/OKPO';\r\nimport INNIP from '@distate/core/dist/domain/documents/upd/standard_element/participant/IP/INN';\r\nimport OGRNIP from '@distate/core/dist/domain/documents/upd/standard_element/participant/IP/OGRNIP';\r\nimport OKPOUL from '@distate/core/dist/domain/documents/upd/standard_element/participant/UL/OKPO';\r\nimport INNUL from '@distate/core/dist/domain/documents/upd/standard_element/participant/UL/INN';\r\nimport KPP from '@distate/core/dist/domain/documents/upd/standard_element/participant/UL/KPP';\r\nimport Division from '@distate/core/dist/domain/documents/upd/standard_element/participant/Division';\r\nimport InformationForParticipant from '@distate/core/dist/domain/documents/upd/standard_element/participant/InformationForParticipant';\r\nimport AddressRussianType from '@distate/core/dist/domain/documents/upd/standard_element/address/AddressRussianType';\r\nimport PostalCode from '@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/PostalCode';\r\nimport RegionCode from '@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/RegionCode';\r\nimport District from '@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/District';\r\nimport City from '@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/City';\r\nimport Settlement from '@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/Settlement';\r\nimport Street from '@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/Street';\r\nimport House from '@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/House';\r\nimport Building from '@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/Building';\r\nimport Room from '@distate/core/dist/domain/documents/upd/standard_element/address/russian_type/Room';\r\nimport BankAccountNumber from '@distate/core/dist/domain/documents/upd/standard_element/participant/BankAccountNumber';\r\nimport BIK from '@distate/core/dist/domain/documents/upd/standard_element/bank_details/BIK';\r\nimport CorrespondentAccount from '@distate/core/dist/domain/documents/upd/standard_element/bank_details/CorrespondentAccount';\r\nimport BankName from '@distate/core/dist/domain/documents/upd/standard_element/bank_details/Name';\r\nimport Phone from '@distate/core/dist/domain/documents/upd/standard_element/contact/Phone';\r\nimport Email from '@distate/core/dist/domain/documents/upd/standard_element/contact/Email';\r\nimport Text from '../../../common/form/components/Text';\r\nimport set from 'set-value';\r\nimport FieldsBlockSeparator from '../../../common/form/components/FieldsBlockSeparator';\r\nimport RadioGroup from '../../../common/form/components/radio/RadioGroup';\r\nimport EmptyOption from '@distate/core/dist/domain/common/options/EmptyOption';\r\nimport { TOP } from '../../../common/Placement';\r\nimport Select from '../../../common/form/components/select/Select';\r\nimport IsSameOption from '@distate/core/dist/domain/common/options/IsSameOption';\r\nimport UserInputOption from '@distate/core/dist/domain/common/options/UserInputOption';\r\nimport { clone, combineMerge } from '../../../utils/ObjectUtil';\r\nimport ULType from '@distate/core/dist/domain/documents/upd/standard_element/participant/ULType';\r\nimport deepmerge from 'deepmerge';\r\nimport FIO from '@distate/core/dist/domain/documents/upd/standard_element/fio/FIO';\r\nimport FIOName from '@distate/core/dist/domain/documents/upd/standard_element/fio/Name';\r\nimport Surname from '@distate/core/dist/domain/documents/upd/standard_element/fio/Surname';\r\nimport Patronymic from '@distate/core/dist/domain/documents/upd/standard_element/fio/Patronymic';\r\nimport IPType from '@distate/core/dist/domain/documents/upd/standard_element/participant/IPType';\r\nimport { Loading } from '@distate/components';\r\nimport { getExternalTypeToString } from '../../../helpers/heplers';\r\nimport { TruncateText } from '../../../common/truncate-text';\r\n\r\nclass ParticipantForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isShowModal: false,\r\n      isShowForm: false,\r\n      isBusy: false,\r\n      fieldsValues: {},\r\n      radioValue: EmptyOption.value,\r\n      typeSelectValue: ULType.value,\r\n      chosenData: '',\r\n      requiredFields: []\r\n    };\r\n    this.formScope = props.scope || props.DomainVO.field;\r\n    this.ULRequiredFields = [`${this.formScope}.${Name.field}`];\r\n    this.IPRequiredFields = [\r\n      `${this.formScope}.${FIO.field}.${FIOName.field}`,\r\n      `${this.formScope}.${FIO.field}.${Surname.field}`\r\n    ];\r\n    this.errors = this.props.errors || {};\r\n    this.IPCustomFields = [\r\n      `${FIO.field}.${FIOName.field}`,\r\n      `${FIO.field}.${Surname.field}`,\r\n      `${FIO.field}.${Patronymic.field}`,\r\n      OKPOIP.field,\r\n      INNIP.field,\r\n      OGRNIP.field\r\n    ];\r\n    this.ULCustomFields = [Name.field, OKPOUL.field, INNUL.field, KPP.field];\r\n  }\r\n  componentDidMount() {\r\n    this.setInitialValues();\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      get(prevProps, `errors.${this.formScope}`) !== get(this.props, `errors.${this.formScope}`)\r\n    ) {\r\n      this.updateServerErrors();\r\n    }\r\n    if (\r\n      prevState.fieldsValues[this.formScope]?.type !== this.state.fieldsValues[this.formScope]?.type\r\n    ) {\r\n      if (this.state.fieldsValues[this.formScope]?.type !== this.state.typeSelectValue) {\r\n        this.setState({ typeSelectValue: this.state.fieldsValues[this.formScope]?.type });\r\n      }\r\n    }\r\n  }\r\n  updateServerErrors() {\r\n    let serverErrors = get(this.props, `errors.${this.formScope}`);\r\n    const companyTypeValue =\r\n      get(this.state, `fieldsValues.${this.formScope}.type`) || this.state.typeSelectValue;\r\n    if (get(serverErrors, 'name.errors')) serverErrors[Name.field] = serverErrors.name;\r\n    if (get(serverErrors, 'okpo.errors')) {\r\n      if (companyTypeValue === ULType.value) {\r\n        serverErrors[OKPOUL.field] = serverErrors.okpo;\r\n      }\r\n      if (companyTypeValue === IPType.value) {\r\n        serverErrors[OKPOIP.field] = serverErrors.okpo;\r\n      }\r\n      delete serverErrors.okpo;\r\n    }\r\n    if (get(serverErrors, 'inn.errors')) {\r\n      if (companyTypeValue === ULType.value) {\r\n        serverErrors[INNUL.field] = serverErrors.inn;\r\n      }\r\n      if (companyTypeValue === IPType.value) {\r\n        serverErrors[INNIP.field] = serverErrors.inn;\r\n      }\r\n      delete serverErrors.inn;\r\n    }\r\n    this.errors = deepmerge(\r\n      this.errors,\r\n      { [this.formScope]: serverErrors },\r\n      {\r\n        arrayMerge: combineMerge\r\n      }\r\n    );\r\n    if (get(serverErrors, 'inn.errors')) this.props.clearFieldError(`${this.formScope}.inn`);\r\n    if (get(serverErrors, 'okpo.errors')) this.props.clearFieldError(`${this.formScope}.okpo`);\r\n  }\r\n  setInitialValues() {\r\n    this.setState({\r\n      requiredFields: [`${this.formScope}.${AddressRussianType.field}.${RegionCode.field}`]\r\n    });\r\n    \r\n    const initialValues = this.props.initialValues;\r\n    let chosenData = '';\r\n    if (!initialValues || (!initialValues[this.formScope] && !initialValues.isSame)) return;\r\n    if (initialValues.isSame) {\r\n      this.setState(\r\n        {\r\n          radioValue: IsSameOption.value,\r\n          chosenData: IsSameOption.title\r\n        },\r\n        this.setIsSame\r\n      );\r\n      return;\r\n    }\r\n\r\n    const checkedRadio = this.props.DomainVO.options.find(option =>\r\n      UserInputOption.check(option.value)\r\n    );\r\n    const checkedSelect = initialValues[this.formScope].type || ULType.value;\r\n\r\n    if (checkedSelect === ULType.value) {\r\n      const companyNameVal = initialValues[this.formScope].name;\r\n      const okpoVal = initialValues[this.formScope].okpo;\r\n      const innVal = initialValues[this.formScope].inn;\r\n      const kppVal = initialValues[this.formScope].kpp;\r\n      if (companyNameVal) {\r\n        initialValues[this.formScope][Name.field] = companyNameVal;\r\n        chosenData = companyNameVal;\r\n      }\r\n      if (okpoVal) {\r\n        initialValues[this.formScope][OKPOUL.field] = okpoVal;\r\n      }\r\n      if (innVal) {\r\n        initialValues[this.formScope][INNUL.field] = innVal;\r\n      }\r\n      if (kppVal) {\r\n        initialValues[this.formScope][KPP.field] = kppVal;\r\n      }\r\n    }\r\n    if (checkedSelect === IPType.value) {\r\n      const nameVal = get(initialValues, `${this.formScope}.fio.name`);\r\n      const surnameVal = get(initialValues, `${this.formScope}.fio.surname`);\r\n      const patronymicVal = get(initialValues, `${this.formScope}.fio.patronymic`);\r\n      const okpoVal = initialValues[this.formScope].okpo;\r\n      const innVal = initialValues[this.formScope].inn;\r\n      const ogrnVal = initialValues[this.formScope].ogrn;\r\n      if (nameVal) {\r\n        set(initialValues, `${this.formScope}.${FIO.field}.${FIOName.field}`, nameVal);\r\n      }\r\n      if (surnameVal) {\r\n        set(initialValues, `${this.formScope}.${FIO.field}.${Surname.field}`, surnameVal);\r\n      }\r\n      if (patronymicVal) {\r\n        set(initialValues, `${this.formScope}.${FIO.field}.${Patronymic.field}`, patronymicVal);\r\n      }\r\n      if (nameVal && surnameVal) {\r\n        chosenData = `${surnameVal} ${nameVal}`;\r\n      }\r\n      if (okpoVal) {\r\n        initialValues[this.formScope][OKPOIP.field] = okpoVal;\r\n      }\r\n      if (innVal) {\r\n        initialValues[this.formScope][INNIP.field] = innVal;\r\n      }\r\n      if (ogrnVal) {\r\n        initialValues[this.formScope][OGRNIP.field] = ogrnVal;\r\n      }\r\n    }\r\n    this.setState(\r\n      {\r\n        fieldsValues: initialValues,\r\n        radioValue: checkedRadio.value,\r\n        typeSelectValue: checkedSelect,\r\n        isShowForm: true\r\n      },\r\n      () => {\r\n        this.saveData();\r\n        if (this.hasAllRequiredFields()) {\r\n          this.setState({ chosenData });\r\n        }\r\n      }\r\n    );\r\n  }\r\n  handleRequiredFieldsForAddress() {\r\n    // const addressValues = get(\r\n    //   this.state.fieldsValues,\r\n    //   `${this.formScope}.${AddressRussianType.field}`\r\n    // );\r\n    // const hasAnyValue = addressValues && Object.values(addressValues).some(val => val);\r\n    // if (hasAnyValue) {\r\n    //   this.setState({\r\n    //     requiredFields: [`${this.formScope}.${AddressRussianType.field}.${RegionCode.field}`]\r\n    //   });\r\n    // } else {\r\n    //   this.setState({ requiredFields: [] });\r\n    // }\r\n  }\r\n  isVisibleField(domain, scope) {\r\n    const fieldName = `${scope}.${domain.field}`;\r\n\r\n    if (this.state.typeSelectValue === IPType.value) {\r\n      const isCustomULField = this.ULCustomFields.some(\r\n        field => fieldName === `${this.formScope}.${field}`\r\n      );\r\n      return !isCustomULField;\r\n    }\r\n    if (this.state.typeSelectValue === ULType.value) {\r\n      const isCustomIPField = this.IPCustomFields.some(\r\n        field => fieldName === `${this.formScope}.${field}`\r\n      );\r\n      return !isCustomIPField;\r\n    }\r\n  }\r\n  getFormattedFieldsData() {\r\n    const fieldsValues = clone(this.state.fieldsValues);\r\n    const scopedFieldsValues = fieldsValues[this.formScope];\r\n    if (!scopedFieldsValues || Object.keys(scopedFieldsValues).length === 0) {\r\n      return fieldsValues;\r\n    }\r\n    if (!scopedFieldsValues.address || Object.keys(scopedFieldsValues.address).length === 0) {\r\n      delete scopedFieldsValues.address;\r\n    } else {\r\n      scopedFieldsValues.address.type = 'russian';\r\n    }\r\n    if (!scopedFieldsValues[Type.field]) {\r\n      scopedFieldsValues[Type.field] = ULType.value;\r\n    }\r\n    const checkedSelect = this.state.typeSelectValue || ULType.value;\r\n\r\n    let okpoVal = '';\r\n    let innVal = '';\r\n    const ogrnVal = scopedFieldsValues[OGRNIP.field];\r\n    const nameVal = get(scopedFieldsValues, `fio.name`);\r\n    const surnameVal = get(scopedFieldsValues, `fio.surname`);\r\n    const patronymicVal = get(scopedFieldsValues, `fio.patronymic`);\r\n    const companyNameVal = scopedFieldsValues[Name.field];\r\n    const kpp = scopedFieldsValues[KPP.field];\r\n    if (checkedSelect === ULType.value) {\r\n      okpoVal = scopedFieldsValues[OKPOUL.field];\r\n      innVal = scopedFieldsValues[INNUL.field];\r\n      if (companyNameVal) {\r\n        scopedFieldsValues.name = companyNameVal;\r\n        delete scopedFieldsValues[Name.field];\r\n      }\r\n      if (nameVal) {\r\n        delete scopedFieldsValues.fio.name;\r\n      }\r\n      if (surnameVal) {\r\n        delete scopedFieldsValues.fio.surname;\r\n      }\r\n      if (patronymicVal) {\r\n        delete scopedFieldsValues.fio.patronymic;\r\n      }\r\n      if (ogrnVal) {\r\n        delete scopedFieldsValues.ogrn;\r\n      }\r\n    }\r\n    if (checkedSelect === IPType.value) {\r\n      okpoVal = scopedFieldsValues[OKPOIP.field];\r\n      innVal = scopedFieldsValues[INNIP.field];\r\n      if (ogrnVal) {\r\n        scopedFieldsValues.ogrn = ogrnVal;\r\n      }\r\n      if (companyNameVal) {\r\n        delete scopedFieldsValues[Name.field];\r\n      }\r\n      if (scopedFieldsValues.name) {\r\n        delete scopedFieldsValues.name;\r\n      }\r\n      if (kpp) {\r\n        delete scopedFieldsValues.kpp;\r\n      }\r\n    }\r\n    if (okpoVal) {\r\n      scopedFieldsValues.okpo = okpoVal;\r\n      delete scopedFieldsValues[OKPOUL.field];\r\n      delete scopedFieldsValues[OKPOIP.field];\r\n    }\r\n    if (innVal) {\r\n      scopedFieldsValues.inn = innVal;\r\n      delete scopedFieldsValues[INNUL.field];\r\n      delete scopedFieldsValues[INNIP.field];\r\n    }\r\n\r\n    fieldsValues[this.formScope] = scopedFieldsValues;\r\n    return fieldsValues;\r\n  }\r\n  @autobind\r\n  showModal() {\r\n    this.setState({ isShowModal: true });\r\n  }\r\n  @autobind\r\n  hideModal() {\r\n    this.setState({ isShowModal: false });\r\n  }\r\n  @autobind\r\n  showForm() {\r\n    this.setState({ isShowForm: true });\r\n  }\r\n  @autobind\r\n  hideForm() {\r\n    this.setState({ isShowForm: false });\r\n  }\r\n  @autobind\r\n  handleRadioChange(value) {\r\n    this.setState({ radioValue: value });\r\n    if (UserInputOption.check(value)) {\r\n      this.showForm();\r\n    } else {\r\n      this.hideForm();\r\n    }\r\n  }\r\n  @autobind\r\n  handleACSelectedItem(selectedItem) {\r\n    this.setState({\r\n      acSelectedItem: selectedItem\r\n    });\r\n  }\r\n  @autobind\r\n  handleCompanyInfo(companyInfo) {\r\n    this.setState({\r\n      companyInfo,\r\n      isBusy: false\r\n    });\r\n    this.update(companyInfo, this.formScope, this.dataMap);\r\n  }\r\n  handleSelectValue = (Domain, scope) => value => {\r\n    this.handleFieldValue(Domain, scope)(value);\r\n  };\r\n  handleFieldValue = (Domain, scope) => value => {\r\n    const fieldsValues = clone(this.state.fieldsValues);\r\n    const path = scope ? `${scope}.${Domain.field}` : Domain.field;\r\n    const oldValue = get(fieldsValues, path);\r\n    set(fieldsValues, path, value);\r\n    if (oldValue !== value) {\r\n      this.validateField(Domain, scope, value);\r\n    }\r\n    this.setState({ fieldsValues }, this.handleRequiredFieldsForAddress);\r\n  };\r\n  validateField = (Domain, scope, value) => {\r\n    const fieldErrorPath = `${scope}.${Domain.field}`;\r\n    const newFieldError = [];\r\n    const errorMsg = Domain.validate(value);\r\n    if (errorMsg) {\r\n      newFieldError.push(errorMsg);\r\n    } else {\r\n      this.props.clearFieldError(fieldErrorPath);\r\n    }\r\n    set(this.errors, `${fieldErrorPath}.errors`, newFieldError);\r\n  };\r\n  getFieldErrorMsg = (Domain, scope) => {\r\n    const path = scope ? `${scope}.${Domain.field}` : Domain.field;\r\n    const error = get(this.errors, `${path}.errors`);\r\n    if (Array.isArray(error) && error.length) return error[0];\r\n  };\r\n  @autobind\r\n  hasErrors() {\r\n    const errors = get(this.errors, this.formScope);\r\n    const hasErrors = errors && Object.entries(errors).length;\r\n    if (!hasErrors) return false;\r\n    const customFieldsToIgnore =\r\n      this.state.typeSelectValue === IPType.value ? this.ULCustomFields : this.IPCustomFields;\r\n    const hasOnlyIgnoringErrors = (errorsObj, scope) =>\r\n      Object.entries(errorsObj).every(errorItem => {\r\n        const fieldName = scope ? `${scope}.${errorItem[0]}` : errorItem[0];\r\n        const hasErrors = errorItem[1].errors;\r\n        const errorsIsEmpty = hasErrors && !errorItem[1].errors.length;\r\n        if (errorsIsEmpty) return true;\r\n        if (!hasErrors && Object.entries(errorItem[1]).length) {\r\n          return hasOnlyIgnoringErrors(errorItem[1], fieldName);\r\n        }\r\n        return customFieldsToIgnore.includes(fieldName);\r\n      });\r\n    return !hasOnlyIgnoringErrors(errors);\r\n  }\r\n  isSameOptionExist() {\r\n    return this.props.DomainVO.options.includes(IsSameOption);\r\n  }\r\n  saveData() {\r\n    if (this.isSameOptionExist()) {\r\n      this.removeData();\r\n    }\r\n    const fieldsValues = this.getFormattedFieldsData();\r\n    this.props.setDataToFormState(fieldsValues);\r\n  }\r\n  removeData() {\r\n    const dataToRemove = {\r\n      [this.formScope]: null\r\n    };\r\n    if (this.isSameOptionExist()) {\r\n      dataToRemove.isSame = null;\r\n    }\r\n    this.props.setDataToFormState(dataToRemove);\r\n  }\r\n  setIsSame() {\r\n    this.removeData();\r\n    this.props.setDataToFormState({ isSame: true });\r\n  }\r\n  @autobind\r\n  isFieldRequired(Domain, scope) {\r\n    const fieldName = scope ? `${scope}.${Domain.field}` : `${this.formScope}.${Domain.field}`;\r\n    const customRequiredFields =\r\n      this.state.typeSelectValue === IPType.value ? this.IPRequiredFields : this.ULRequiredFields;\r\n    return (\r\n      this.state.requiredFields.includes(fieldName) || customRequiredFields.includes(fieldName)\r\n    );\r\n  }\r\n  hasAllRequiredFields() {\r\n    const customRequiredFields =\r\n      this.state.typeSelectValue === IPType.value ? this.IPRequiredFields : this.ULRequiredFields;\r\n    const hasAllCommonRequiredFields = this.state.requiredFields.every(field => {\r\n      return get(this.state.fieldsValues, field);\r\n    });\r\n    const hasAllCustomRequiredFields = customRequiredFields.every(field => {\r\n      return get(this.state.fieldsValues, field);\r\n    });\r\n    return hasAllCommonRequiredFields && hasAllCustomRequiredFields;\r\n  }\r\n  @autobind\r\n  handleSaveBtnClick() {\r\n    const radioValue = this.state.radioValue;\r\n    let chosenData = '';\r\n    if (this.state.typeSelectValue === IPType.value) {\r\n      const name = get(this.state.fieldsValues, `${this.formScope}.${FIO.field}.${FIOName.field}`);\r\n      const surname = get(\r\n        this.state.fieldsValues,\r\n        `${this.formScope}.${FIO.field}.${Surname.field}`\r\n      );\r\n      if (name && surname) chosenData = `${surname} ${name}`;\r\n    }\r\n    if (this.state.typeSelectValue === ULType.value) {\r\n      chosenData = get(this.state.fieldsValues, `${this.formScope}.${Name.field}`);\r\n    }\r\n    if (radioValue === EmptyOption.value) {\r\n      this.removeData();\r\n      this.setState({ chosenData: '' });\r\n    } else if (radioValue === IsSameOption.value) {\r\n      this.setIsSame();\r\n      this.setState({ chosenData: IsSameOption.title });\r\n    } else if (UserInputOption.check(radioValue)) {\r\n      this.saveData();\r\n      if (this.hasAllRequiredFields()) {\r\n        this.setState({ chosenData });\r\n      } else {\r\n        this.setState({ chosenData: '' });\r\n      }\r\n    }\r\n    this.hideModal();\r\n  }\r\n  @autobind\r\n  handleClearBtnClick() {\r\n    if (this.state.isShowForm) {\r\n      this.clearForm();\r\n    } else {\r\n      this.clearRadioBtns();\r\n    }\r\n  }\r\n  @autobind\r\n  clearForm() {\r\n    this.errors = {};\r\n    this.setState({\r\n      fieldsValues: {},\r\n      acSelectedItem: '',\r\n      companyInfo: {},\r\n      typeSelectValue: ULType.value\r\n    });\r\n  }\r\n  @autobind\r\n  clearRadioBtns() {\r\n    this.setState({\r\n      radioValue: EmptyOption.value\r\n    });\r\n  }\r\n  @autobind\r\n  update(res, scope, dataMap) {\r\n    const newValuesMap = new Map();\r\n    const newValues = {};\r\n    const updateField = (Domain, scope) => {\r\n      const field = Domain.field;\r\n      const scopedField = scope ? `${scope}.${field}` : field;\r\n      const newValue = get(res, dataMap[Domain]);\r\n      if (this.state.fieldsValues[scopedField] !== newValue) {\r\n        newValuesMap.set(scopedField, newValue);\r\n        this.validateField(Domain, scope, newValue);\r\n      }\r\n    };\r\n    const updateFields = (GroupDomainVOs, scope) => {\r\n      GroupDomainVOs.forEach(Domain => {\r\n        if (!Domain.VOs) {\r\n          updateField(Domain, scope);\r\n        } else {\r\n          updateFields(Domain.VOs, `${scope}.${Domain.field}`);\r\n        }\r\n      });\r\n    };\r\n    updateFields(ParticipantType.VOs, scope);\r\n    newValuesMap.forEach((value, key) => {\r\n      set(newValues, key, value);\r\n    });\r\n    this.setState({ fieldsValues: newValues });\r\n  }\r\n  dataMap = {\r\n    [Type]: 'type.systemName',\r\n    [Name]: 'name',\r\n    [FIOName]: 'fio.name',\r\n    [Surname]: 'fio.surname',\r\n    [Patronymic]: 'fio.patronymic',\r\n    [OKPOIP]: 'division.classificationNumber',\r\n    [OKPOUL]: 'division.classificationNumber',\r\n    [OGRNIP]: 'ogrn',\r\n    [INNIP]: 'inn',\r\n    [INNUL]: 'inn',\r\n    [KPP]: 'division.kpp',\r\n    [Division]: 'name', // TODO   division.title,    \r\n    [InformationForParticipant]: 'informationForParticipant',\r\n    [PostalCode]: 'division.address.postalCode',\r\n    [RegionCode]: 'division.address.region.code',\r\n    [District]: 'division.address.district',\r\n    [City]: 'division.address.city',\r\n    [Settlement]: 'division.address.settlement',\r\n    [Street]: 'division.address.street',\r\n    [House]: 'division.address.house',\r\n    [Building]: 'division.address.building',\r\n    [Room]: 'division.address.room',\r\n    [BankAccountNumber]: 'accountNumber',\r\n    [BIK]: 'bik',\r\n    [CorrespondentAccount]: 'correspondentAccount',\r\n    [BankName]: 'bankName',\r\n    [Phone]: 'division.contact.phone',\r\n    [Email]: 'division.contact.email'\r\n  };\r\n  getFieldValue(Domain, scope) {\r\n    const path = scope ? `${scope}.${Domain.field}` : Domain.field;\r\n    const fieldValue = get(this.state.fieldsValues, path);\r\n    return fieldValue;\r\n  }\r\n  renderInputField = (DomainVO, scope) => {\r\n    const customClasses = !this.isVisibleField(DomainVO, scope) ? style.hiddenAndZeroHeight : '';\r\n    return (\r\n      <div className={customClasses}>\r\n        <Text\r\n          DomainVO={DomainVO}\r\n          initialValue={this.getFieldValue(DomainVO, scope)}\r\n          onValueChange={this.handleFieldValue(DomainVO, scope)}\r\n          labelAlign={TOP}\r\n          isRequired={this.isFieldRequired(DomainVO, scope)}\r\n          errorMsg={this.getFieldErrorMsg(DomainVO, scope)}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n  renderSelectField = (DomainVO, scope) => {\r\n    const customClasses = !this.isVisibleField(DomainVO, scope) ? style.hiddenAndZeroHeight : '';\r\n    return (\r\n      <div className={customClasses}>\r\n        <Select\r\n          DomainVO={DomainVO}\r\n          initialValue={this.getFieldValue(DomainVO, scope)}\r\n          onValueChange={this.handleSelectValue(DomainVO, scope)}\r\n          labelAlign={TOP}\r\n          errorMsg={this.getFieldErrorMsg(DomainVO, scope)}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n  renderFormFields(groupDomainVO, scope) {\r\n    const fields = groupDomainVO.VOs.map(DomainVO => {\r\n      if (DomainVO.VOs) {\r\n        return this.renderFormFields(DomainVO, `${scope}.${DomainVO.field}`);\r\n      } else {\r\n        return DomainVO.options\r\n          ? this.renderSelectField(DomainVO, scope)\r\n          : this.renderInputField(DomainVO, scope);\r\n      }\r\n    });\r\n    return groupDomainVO.VOs && groupDomainVO.field !== FIO.field ? (\r\n      <React.Fragment>\r\n        <FieldsBlockSeparator title={groupDomainVO.name} />\r\n        {fields}\r\n      </React.Fragment>\r\n    ) : (\r\n      fields\r\n    );\r\n  }\r\n\r\n  renderForm() {\r\n    const { isBusy } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <div style={{ position: 'relative' }}>\r\n          <ParticipantAC\r\n            handleACSelectedItem={this.handleACSelectedItem}\r\n            handleCompanyInfo={this.handleCompanyInfo}\r\n            selectedItem={this.state.acSelectedItem}\r\n            handleLoader={val => this.setState({ isBusy: val })}\r\n          />\r\n        </div>\r\n        <div style={{ position: 'relative' }}>\r\n          {isBusy && <Loading isRelative={false} />}\r\n          {this.renderFormFields(ParticipantType, this.formScope)}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { DomainVO } = this.props;\r\n    const formClasses = classNames('form', style.modalForm, style.center, style.hideFirstHr);\r\n    const buttonClasses = classNames({\r\n      [style.btnError]: this.hasErrors()\r\n    });\r\n    const isShowInput = this.state.chosenData;\r\n\r\n    const contractorTypeStr = getExternalTypeToString(\r\n      this.state?.companyInfo?.companyExternalType,\r\n      this.state?.companyInfo?.companyExternalOperator,\r\n      this.state?.companyInfo?.companyNetwork\r\n    );\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <li className={this.props.customClasses}>\r\n          <label className=\"ds-field-name leftside\">{DomainVO.name}</label>\r\n          <div className=\"group\">\r\n            <div className=\"ds-input-group\">\r\n              {isShowInput && (\r\n                <p className=\"ds-field-value predefined\" style={{ width: '472px' }}>\r\n                  <span><TruncateText text={this.state.chosenData + contractorTypeStr } width='440px' /></span>\r\n                </p>\r\n              )}\r\n              <Button\r\n                type=\"button\"\r\n                iconClass={ICON.edit}\r\n                className={buttonClasses}\r\n                onClick={this.showModal}\r\n              >\r\n                {CHANGE}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </li>\r\n\r\n        <Modal\r\n          hide={this.hideModal}\r\n          width=\"472\"\r\n          isVisible={this.state.isShowModal}\r\n          key={`${this.formScope}_participantModal`}\r\n        >\r\n          <Modal.Header title={DomainVO.name} className={style.center} />\r\n          <Modal.Body>\r\n            <div className={formClasses}>\r\n              <div>\r\n                <RadioGroup\r\n                  DomainVO={DomainVO}\r\n                  onChange={this.handleRadioChange}\r\n                  initialValue={this.state.radioValue}\r\n                />\r\n              </div>\r\n              {this.state.isShowForm && this.renderForm()}\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button\r\n              type=\"button\"\r\n              className=\"center\"\r\n              iconClass={ICON.accept}\r\n              colorClass={PRIMARY}\r\n              onClick={this.handleSaveBtnClick}\r\n            >\r\n              {SAVE}\r\n            </Button>\r\n            <Button\r\n              type=\"button\"\r\n              className=\"center\"\r\n              iconClass={ICON.cancel}\r\n              onClick={this.handleClearBtnClick}\r\n            >\r\n              {CLEAR}\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ParticipantForm;\r\n"]},"metadata":{},"sourceType":"module"}