{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import{Formik,Form}from'formik';import*as yup from'yup';import{Button,Input}from'@distate/components';import{ContractorTypes,DestinationType}from'../../../helpers/contractors.typings';import{ALLOWED_ONLY_NUMBER_ERROR,EMPTY_VALUE_ERROR}from'../../../../../common/Lbl';import{getFoundLocalRoamingCompany}from'../../../store/actions';import{selectSearch}from'../../../store/selectors';/** Форма поиска ЮЛ в локальном роуминге */export var DestinationLocalRoamingForm=function DestinationLocalRoamingForm(){var _useSelector$errors,_useSelector$errors$m,_useSelector$errors$m2;var dispatch=useDispatch();var innErr=(_useSelector$errors=useSelector(selectSearch).errors)===null||_useSelector$errors===void 0?void 0:(_useSelector$errors$m=_useSelector$errors.messages)===null||_useSelector$errors$m===void 0?void 0:(_useSelector$errors$m2=_useSelector$errors$m.inn)===null||_useSelector$errors$m2===void 0?void 0:_useSelector$errors$m2.errors;var _onSubmit=function onSubmit(args){dispatch(getFoundLocalRoamingCompany(args));};var validationsSchema=yup.object().shape({inn:yup.number().typeError(ALLOWED_ONLY_NUMBER_ERROR).positive().integer().required(EMPTY_VALUE_ERROR)});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Formik,{initialValues:{inn:'',contractorType:ContractorTypes.legal_entity,destinationType:DestinationType.LoaclRoaming},validateOnBlur:true,onSubmit:function onSubmit(values){return _onSubmit(values);},validationSchema:validationsSchema},function(_ref){var values=_ref.values,handleSubmit=_ref.handleSubmit,handleChange=_ref.handleChange,setFieldTouched=_ref.setFieldTouched,touched=_ref.touched,errors=_ref.errors;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Input,{required:true,label:\"\\u0418\\u041D\\u041D\",name:\"inn\",value:values.inn,onChange:handleChange,error:!!errors.inn&&touched.inn||innErr,errors:(errors===null||errors===void 0?void 0:errors.inn)&&touched.inn?[errors.inn]:innErr,onBlur:function onBlur(){return setFieldTouched('inn',true);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(e){return handleSubmit;},type:\"submit\"},\"\\u041D\\u0430\\u0439\\u0442\\u0438\"));}));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/components/invite-contractor/forms/DestinationLocalRoamingForm.tsx"],"names":["React","useDispatch","useSelector","Formik","Form","yup","Button","Input","ContractorTypes","DestinationType","ALLOWED_ONLY_NUMBER_ERROR","EMPTY_VALUE_ERROR","getFoundLocalRoamingCompany","selectSearch","DestinationLocalRoamingForm","dispatch","innErr","errors","messages","inn","onSubmit","args","validationsSchema","object","shape","number","typeError","positive","integer","required","contractorType","legal_entity","destinationType","LoaclRoaming","values","handleSubmit","handleChange","setFieldTouched","touched","e"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,CAAiBC,IAAjB,KAA6B,QAA7B,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CAEA,OAASC,MAAT,CAAiBC,KAAjB,KAA8B,qBAA9B,CACA,OAASC,eAAT,CAA0BC,eAA1B,KAAiD,sCAAjD,CACA,OAASC,yBAAT,CAAoCC,iBAApC,KAA6D,2BAA7D,CACA,OAASC,2BAAT,KAA4C,wBAA5C,CACA,OAASC,YAAT,KAA6B,0BAA7B,CAMA,2CACA,MAAO,IAAMC,CAAAA,2BAA2B,CAAG,QAA9BA,CAAAA,2BAA8B,EAAM,sEAC/C,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CAEA,GAAMe,CAAAA,MAAM,sBAAGd,WAAW,CAACW,YAAD,CAAX,CAA0BI,MAA7B,qEAAG,oBAAkCC,QAArC,wEAAG,sBAA4CC,GAA/C,iDAAG,uBAAiDF,MAAhE,CAEA,GAAMG,CAAAA,SAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAgB,CAC/BN,QAAQ,CAACH,2BAA2B,CAACS,IAAD,CAA5B,CAAR,CACD,CAFD,CAIA,GAAMC,CAAAA,iBAAiB,CAAGjB,GAAG,CAACkB,MAAJ,GAAaC,KAAb,CAAmB,CAC3CL,GAAG,CAAEd,GAAG,CACLoB,MADE,GAEFC,SAFE,CAEQhB,yBAFR,EAGFiB,QAHE,GAIFC,OAJE,GAKFC,QALE,CAKOlB,iBALP,CADsC,CAAnB,CAA1B,CASA,mBACE,4CACE,oBAAC,MAAD,EACE,aAAa,CAAE,CACbQ,GAAG,CAAE,EADQ,CAEbW,cAAc,CAAEtB,eAAe,CAACuB,YAFnB,CAGbC,eAAe,CAAEvB,eAAe,CAACwB,YAHpB,CADjB,CAME,cAAc,KANhB,CAOE,QAAQ,CAAE,kBAAAC,MAAM,QAAId,CAAAA,SAAQ,CAACc,MAAD,CAAZ,EAPlB,CAQE,gBAAgB,CAAEZ,iBARpB,EAUG,kBAAGY,CAAAA,MAAH,MAAGA,MAAH,CAAWC,YAAX,MAAWA,YAAX,CAAyBC,YAAzB,MAAyBA,YAAzB,CAAuCC,eAAvC,MAAuCA,eAAvC,CAAwDC,OAAxD,MAAwDA,OAAxD,CAAiErB,MAAjE,MAAiEA,MAAjE,oBACC,oBAAC,IAAD,mBACE,oBAAC,KAAD,EACE,QAAQ,KADV,CAEE,KAAK,CAAC,oBAFR,CAGE,IAAI,CAAC,KAHP,CAIE,KAAK,CAAEiB,MAAM,CAACf,GAJhB,CAKE,QAAQ,CAAEiB,YALZ,CAME,KAAK,CAAG,CAAC,CAACnB,MAAM,CAACE,GAAT,EAAgBmB,OAAO,CAACnB,GAAzB,EAAiCH,MAN1C,CAOE,MAAM,CAAE,CAAAC,MAAM,OAAN,EAAAA,MAAM,SAAN,QAAAA,MAAM,CAAEE,GAAR,GAAemB,OAAO,CAACnB,GAAvB,CAA6B,CAACF,MAAM,CAACE,GAAR,CAA7B,CAA4CH,MAPtD,CAQE,MAAM,CAAE,wBAAMqB,CAAAA,eAAe,CAAC,KAAD,CAAQ,IAAR,CAArB,EARV,EADF,cAWE,8BAXF,cAYE,oBAAC,MAAD,EAAQ,OAAO,CAAE,iBAAAE,CAAC,QAAIJ,CAAAA,YAAJ,EAAlB,CAAoC,IAAI,SAAxC,mCAZF,CADD,EAVH,CADF,CADF,CAiCD,CAnDM","sourcesContent":["import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Formik, Form } from 'formik';\r\nimport * as yup from 'yup';\r\n\r\nimport { Button, Input } from '@distate/components';\r\nimport { ContractorTypes, DestinationType } from '../../../helpers/contractors.typings';\r\nimport { ALLOWED_ONLY_NUMBER_ERROR, EMPTY_VALUE_ERROR } from '../../../../../common/Lbl';\r\nimport { getFoundLocalRoamingCompany } from '../../../store/actions';\r\nimport { selectSearch } from '../../../store/selectors';\r\n\r\ntype Args = {\r\n  inn: string;\r\n};\r\n\r\n/** Форма поиска ЮЛ в локальном роуминге */\r\nexport const DestinationLocalRoamingForm = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const innErr = useSelector(selectSearch).errors?.messages?.inn?.errors;\r\n\r\n  const onSubmit = (args: Args) => {\r\n    dispatch(getFoundLocalRoamingCompany(args));\r\n  };\r\n\r\n  const validationsSchema = yup.object().shape({\r\n    inn: yup\r\n      .number()\r\n      .typeError(ALLOWED_ONLY_NUMBER_ERROR)\r\n      .positive()\r\n      .integer()\r\n      .required(EMPTY_VALUE_ERROR)\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{\r\n          inn: '',\r\n          contractorType: ContractorTypes.legal_entity,\r\n          destinationType: DestinationType.LoaclRoaming\r\n        }}\r\n        validateOnBlur\r\n        onSubmit={values => onSubmit(values)}\r\n        validationSchema={validationsSchema}\r\n      >\r\n        {({ values, handleSubmit, handleChange, setFieldTouched, touched, errors }) => (\r\n          <Form>\r\n            <Input\r\n              required\r\n              label=\"ИНН\"\r\n              name=\"inn\"\r\n              value={values.inn}\r\n              onChange={handleChange}\r\n              error={(!!errors.inn && touched.inn) || innErr}\r\n              errors={errors?.inn && touched.inn ? [errors.inn] : innErr}\r\n              onBlur={() => setFieldTouched('inn', true)}\r\n            />\r\n            <br />\r\n            <Button onClick={e => handleSubmit} type={`submit`}>\r\n              Найти\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}