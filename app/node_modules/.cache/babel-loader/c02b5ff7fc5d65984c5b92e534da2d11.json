{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getNaturalEntityGroupEffect),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getNaturalEntityGroupWorker);import{takeLatest,put}from'redux-saga/effects';import{getNaturalEntityGroup,setNaturalEntityGroup}from'../actions';import{Flash}from'../../../../common/flash/Flash';import{ContractorApiServices}from'../../services/contractors.api';export function getNaturalEntityGroupEffect(){return _regeneratorRuntime.wrap(function getNaturalEntityGroupEffect$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(getNaturalEntityGroup,getNaturalEntityGroupWorker);case 2:case\"end\":return _context.stop();}}},_marked);}/** Получение списка ФЛ, которых можно добавить в группу */function getNaturalEntityGroupWorker(_ref){var payload,id,offset,limit,name,surname,patronymic,socialNumber,naturalEntityInfo,message;return _regeneratorRuntime.wrap(function getNaturalEntityGroupWorker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref.payload;_context2.prev=1;id=payload.id,offset=payload.offset,limit=payload.limit,name=payload.name,surname=payload.surname,patronymic=payload.patronymic,socialNumber=payload.socialNumber;_context2.next=5;return ContractorApiServices.getNaturalEntityGroup({id:id,inverseJoin:true,offset:offset,limit:limit,name:name,surname:surname,patronymic:patronymic,socialNumber:socialNumber});case 5:naturalEntityInfo=_context2.sent;_context2.next=8;return put(setNaturalEntityGroup(naturalEntityInfo));case 8:_context2.next=15;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);message=_context2.t0.message;_context2.next=15;return Flash.error(message||'Возникла ошибка');case 15:case\"end\":return _context2.stop();}}},_marked2,null,[[1,10]]);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/store/sagas/getNaturalEntityGroup.effect.ts"],"names":["getNaturalEntityGroupEffect","getNaturalEntityGroupWorker","takeLatest","put","getNaturalEntityGroup","setNaturalEntityGroup","Flash","ContractorApiServices","payload","id","offset","limit","name","surname","patronymic","socialNumber","inverseJoin","naturalEntityInfo","message","error"],"mappings":"oNAMiBA,2B,iDAePC,2B,EArBV,OAASC,UAAT,CAAqBC,GAArB,KAAgC,oBAAhC,CAEA,OAASC,qBAAT,CAAgCC,qBAAhC,KAA6D,YAA7D,CACA,OAASC,KAAT,KAAsB,gCAAtB,CACA,OAASC,qBAAT,KAAsC,gCAAtC,CAEA,MAAO,SAAUP,CAAAA,2BAAV,uJACL,MAAME,CAAAA,UAAU,CAACE,qBAAD,CAAwBH,2BAAxB,CAAhB,CADK,sDAcP,2DACA,QAAUA,CAAAA,2BAAV,yOAAwCO,OAAxC,MAAwCA,OAAxC,kBAEYC,EAFZ,CAE2ED,OAF3E,CAEYC,EAFZ,CAEgBC,MAFhB,CAE2EF,OAF3E,CAEgBE,MAFhB,CAEwBC,KAFxB,CAE2EH,OAF3E,CAEwBG,KAFxB,CAE+BC,IAF/B,CAE2EJ,OAF3E,CAE+BI,IAF/B,CAEqCC,OAFrC,CAE2EL,OAF3E,CAEqCK,OAFrC,CAE8CC,UAF9C,CAE2EN,OAF3E,CAE8CM,UAF9C,CAE0DC,YAF1D,CAE2EP,OAF3E,CAE0DO,YAF1D,kBAG8B,MAAMR,CAAAA,qBAAqB,CAACH,qBAAtB,CAA4C,CAC1EK,EAAE,CAAFA,EAD0E,CAE1EO,WAAW,CAAE,IAF6D,CAG1EN,MAAM,CAANA,MAH0E,CAI1EC,KAAK,CAALA,KAJ0E,CAK1EC,IAAI,CAAJA,IAL0E,CAM1EC,OAAO,CAAPA,OAN0E,CAO1EC,UAAU,CAAVA,UAP0E,CAQ1EC,YAAY,CAAZA,YAR0E,CAA5C,CAAN,CAH9B,OAGUE,iBAHV,iCAaI,MAAMd,CAAAA,GAAG,CAACE,qBAAqB,CAACY,iBAAD,CAAtB,CAAT,CAbJ,4FAcaC,OAdb,cAcaA,OAdb,mBAeI,MAAMZ,CAAAA,KAAK,CAACa,KAAN,CAAYD,OAAO,EAAI,iBAAvB,CAAN,CAfJ","sourcesContent":["import { takeLatest, put } from 'redux-saga/effects';\r\n\r\nimport { getNaturalEntityGroup, setNaturalEntityGroup } from '../actions';\r\nimport { Flash } from '../../../../common/flash/Flash';\r\nimport { ContractorApiServices } from '../../services/contractors.api';\r\n\r\nexport function* getNaturalEntityGroupEffect() {\r\n  yield takeLatest(getNaturalEntityGroup, getNaturalEntityGroupWorker);\r\n}\r\n\r\ninterface Payload {\r\n  id: number;\r\n  offset: number;\r\n  limit: number;\r\n  name: string;\r\n  surname: string;\r\n  patronymic: string;\r\n  socialNumber: string;\r\n}\r\n\r\n/** Получение списка ФЛ, которых можно добавить в группу */\r\nfunction* getNaturalEntityGroupWorker({ payload }: { payload: Payload }) {\r\n  try {\r\n    const { id, offset, limit, name, surname, patronymic, socialNumber } = payload;\r\n    const naturalEntityInfo = yield ContractorApiServices.getNaturalEntityGroup({\r\n      id,\r\n      inverseJoin: true,\r\n      offset,\r\n      limit,\r\n      name,\r\n      surname,\r\n      patronymic,\r\n      socialNumber\r\n    });\r\n    yield put(setNaturalEntityGroup(naturalEntityInfo));\r\n  } catch ({ message }) {\r\n    yield Flash.error(message || 'Возникла ошибка');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}