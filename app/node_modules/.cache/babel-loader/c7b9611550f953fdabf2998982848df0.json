{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useDispatch}from'react-redux';import{Modal}from'@distate/components';import{Button,ButtonKinds,Icons}from'@distate/components';import{deleteDivision,doHeadDivision,updateCompanyDivision}from'../../../store/actions';import{DivisionForm}from'../DivisionForm';import{DivisionStaff}from'./DivisionStaff';import{ConfirmDelete}from'./ConfirmDelete';/** модалка карточки подразделения */export var ModalDivisionCard=function ModalDivisionCard(props){var isVisible=props.isVisible,hide=props.hide,divisionProps=props.divisionProps;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isVisibleConfirm=_useState2[0],setIsVisibleConfirm=_useState2[1];var dispatch=useDispatch();var onDelete=function onDelete(){dispatch(deleteDivision({divisionId:divisionProps.id,hide:hide}));};var doHead=function doHead(){dispatch(doHeadDivision({divisionId:divisionProps.id}));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{hide:hide,isVisible:isVisible},/*#__PURE__*/React.createElement(Modal.Header,{title:\"\\u041A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0430 \\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(DivisionForm,Object.assign({onAction:updateCompanyDivision,hide:hide},divisionProps)),/*#__PURE__*/React.createElement(DivisionStaff,{divisionId:divisionProps.id}),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:10}},/*#__PURE__*/React.createElement(Button,{kind:ButtonKinds.Danger,onClick:function onClick(){return setIsVisibleConfirm(true);},icon:/*#__PURE__*/React.createElement(Icons.IconTrash,{fill:\"currentColor\"})},\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0435\"),/*#__PURE__*/React.createElement(Button,{style:{marginLeft:10},kind:ButtonKinds.Secondary,onClick:doHead},\"\\u041D\\u0430\\u0437\\u043D\\u0430\\u0447\\u0438\\u0442\\u044C \\u0433\\u043B\\u0430\\u0432\\u043D\\u044B\\u043C\")))),/*#__PURE__*/React.createElement(ConfirmDelete,{isVisible:isVisibleConfirm,hide:function hide(){return setIsVisibleConfirm(false);},onDelete:onDelete}));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/company/components/divisions/modal-division-card/ModalDivisionCard.tsx"],"names":["React","useState","useDispatch","Modal","Button","ButtonKinds","Icons","deleteDivision","doHeadDivision","updateCompanyDivision","DivisionForm","DivisionStaff","ConfirmDelete","ModalDivisionCard","props","isVisible","hide","divisionProps","isVisibleConfirm","setIsVisibleConfirm","dispatch","onDelete","divisionId","id","doHead","marginTop","Danger","marginLeft","Secondary"],"mappings":"2KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,KAAT,KAAsB,qBAAtB,CACA,OAASC,MAAT,CAAiBC,WAAjB,CAA8BC,KAA9B,KAA2C,qBAA3C,CACA,OAASC,cAAT,CAAyBC,cAAzB,CAAyCC,qBAAzC,KAAsE,wBAAtE,CACA,OAASC,YAAT,KAA6B,iBAA7B,CAEA,OAASC,aAAT,KAA8B,iBAA9B,CACA,OAASC,aAAT,KAA8B,iBAA9B,CAQA,qCACA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,CAAkB,IACzCC,CAAAA,SADyC,CACND,KADM,CACzCC,SADyC,CAC9BC,IAD8B,CACNF,KADM,CAC9BE,IAD8B,CACxBC,aADwB,CACNH,KADM,CACxBG,aADwB,eAGDhB,QAAQ,CAAC,KAAD,CAHP,wCAG1CiB,gBAH0C,eAGxBC,mBAHwB,eAKjD,GAAMC,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CAEA,GAAMmB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBD,QAAQ,CAACb,cAAc,CAAC,CAAEe,UAAU,CAAEL,aAAa,CAACM,EAA5B,CAAgCP,IAAI,CAAJA,IAAhC,CAAD,CAAf,CAAR,CACD,CAFD,CAIA,GAAMQ,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBJ,QAAQ,CAACZ,cAAc,CAAC,CAAEc,UAAU,CAAEL,aAAa,CAACM,EAA5B,CAAD,CAAf,CAAR,CACD,CAFD,CAIA,mBACE,qDACE,oBAAC,KAAD,EAAO,IAAI,CAAEP,IAAb,CAAmB,SAAS,CAAED,SAA9B,eACE,oBAAC,KAAD,CAAO,MAAP,EAAc,KAAK,CAAC,iIAApB,EADF,cAEE,oBAAC,KAAD,CAAO,IAAP,mBACE,oBAAC,YAAD,gBACE,QAAQ,CAAEN,qBADZ,CAEE,IAAI,CAAEO,IAFR,EAGMC,aAHN,EADF,cAME,oBAAC,aAAD,EAAe,UAAU,CAAEA,aAAa,CAACM,EAAzC,EANF,cAOE,2BAAK,KAAK,CAAE,CAAEE,SAAS,CAAE,EAAb,CAAZ,eACE,oBAAC,MAAD,EACE,IAAI,CAAEpB,WAAW,CAACqB,MADpB,CAEE,OAAO,CAAE,yBAAMP,CAAAA,mBAAmB,CAAC,IAAD,CAAzB,EAFX,CAGE,IAAI,cAAE,oBAAC,KAAD,CAAO,SAAP,EAAiB,IAAI,CAAC,cAAtB,EAHR,8HADF,cAQE,oBAAC,MAAD,EACE,KAAK,CAAE,CAAEQ,UAAU,CAAE,EAAd,CADT,CAEE,IAAI,CAAEtB,WAAW,CAACuB,SAFpB,CAGE,OAAO,CAAEJ,MAHX,sGARF,CAPF,CAFF,CADF,cA4BE,oBAAC,aAAD,EACE,SAAS,CAAEN,gBADb,CAEE,IAAI,CAAE,sBAAMC,CAAAA,mBAAmB,CAAC,KAAD,CAAzB,EAFR,CAGE,QAAQ,CAAEE,QAHZ,EA5BF,CADF,CAoCD,CAnDM","sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Modal } from '@distate/components';\r\nimport { Button, ButtonKinds, Icons } from '@distate/components';\r\nimport { deleteDivision, doHeadDivision, updateCompanyDivision } from '../../../store/actions';\r\nimport { DivisionForm } from '../DivisionForm';\r\nimport { CompanyDivision } from '../../../helpers/company.typings';\r\nimport { DivisionStaff } from './DivisionStaff';\r\nimport { ConfirmDelete } from './ConfirmDelete';\r\n\r\ntype Props = {\r\n  hide: () => void;\r\n  isVisible: boolean;\r\n  divisionProps: CompanyDivision & { id: number };\r\n};\r\n\r\n/** модалка карточки подразделения */\r\nexport const ModalDivisionCard = (props: Props) => {\r\n  const { isVisible, hide, divisionProps } = props;\r\n\r\n  const [isVisibleConfirm, setIsVisibleConfirm] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onDelete = () => {\r\n    dispatch(deleteDivision({ divisionId: divisionProps.id, hide }));\r\n  }\r\n\r\n  const doHead = () => {\r\n    dispatch(doHeadDivision({ divisionId: divisionProps.id }));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Modal hide={hide} isVisible={isVisible}>\r\n        <Modal.Header title=\"Карточка подразделения\" />\r\n        <Modal.Body>\r\n          <DivisionForm\r\n            onAction={updateCompanyDivision}\r\n            hide={hide}\r\n            {...divisionProps}\r\n          />\r\n          <DivisionStaff divisionId={divisionProps.id}/>\r\n          <div style={{ marginTop: 10 }}>\r\n            <Button\r\n              kind={ButtonKinds.Danger}\r\n              onClick={() => setIsVisibleConfirm(true)}\r\n              icon={<Icons.IconTrash fill=\"currentColor\" />}\r\n            >\r\n              Удалить подразделение\r\n            </Button>\r\n            <Button\r\n              style={{ marginLeft: 10 }}\r\n              kind={ButtonKinds.Secondary}\r\n              onClick={doHead}\r\n            >\r\n              Назначить главным\r\n            </Button>\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n      <ConfirmDelete\r\n        isVisible={isVisibleConfirm}\r\n        hide={() => setIsVisibleConfirm(false)}\r\n        onDelete={onDelete}\r\n      />\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}