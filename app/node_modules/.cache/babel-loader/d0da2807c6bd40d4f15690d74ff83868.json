{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport ModalHeader from './ModalHeader';\nimport ModalBody from './ModalBody';\nimport ModalFooter from './ModalFooter';\nimport { Overlay, Content } from './Modal.styles';\nvar ModalPropTypes = {\n  hide: PropTypes.func.isRequired,\n  isVisible: PropTypes.bool,\n  width: PropTypes.string,\n  zIndex: PropTypes.number\n};\n\nvar Modal = /*#__PURE__*/function (_Component) {\n  _inherits(Modal, _Component);\n\n  var _super = _createSuper(Modal);\n\n  function Modal(props) {\n    var _this;\n\n    _classCallCheck(this, Modal);\n\n    _this = _super.call(this, props);\n    _this.triggerHide = _this.triggerHide.bind(_assertThisInitialized(_this));\n    _this.handleEscKeyDown = _this.handleEscKeyDown.bind(_assertThisInitialized(_this));\n    _this.handleDimmerClick = _this.handleDimmerClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Modal, [{\n    key: \"triggerHide\",\n    value: function triggerHide() {\n      this.props.hide();\n    }\n  }, {\n    key: \"handleEscKeyDown\",\n    value: function handleEscKeyDown(e) {\n      if (e.key === 'Escape') {\n        this.triggerHide();\n      }\n    }\n  }, {\n    key: \"handleDimmerClick\",\n    value: function handleDimmerClick() {\n      this.triggerHide();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('keydown', this.handleEscKeyDown);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var isVisible = this.props.isVisible;\n      var body = document.querySelector('body');\n\n      if (isVisible) {\n        body.style.overflow = 'hidden';\n      } else {\n        body.style.overflow = 'auto';\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('keydown', this.handleEscKeyDown);\n    }\n  }, {\n    key: \"withProps\",\n    value: function withProps(elements) {\n      var _this2 = this;\n\n      return React.Children.map(elements, function (modalChild) {\n        if (modalChild.type === Modal.Header) {\n          return React.createElement(modalChild.type, Object.assign({}, modalChild.props, {\n            onClickCloseBtn: _this2.triggerHide\n          }));\n        }\n\n        return modalChild;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          width = _this$props.width,\n          isVisible = _this$props.isVisible,\n          _this$props$zIndex = _this$props.zIndex,\n          zIndex = _this$props$zIndex === void 0 ? 1000 : _this$props$zIndex;\n      var modal = React.createElement(Overlay, {\n        onClick: this.handleDimmerClick,\n        isVisible: isVisible,\n        style: {\n          zIndex: zIndex\n        }\n      }, React.createElement(Content, {\n        onClick: function onClick(e) {\n          return e.stopPropagation();\n        },\n        width: width\n      }, this.withProps(this.props.children)));\n      return ReactDOM.createPortal(modal, document.getElementById('modals') || document.body);\n    }\n  }]);\n\n  return Modal;\n}(Component);\n\nModal.Header = ModalHeader;\nModal.Body = ModalBody;\nModal.Footer = ModalFooter;\nModal.propTypes = ModalPropTypes;\nexport default Modal;","map":{"version":3,"sources":["../../src/Modal/Modal.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport ModalHeader from './ModalHeader';\r\nimport ModalBody from './ModalBody';\r\nimport ModalFooter from './ModalFooter';\r\nimport { Overlay, Content } from './Modal.styles';\r\nconst ModalPropTypes = {\r\n    hide: PropTypes.func.isRequired,\r\n    isVisible: PropTypes.bool,\r\n    width: PropTypes.string,\r\n    zIndex: PropTypes.number\r\n};\r\nclass Modal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.triggerHide = this.triggerHide.bind(this);\r\n        this.handleEscKeyDown = this.handleEscKeyDown.bind(this);\r\n        this.handleDimmerClick = this.handleDimmerClick.bind(this);\r\n    }\r\n    triggerHide() {\r\n        this.props.hide();\r\n    }\r\n    handleEscKeyDown(e) {\r\n        if (e.key === 'Escape') {\r\n            this.triggerHide();\r\n        }\r\n    }\r\n    handleDimmerClick() {\r\n        this.triggerHide();\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.handleEscKeyDown);\r\n    }\r\n    componentDidUpdate() {\r\n        const { isVisible } = this.props;\r\n        const body = document.querySelector('body');\r\n        if (isVisible) {\r\n            body.style.overflow = 'hidden';\r\n        }\r\n        else {\r\n            body.style.overflow = 'auto';\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener('keydown', this.handleEscKeyDown);\r\n    }\r\n    withProps(elements) {\r\n        return React.Children.map(elements, modalChild => {\r\n            if (modalChild.type === Modal.Header) {\r\n                return React.createElement(modalChild.type, Object.assign({}, modalChild.props, { onClickCloseBtn: this.triggerHide }));\r\n            }\r\n            return modalChild;\r\n        });\r\n    }\r\n    render() {\r\n        const { width, isVisible, zIndex = 1000 } = this.props;\r\n        const modal = (React.createElement(Overlay, { onClick: this.handleDimmerClick, isVisible: isVisible, style: { zIndex } },\r\n            React.createElement(Content, { onClick: e => e.stopPropagation(), width: width }, this.withProps(this.props.children))));\r\n        return ReactDOM.createPortal(modal, document.getElementById('modals') || document.body);\r\n    }\r\n}\r\nModal.Header = ModalHeader;\r\nModal.Body = ModalBody;\r\nModal.Footer = ModalFooter;\r\nModal.propTypes = ModalPropTypes;\r\nexport default Modal;\r\n//# sourceMappingURL=Modal.js.map"]},"metadata":{},"sourceType":"module"}