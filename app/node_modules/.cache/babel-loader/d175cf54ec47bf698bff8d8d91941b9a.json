{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ReactDOM from'react-dom';import PropTypes from'prop-types';import ModalHeader from'./ModalHeader';import ModalBody from'./ModalBody';import ModalFooter from'./ModalFooter';import{Overlay,Content}from'./Modal.styles';var ModalPropTypes={hide:PropTypes.func.isRequired,isVisible:PropTypes.bool,width:PropTypes.string,zIndex:PropTypes.number};var Modal=/*#__PURE__*/function(_Component){_inherits(Modal,_Component);var _super=_createSuper(Modal);function Modal(props){var _this;_classCallCheck(this,Modal);_this=_super.call(this,props);_this.triggerHide=_this.triggerHide.bind(_assertThisInitialized(_this));_this.handleEscKeyDown=_this.handleEscKeyDown.bind(_assertThisInitialized(_this));_this.handleDimmerClick=_this.handleDimmerClick.bind(_assertThisInitialized(_this));return _this;}_createClass(Modal,[{key:\"triggerHide\",value:function triggerHide(){this.props.hide();}},{key:\"handleEscKeyDown\",value:function handleEscKeyDown(e){if(e.key==='Escape'){this.triggerHide();}}},{key:\"handleDimmerClick\",value:function handleDimmerClick(){this.triggerHide();}},{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener('keydown',this.handleEscKeyDown);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var isVisible=this.props.isVisible;var body=document.querySelector('body');if(isVisible){body.style.overflow='hidden';}else{body.style.overflow='auto';}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('keydown',this.handleEscKeyDown);}},{key:\"withProps\",value:function withProps(elements){var _this2=this;return React.Children.map(elements,function(modalChild){if(modalChild.type===Modal.Header){return/*#__PURE__*/React.createElement(modalChild.type,Object.assign({},modalChild.props,{onClickCloseBtn:_this2.triggerHide}));}return modalChild;});}},{key:\"render\",value:function render(){var _this$props=this.props,width=_this$props.width,isVisible=_this$props.isVisible,_this$props$zIndex=_this$props.zIndex,zIndex=_this$props$zIndex===void 0?1000:_this$props$zIndex;var modal=/*#__PURE__*/React.createElement(Overlay,{onClick:this.handleDimmerClick,isVisible:isVisible,style:{zIndex:zIndex!==null&&zIndex!==void 0?zIndex:0}},/*#__PURE__*/React.createElement(Content,{onClick:function onClick(e){return e.stopPropagation();},width:width!==null&&width!==void 0?width:\"100%\"},this.withProps(this.props.children)));return ReactDOM.createPortal(modal,document.getElementById('modals')||document.body);}}]);return Modal;}(Component);Modal.Header=ModalHeader;Modal.Body=ModalBody;Modal.Footer=ModalFooter;export default Modal;","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/POA/MCHD_ROOT/common/Modal/Modal.tsx"],"names":["React","Component","ReactDOM","PropTypes","ModalHeader","ModalBody","ModalFooter","Overlay","Content","ModalPropTypes","hide","func","isRequired","isVisible","bool","width","string","zIndex","number","Modal","props","triggerHide","bind","handleEscKeyDown","handleDimmerClick","e","key","document","addEventListener","body","querySelector","style","overflow","removeEventListener","elements","Children","map","modalChild","type","Header","modal","stopPropagation","withProps","children","createPortal","getElementById","Body","Footer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport ModalHeader from './ModalHeader';\r\nimport ModalBody from './ModalBody';\r\nimport ModalFooter from './ModalFooter';\r\nimport { Overlay, Content } from './Modal.styles';\r\n\r\nconst ModalPropTypes = {\r\n  hide: PropTypes.func.isRequired,\r\n  isVisible: PropTypes.bool,\r\n  width: PropTypes.string,\r\n  zIndex: PropTypes.number\r\n};\r\n\r\nexport type ModalProps = PropTypes.InferProps<typeof ModalPropTypes> & {\r\n  children?: React.ReactNode;\r\n};\r\n\r\ntype ModalState = {\r\n  count: number;\r\n};\r\n\r\nclass Modal extends Component<ModalProps, ModalState> {\r\n  static Header = ModalHeader;\r\n  static Body = ModalBody;\r\n  static Footer = ModalFooter;\r\n  static propTypes = ModalPropTypes;\r\n\r\n  constructor(props: ModalProps) {\r\n    super(props);\r\n\r\n    this.triggerHide = this.triggerHide.bind(this);\r\n    this.handleEscKeyDown = this.handleEscKeyDown.bind(this);\r\n    this.handleDimmerClick = this.handleDimmerClick.bind(this);\r\n  }\r\n\r\n  triggerHide() {\r\n    this.props.hide();\r\n  }\r\n\r\n  handleEscKeyDown(e: any) {\r\n    if (e.key === 'Escape') {\r\n      this.triggerHide();\r\n    }\r\n  }\r\n\r\n  handleDimmerClick() {\r\n    this.triggerHide();\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.handleEscKeyDown);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { isVisible } = this.props;\r\n    const body: HTMLBodyElement = document.querySelector('body') as HTMLBodyElement;\r\n\r\n    if (isVisible) {\r\n      body!.style.overflow = 'hidden';\r\n    } else {\r\n      body!.style.overflow = 'auto';\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.handleEscKeyDown);\r\n  }\r\n\r\n  withProps(elements: any) {\r\n    return React.Children.map(elements, modalChild => {\r\n      if (modalChild.type === Modal.Header) {\r\n        return <modalChild.type {...modalChild.props} onClickCloseBtn={this.triggerHide} />;\r\n      }\r\n      return modalChild;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { width, isVisible, zIndex = 1000 } = this.props;\r\n\r\n    const modal = (\r\n      <Overlay onClick={this.handleDimmerClick} isVisible={isVisible} style={{ zIndex: zIndex ?? 0 }}>\r\n        <Content onClick={e => e.stopPropagation()} width={width ?? \"100%\"}>\r\n          {this.withProps(this.props.children)}\r\n        </Content>\r\n      </Overlay>\r\n    );\r\n\r\n    return ReactDOM.createPortal(modal, document.getElementById('modals') || document.body);\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n"]},"metadata":{},"sourceType":"module"}