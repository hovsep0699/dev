{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _defineProperty from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _applyDecoratedDescriptor from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";var _class,_class2,_temp;import React,{Component}from'react';import ReactDOM from'react-dom';import classNames from'classnames';import Header from'./ModalHeader';import Body from'./ModalBody';import Footer from'./ModalFooter';import styles from'./Modal.module.css';import autobind from'autobind-decorator';var Modal=(_class=(_temp=_class2=/*#__PURE__*/function(_Component){_inherits(Modal,_Component);var _super=_createSuper(Modal);function Modal(){_classCallCheck(this,Modal);return _super.apply(this,arguments);}_createClass(Modal,[{key:\"triggerHide\",value:function triggerHide(){this.props.hide();}},{key:\"handleEscKeyDown\",value:function handleEscKeyDown(e){if(e.key==='Escape'){this.triggerHide();}}},{key:\"handleDimmerClick\",value:function handleDimmerClick(){this.triggerHide();}},{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener('keydown',this.handleEscKeyDown);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var body=document.querySelector('body');if(this.props.isVisible){body.style.overflow='hidden';}else{body.style.overflow='auto';}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('keydown',this.handleEscKeyDown);}},{key:\"withProps\",value:function withProps(elements){var _this=this;return React.Children.map(elements,function(modalSubElement){if(modalSubElement.type===Modal.Header){return/*#__PURE__*/React.createElement(modalSubElement.type,Object.assign({},modalSubElement.props,{onClickCloseBtn:_this.triggerHide}));}return modalSubElement;});}},{key:\"render\",value:function render(){var _classNames;var modalWrapperClasses=classNames((_classNames={popups:true},_defineProperty(_classNames,styles.wrapper,true),_defineProperty(_classNames,styles.hidden,!this.props.isVisible),_classNames));var modalClasses=classNames(_defineProperty({popup:true,active:true},styles.hidden,!this.props.isVisible),this.props.className);var modalWidth=this.props.width?{width:this.props.width}:{};var modalStyle=_objectSpread({},modalWidth);var modal=/*#__PURE__*/React.createElement(\"div\",{className:modalWrapperClasses,onClick:this.handleDimmerClick},/*#__PURE__*/React.createElement(\"div\",{className:modalClasses,onClick:function onClick(e){return e.stopPropagation();},style:modalStyle},this.withProps(this.props.children)));return ReactDOM.createPortal(modal,document.getElementById('modals'));}}]);return Modal;}(Component),_class2.Header=Header,_class2.Body=Body,_class2.Footer=Footer,_temp),(_applyDecoratedDescriptor(_class.prototype,\"triggerHide\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"triggerHide\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"handleEscKeyDown\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"handleEscKeyDown\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"handleDimmerClick\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"handleDimmerClick\"),_class.prototype)),_class);Modal.defaultProps={isVisible:true};export default Modal;","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/common/modal/Modal.js"],"names":["React","Component","ReactDOM","classNames","Header","Body","Footer","styles","autobind","Modal","props","hide","e","key","triggerHide","document","addEventListener","handleEscKeyDown","body","querySelector","isVisible","style","overflow","removeEventListener","elements","Children","map","modalSubElement","type","modalWrapperClasses","popups","wrapper","hidden","modalClasses","popup","active","className","modalWidth","width","modalStyle","modal","handleDimmerClick","stopPropagation","withProps","children","createPortal","getElementById","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport Header from './ModalHeader';\r\nimport Body from './ModalBody';\r\nimport Footer from './ModalFooter';\r\nimport styles from './Modal.module.css';\r\nimport autobind from 'autobind-decorator';\r\n\r\nclass Modal extends Component {\r\n  static Header = Header;\r\n  static Body = Body;\r\n  static Footer = Footer;\r\n\r\n  @autobind\r\n  triggerHide() {\r\n    this.props.hide();\r\n  }\r\n\r\n  @autobind\r\n  handleEscKeyDown(e) {\r\n    if (e.key === 'Escape') {\r\n      this.triggerHide();\r\n    }\r\n  }\r\n\r\n  @autobind\r\n  handleDimmerClick() {\r\n    this.triggerHide();\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', this.handleEscKeyDown);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const body = document.querySelector('body');\r\n    if (this.props.isVisible) {\r\n      body.style.overflow = 'hidden';\r\n    } else {\r\n      body.style.overflow = 'auto';\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener('keydown', this.handleEscKeyDown);\r\n  }\r\n\r\n  withProps(elements) {\r\n    return React.Children.map(elements, modalSubElement => {\r\n      if (modalSubElement.type === Modal.Header) {\r\n        return (\r\n          <modalSubElement.type {...modalSubElement.props} onClickCloseBtn={this.triggerHide} />\r\n        );\r\n      }\r\n      return modalSubElement;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const modalWrapperClasses = classNames({\r\n      popups: true,\r\n      [styles.wrapper]: true,\r\n      [styles.hidden]: !this.props.isVisible\r\n    });\r\n    const modalClasses = classNames(\r\n      {\r\n        popup: true,\r\n        active: true,\r\n        [styles.hidden]: !this.props.isVisible\r\n      },\r\n      this.props.className\r\n    );\r\n    const modalWidth = this.props.width ? { width: this.props.width } : {};\r\n    const modalStyle = {\r\n      ...modalWidth\r\n    };\r\n    const modal = (\r\n      <div className={modalWrapperClasses} onClick={this.handleDimmerClick}>\r\n        <div className={modalClasses} onClick={e => e.stopPropagation()} style={modalStyle}>\r\n          {this.withProps(this.props.children)}\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    return ReactDOM.createPortal(modal, document.getElementById('modals'));\r\n  }\r\n}\r\n\r\nModal.defaultProps = {\r\n  isVisible: true\r\n};\r\n\r\nModal.propTypes = {\r\n  hide: PropTypes.func.isRequired,\r\n  isVisible: PropTypes.bool,\r\n  width: PropTypes.string\r\n};\r\n\r\nexport default Modal;\r\n"]},"metadata":{},"sourceType":"module"}