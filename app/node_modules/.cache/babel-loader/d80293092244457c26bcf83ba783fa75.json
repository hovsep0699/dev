{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{PaginationLimit,Pagination}from'../../../../common/pagination';import{tariffRowsSelector,tariffRecordsTotalSelector}from'../../store/selectors';import{getTariffsByCompanyId}from'../../store/actions';export var TariffHistory=function TariffHistory(_ref){var match=_ref.match;var _useState=useState(10),_useState2=_slicedToArray(_useState,2),limit=_useState2[0],setLimit=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),offset=_useState4[0],setOffset=_useState4[1];var recordsTotal=useSelector(tariffRecordsTotalSelector);var rows=useSelector(tariffRowsSelector);var dispatch=useDispatch();useEffect(function(){var _match$params;var companyId=match===null||match===void 0?void 0:(_match$params=match.params)===null||_match$params===void 0?void 0:_match$params.id;companyId&&dispatch(getTariffsByCompanyId({id:companyId,offset:offset}));},[dispatch,match,offset]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"common-table-head\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:2},\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u0430\\u0440\\u0438\\u0444\\u0430\"),/*#__PURE__*/React.createElement(\"td\",null,\"\\u0414\\u0430\\u0442\\u0430 \\u0441\\u0442\\u0430\\u0440\\u0442\\u0430\"),/*#__PURE__*/React.createElement(\"td\",null,\"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F\"))),/*#__PURE__*/React.createElement(\"tbody\",null,rows===null||rows===void 0?void 0:rows.map(function(item){var id=item.id,tariff_title=item.tariff_title,from=item.from,to=item.to;return/*#__PURE__*/React.createElement(\"tr\",{key:id},/*#__PURE__*/React.createElement(\"td\",{colSpan:2},tariff_title),/*#__PURE__*/React.createElement(\"td\",null,from),/*#__PURE__*/React.createElement(\"td\",null,to,\" \"));})),/*#__PURE__*/React.createElement(\"tfoot\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:2},/*#__PURE__*/React.createElement(PaginationLimit,{setLimit:setLimit,limit:limit})),/*#__PURE__*/React.createElement(\"td\",{align:\"right\",colSpan:2},/*#__PURE__*/React.createElement(\"div\",{className:\"pagination-right\"},/*#__PURE__*/React.createElement(Pagination,{listLength:recordsTotal,setOffset:setOffset,limit:limit})))))));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/finance/components/tariff-history/TariffHistory.tsx"],"names":["React","useEffect","useState","useDispatch","useSelector","PaginationLimit","Pagination","tariffRowsSelector","tariffRecordsTotalSelector","getTariffsByCompanyId","TariffHistory","match","limit","setLimit","offset","setOffset","recordsTotal","rows","dispatch","companyId","params","id","map","item","tariff_title","from","to"],"mappings":"2KAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,eAAT,CAA0BC,UAA1B,KAA4C,+BAA5C,CACA,OAASC,kBAAT,CAA6BC,0BAA7B,KAA+D,uBAA/D,CACA,OAASC,qBAAT,KAAsC,qBAAtC,CAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAoB,IAAjBC,CAAAA,KAAiB,MAAjBA,KAAiB,eACrBT,QAAQ,CAAC,EAAD,CADa,wCACxCU,KADwC,eACjCC,QADiC,8BAEnBX,QAAQ,CAAC,CAAD,CAFW,yCAExCY,MAFwC,eAEhCC,SAFgC,eAI/C,GAAMC,CAAAA,YAAY,CAAGZ,WAAW,CAACI,0BAAD,CAAhC,CACA,GAAMS,CAAAA,IAAI,CAAGb,WAAW,CAACG,kBAAD,CAAxB,CAEA,GAAMW,CAAAA,QAAQ,CAAGf,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,mBACd,GAAMkB,CAAAA,SAAS,CAAGR,KAAH,SAAGA,KAAH,gCAAGA,KAAK,CAAES,MAAV,wCAAG,cAAeC,EAAjC,CACAF,SAAS,EAAID,QAAQ,CAACT,qBAAqB,CAAC,CAAEY,EAAE,CAAEF,SAAN,CAAiBL,MAAM,CAANA,MAAjB,CAAD,CAAtB,CAArB,CACD,CAHQ,CAGN,CAACI,QAAD,CAAWP,KAAX,CAAkBG,MAAlB,CAHM,CAAT,CAKA,mBACE,4CACE,6BAAO,SAAS,CAAC,OAAjB,eACE,6BAAO,SAAS,CAAC,mBAAjB,eACE,2CACE,0BAAI,OAAO,CAAE,CAAb,0FADF,cAEE,8FAFF,cAGE,gHAHF,CADF,CADF,cAQE,iCACGG,IADH,SACGA,IADH,iBACGA,IAAI,CAAEK,GAAN,CAAU,SAAAC,IAAI,CAAI,IACTF,CAAAA,EADS,CACsBE,IADtB,CACTF,EADS,CACLG,YADK,CACsBD,IADtB,CACLC,YADK,CACSC,IADT,CACsBF,IADtB,CACSE,IADT,CACeC,EADf,CACsBH,IADtB,CACeG,EADf,CAEjB,mBACE,0BAAI,GAAG,CAAEL,EAAT,eACE,0BAAI,OAAO,CAAE,CAAb,EAAiBG,YAAjB,CADF,cAEE,8BAAKC,IAAL,CAFF,cAGE,8BAAKC,EAAL,KAHF,CADF,CAOD,CATA,CADH,CARF,cAoBE,8CACE,2CACE,0BAAI,OAAO,CAAE,CAAb,eACE,oBAAC,eAAD,EAAiB,QAAQ,CAAEb,QAA3B,CAAqC,KAAK,CAAED,KAA5C,EADF,CADF,cAIE,0BAAI,KAAK,CAAC,OAAV,CAAkB,OAAO,CAAE,CAA3B,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,UAAD,EAAY,UAAU,CAAEI,YAAxB,CAAsC,SAAS,CAAED,SAAjD,CAA4D,KAAK,CAAEH,KAAnE,EADF,CADF,CAJF,CADF,CApBF,CADF,CADF,CAqCD,CAnDM","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { PaginationLimit, Pagination } from '../../../../common/pagination';\r\nimport { tariffRowsSelector, tariffRecordsTotalSelector } from '../../store/selectors';\r\nimport { getTariffsByCompanyId } from '../../store/actions';\r\n\r\nexport const TariffHistory = ({ match }: any) => {\r\n  const [limit, setLimit] = useState(10);\r\n  const [offset, setOffset] = useState(0);\r\n\r\n  const recordsTotal = useSelector(tariffRecordsTotalSelector);\r\n  const rows = useSelector(tariffRowsSelector);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const companyId = match?.params?.id;\r\n    companyId && dispatch(getTariffsByCompanyId({ id: companyId, offset }));\r\n  }, [dispatch, match, offset]);\r\n\r\n  return (\r\n    <div>\r\n      <table className=\"table\">\r\n        <thead className=\"common-table-head\">\r\n          <tr>\r\n            <td colSpan={2}>Название тарифа</td>\r\n            <td>Дата старта</td>\r\n            <td>Дата окончания</td>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {rows?.map(item => {\r\n            const { id, tariff_title, from, to } = item;\r\n            return (\r\n              <tr key={id}>\r\n                <td colSpan={2}>{tariff_title}</td>\r\n                <td>{from}</td>\r\n                <td>{to} </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n        <tfoot>\r\n          <tr>\r\n            <td colSpan={2}>\r\n              <PaginationLimit setLimit={setLimit} limit={limit} />\r\n            </td>\r\n            <td align=\"right\" colSpan={2}>\r\n              <div className=\"pagination-right\">\r\n                <Pagination listLength={recordsTotal} setOffset={setOffset} limit={limit} />\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}