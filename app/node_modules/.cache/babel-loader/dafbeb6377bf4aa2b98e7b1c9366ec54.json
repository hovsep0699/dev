{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getAddedGroupLegalEntityEffect),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getAddedGroupLegalEntityWorker);import{takeLatest,put}from'redux-saga/effects';import{getAddedGroupLegalEntity,setAddedGroupLegalEntity}from'../actions';import{Flash}from'../../../../common/flash/Flash';import{ContractorApiServices}from'../../services/contractors.api';export function getAddedGroupLegalEntityEffect(){return _regeneratorRuntime.wrap(function getAddedGroupLegalEntityEffect$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(getAddedGroupLegalEntity,getAddedGroupLegalEntityWorker);case 2:case\"end\":return _context.stop();}}},_marked);}/** получение списка добавленных в группу ЮЛ */function getAddedGroupLegalEntityWorker(_ref){var payload,id,offset,limit,name,inn,response,message;return _regeneratorRuntime.wrap(function getAddedGroupLegalEntityWorker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:payload=_ref.payload;_context2.prev=1;id=payload.id,offset=payload.offset,limit=payload.limit,name=payload.name,inn=payload.inn;_context2.next=5;return ContractorApiServices.getLegalEntityGroup({id:id,offset:offset,limit:limit,name:name,inn:inn});case 5:response=_context2.sent;_context2.next=8;return put(setAddedGroupLegalEntity(response));case 8:_context2.next=15;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);message=_context2.t0.message;_context2.next=15;return Flash.error(message||'Возникла ошибка');case 15:case\"end\":return _context2.stop();}}},_marked2,null,[[1,10]]);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/store/sagas/getAddedGroupLegalEntity.effect.ts"],"names":["getAddedGroupLegalEntityEffect","getAddedGroupLegalEntityWorker","takeLatest","put","getAddedGroupLegalEntity","setAddedGroupLegalEntity","Flash","ContractorApiServices","payload","id","offset","limit","name","inn","getLegalEntityGroup","response","message","error"],"mappings":"oNAMiBA,8B,iDAaPC,8B,EAnBV,OAASC,UAAT,CAAqBC,GAArB,KAAgC,oBAAhC,CAEA,OAASC,wBAAT,CAAmCC,wBAAnC,KAAmE,YAAnE,CACA,OAASC,KAAT,KAAsB,gCAAtB,CACA,OAASC,qBAAT,KAAsC,gCAAtC,CAEA,MAAO,SAAUP,CAAAA,8BAAV,0JACL,MAAME,CAAAA,UAAU,CAACE,wBAAD,CAA2BH,8BAA3B,CAAhB,CADK,sDAYP,+CACA,QAAUA,CAAAA,8BAAV,uMAA2CO,OAA3C,MAA2CA,OAA3C,kBAEYC,EAFZ,CAE6CD,OAF7C,CAEYC,EAFZ,CAEgBC,MAFhB,CAE6CF,OAF7C,CAEgBE,MAFhB,CAEwBC,KAFxB,CAE6CH,OAF7C,CAEwBG,KAFxB,CAE+BC,IAF/B,CAE6CJ,OAF7C,CAE+BI,IAF/B,CAEqCC,GAFrC,CAE6CL,OAF7C,CAEqCK,GAFrC,kBAGqB,MAAMN,CAAAA,qBAAqB,CAACO,mBAAtB,CAA0C,CAC/DL,EAAE,CAAFA,EAD+D,CAE/DC,MAAM,CAANA,MAF+D,CAG/DC,KAAK,CAALA,KAH+D,CAI/DC,IAAI,CAAJA,IAJ+D,CAK/DC,GAAG,CAAHA,GAL+D,CAA1C,CAAN,CAHrB,OAGUE,QAHV,iCAUI,MAAMZ,CAAAA,GAAG,CAACE,wBAAwB,CAACU,QAAD,CAAzB,CAAT,CAVJ,4FAWaC,OAXb,cAWaA,OAXb,mBAYI,MAAMV,CAAAA,KAAK,CAACW,KAAN,CAAYD,OAAO,EAAI,iBAAvB,CAAN,CAZJ","sourcesContent":["import { takeLatest, put } from 'redux-saga/effects';\r\n\r\nimport { getAddedGroupLegalEntity, setAddedGroupLegalEntity } from '../actions';\r\nimport { Flash } from '../../../../common/flash/Flash';\r\nimport { ContractorApiServices } from '../../services/contractors.api';\r\n\r\nexport function* getAddedGroupLegalEntityEffect() {\r\n  yield takeLatest(getAddedGroupLegalEntity, getAddedGroupLegalEntityWorker);\r\n}\r\n\r\ninterface Payload {\r\n  id: number;\r\n  offset?: number;\r\n  limit?: number;\r\n  name?: string;\r\n  inn?: string;\r\n}\r\n\r\n/** получение списка добавленных в группу ЮЛ */\r\nfunction* getAddedGroupLegalEntityWorker({ payload }: { payload: Payload }) {\r\n  try {\r\n    const { id, offset, limit, name, inn } = payload;\r\n    const response = yield ContractorApiServices.getLegalEntityGroup({\r\n      id,\r\n      offset,\r\n      limit,\r\n      name,\r\n      inn\r\n    });\r\n    yield put(setAddedGroupLegalEntity(response));\r\n  } catch ({ message }) {\r\n    yield Flash.error(message || 'Возникла ошибка');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}