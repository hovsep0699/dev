{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import styled from'styled-components';var HierarchicalDropdown=function HierarchicalDropdown(_ref){var data=_ref.data;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),selectedItems=_useState4[0],setSelectedItems=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),expandedItems=_useState6[0],setExpandedItems=_useState6[1];var toggleDropdown=function toggleDropdown(){setIsOpen(!isOpen);};var handleCheckboxChange=function handleCheckboxChange(path){setSelectedItems(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},path,!prevState[path]));});};var toggleExpand=function toggleExpand(path){setExpandedItems(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},path,!prevState[path]));});};var renderItems=function renderItems(items){var level=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var parentPath=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';return Object.keys(items).map(function(key){var currentPath=parentPath?\"\".concat(parentPath,\".\").concat(key):key;var isExpandable=typeof items[key]==='object';return/*#__PURE__*/React.createElement(\"div\",{key:currentPath},isExpandable?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Item,{level:level,onClick:function onClick(){return toggleExpand(currentPath);}},/*#__PURE__*/React.createElement(ExpandIcon,null,expandedItems[currentPath]?'−':'+'),key),expandedItems[currentPath]&&renderItems(items[key],level+1,currentPath)):/*#__PURE__*/React.createElement(IndentedItem,{level:level},/*#__PURE__*/React.createElement(Checkbox,{type:\"checkbox\",checked:selectedItems[currentPath]||false,onChange:function onChange(){return handleCheckboxChange(currentPath);}}),/*#__PURE__*/React.createElement(Label,null,key)));});};return/*#__PURE__*/React.createElement(DropdownContainer,null,/*#__PURE__*/React.createElement(DropdownButton,{onClick:toggleDropdown},\"\\u041C\\u0430\\u0448\\u0438\\u043D\\u043E\\u0447\\u0438\\u0442\\u0430\\u0435\\u043C\\u044B\\u0435 \\u043F\\u043E\\u043B\\u043D\\u043E\\u043C\\u043E\\u0447\\u0438\\u044F\"),/*#__PURE__*/React.createElement(DropdownContent,{isOpen:isOpen},renderItems(data)));};export default HierarchicalDropdown;// Styled components\nvar DropdownContainer=styled.div.withConfig({displayName:\"HierarchicalDropdown__DropdownContainer\",componentId:\"dfqvfe-0\"})([\"position:relative;width:100%;height:100%;\"]);var DropdownButton=styled.div.withConfig({displayName:\"HierarchicalDropdown__DropdownButton\",componentId:\"dfqvfe-1\"})([\"padding:10px;border:1px solid #ccc;cursor:pointer;background-color:#fff;\"]);var DropdownContent=styled.div.withConfig({displayName:\"HierarchicalDropdown__DropdownContent\",componentId:\"dfqvfe-2\"})([\"display:\",\";position:absolute;width:100%;max-height:200px;overflow-y:auto;border:1px solid #ccc;background-color:#fff;z-index:1;\"],function(props){return props.isOpen?'block':'none';});var Item=styled.div.withConfig({displayName:\"HierarchicalDropdown__Item\",componentId:\"dfqvfe-3\"})([\"padding:5px 10px;margin-left:\",\"px;cursor:pointer;&:hover{background-color:#f0f0f0;}\"],function(props){return props.level*10;});var Checkbox=styled.input.withConfig({displayName:\"HierarchicalDropdown__Checkbox\",componentId:\"dfqvfe-4\"})([\"margin-right:5px;\"]);var Label=styled.label.withConfig({displayName:\"HierarchicalDropdown__Label\",componentId:\"dfqvfe-5\"})([\"cursor:pointer;\"]);var ExpandIcon=styled.span.withConfig({displayName:\"HierarchicalDropdown__ExpandIcon\",componentId:\"dfqvfe-6\"})([\"margin-right:5px;cursor:pointer;display:inline-block;width:12px;text-align:center;\"]);var IndentedItem=styled.div.withConfig({displayName:\"HierarchicalDropdown__IndentedItem\",componentId:\"dfqvfe-7\"})([\"padding-left:\",\"px;\"],function(props){return props.level*10;});","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/POA/MCHD_ROOT/presentation/pages/CreatePoa/Individual/HierarchicalDropdown.tsx"],"names":["React","useState","styled","HierarchicalDropdown","data","isOpen","setIsOpen","selectedItems","setSelectedItems","expandedItems","setExpandedItems","toggleDropdown","handleCheckboxChange","path","prevState","toggleExpand","renderItems","items","level","parentPath","Object","keys","map","key","currentPath","isExpandable","DropdownContainer","div","DropdownButton","DropdownContent","props","Item","Checkbox","input","Label","label","ExpandIcon","span","IndentedItem"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface HierarchicalDropdownProps {\r\n    data: Record<string, any>;\r\n}\r\n\r\nconst HierarchicalDropdown: React.FC<HierarchicalDropdownProps> = ({data}: HierarchicalDropdownProps) => {\r\n    const [isOpen, setIsOpen] = useState<boolean>(false);\r\n    const [selectedItems, setSelectedItems] = useState<any>({});\r\n    const [expandedItems, setExpandedItems] = useState<any>({});\r\n  \r\n    const toggleDropdown = () => {\r\n      setIsOpen(!isOpen);\r\n    };\r\n  \r\n    const handleCheckboxChange = (path: any) => {\r\n      setSelectedItems((prevState: any) => ({\r\n        ...prevState,\r\n        [path]: !prevState[path]\r\n      }));\r\n    };\r\n  \r\n    const toggleExpand = (path: any) => {\r\n      setExpandedItems((prevState: any) => ({\r\n        ...prevState,\r\n        [path]: !prevState[path]\r\n      }));\r\n    };\r\n  \r\n    const renderItems = (items: any, level: number = 0, parentPath: string = '') => {\r\n      return Object.keys(items).map((key) => {\r\n        const currentPath = parentPath ? `${parentPath}.${key}` : key;\r\n        const isExpandable = typeof items[key] === 'object';\r\n  \r\n        return (\r\n          <div key={currentPath}>\r\n            {isExpandable ? (\r\n              <>\r\n                <Item level={level} onClick={() => toggleExpand(currentPath)}>\r\n                  <ExpandIcon>{expandedItems[currentPath] ? '−' : '+'}</ExpandIcon>\r\n                  {key}\r\n                </Item>\r\n                {expandedItems[currentPath] && renderItems(items[key], level + 1, currentPath)}\r\n              </>\r\n            ) : (\r\n              <IndentedItem level={level}>\r\n                <Checkbox\r\n                  type=\"checkbox\"\r\n                  checked={selectedItems[currentPath] || false}\r\n                  onChange={() => handleCheckboxChange(currentPath)}\r\n                />\r\n                <Label>{key}</Label>\r\n              </IndentedItem>\r\n            )}\r\n          </div>\r\n        );\r\n      });\r\n    };\r\n  \r\n    return (\r\n      <DropdownContainer>\r\n        <DropdownButton onClick={toggleDropdown}>\r\n          Машиночитаемые полномочия\r\n        </DropdownButton>\r\n        <DropdownContent isOpen={isOpen}>\r\n          {renderItems(data)}\r\n        </DropdownContent>\r\n      </DropdownContainer>\r\n    );\r\n  };\r\n  \r\n  export default HierarchicalDropdown;\r\n  \r\n// Styled components\r\nconst DropdownContainer = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\n\r\nconst DropdownButton = styled.div`\r\n  padding: 10px;\r\n  border: 1px solid #ccc;\r\n  //border-radius: 5px;\r\n  cursor: pointer;\r\n  background-color: #fff;\r\n`;\r\n\r\ninterface DropdownContainerProps {\r\n    isOpen?: boolean;\r\n}\r\n\r\nconst DropdownContent = styled.div<DropdownContainerProps>`\r\n  display: ${props => (props.isOpen ? 'block' : 'none')};\r\n  position: absolute;\r\n  width: 100%;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  border: 1px solid #ccc;\r\n  //border-radius: 5px;\r\n  background-color: #fff;\r\n  z-index: 1;\r\n`;\r\n\r\ninterface ItemProps {\r\n    level: number;\r\n}\r\n\r\nconst Item = styled.div<ItemProps>`\r\n  padding: 5px 10px;\r\n  margin-left: ${props => props.level * 10}px;\r\n  cursor: pointer;\r\n  \r\n  &:hover {\r\n    background-color: #f0f0f0;\r\n  }\r\n`;\r\n\r\nconst Checkbox = styled.input`\r\n  margin-right: 5px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ExpandIcon = styled.span`\r\n  margin-right: 5px;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  width: 12px;\r\n  text-align: center;\r\n`;\r\n\r\nconst IndentedItem = styled.div<ItemProps>`\r\n  padding-left: ${props => props.level * 10}px;\r\n`;\r\n"]},"metadata":{},"sourceType":"module"}