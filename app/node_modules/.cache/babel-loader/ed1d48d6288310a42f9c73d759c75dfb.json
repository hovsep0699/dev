{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Label from'../Label';var Select=function Select(props){var DomainVO=props.DomainVO,initialValue=props.initialValue,onChange=props.onChange,onValueChange=props.onValueChange,width=props.width,labelAlign=props.labelAlign,isRequired=props.isRequired,errorMsg=props.errorMsg,hasLabel=props.hasLabel,selectorWidth=props.selectorWidth,wrapperClasses=props.wrapperClasses;var _useState=useState(initialValue||DomainVO.options[0].value),_useState2=_slicedToArray(_useState,2),selectValue=_useState2[0],setSelectValue=_useState2[1];useEffect(function(){if(!initialValue)setSelectValue(DomainVO.options[0].value);if(initialValue&&initialValue!==selectValue){setSelectValue(initialValue);}},[DomainVO.options,initialValue,selectValue]);var handleChange=function handleChange(e){var newValue=e.target.value||null;setSelectValue(newValue);onChange(e);onValueChange(newValue);};var errorClass=errorMsg?'error':'';var classes=\"ds-select \".concat(errorClass);var options=DomainVO.options.map(function(_ref,index){var value=_ref.value,title=_ref.title;return/*#__PURE__*/React.createElement(\"option\",{value:value!==null&&value!==void 0?value:'',key:\"\".concat(DomainVO.field).concat(index),selected:selectValue===value},title);});var placeholderOption=DomainVO.placeholder&&/*#__PURE__*/React.createElement(\"option\",{value:\"\",disabled:true,key:\"\".concat(DomainVO.field,\".placeholder\")},DomainVO.placeholder);return/*#__PURE__*/React.createElement(\"div\",{className:\"group \".concat(wrapperClasses)},/*#__PURE__*/React.createElement(Label,{title:DomainVO.name,isRequired:isRequired,align:labelAlign,isVisible:!!labelAlign&&hasLabel}),/*#__PURE__*/React.createElement(\"div\",{className:\"group\",style:{width:width}},/*#__PURE__*/React.createElement(\"select\",{name:DomainVO.field,title:DomainVO.hint,value:selectValue,onChange:handleChange,className:classes,style:{width:selectorWidth}},placeholderOption,options),/*#__PURE__*/React.createElement(\"span\",{className:\"ds-field-name bottom error\"},errorMsg)));};Select.defaultProps={onChange:function onChange(){},initialValue:'',width:'',hasLabel:true};export default Select;","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/common/form/components/select/Select.js"],"names":["React","useEffect","useState","Label","Select","props","DomainVO","initialValue","onChange","onValueChange","width","labelAlign","isRequired","errorMsg","hasLabel","selectorWidth","wrapperClasses","options","value","selectValue","setSelectValue","handleChange","e","newValue","target","errorClass","classes","map","index","title","field","placeholderOption","placeholder","name","hint","defaultProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Label from '../Label';\r\n\r\nconst Select = props => {\r\n  const {\r\n    DomainVO,\r\n    initialValue,\r\n    onChange,\r\n    onValueChange,\r\n    width,\r\n    labelAlign,\r\n    isRequired,\r\n    errorMsg,\r\n    hasLabel,\r\n    selectorWidth,\r\n    wrapperClasses\r\n  } = props;\r\n\r\n  const [selectValue, setSelectValue] = useState(initialValue || DomainVO.options[0].value);\r\n  useEffect(() => {\r\n    if (!initialValue) setSelectValue(DomainVO.options[0].value);\r\n    if (initialValue && initialValue !== selectValue) {\r\n      setSelectValue(initialValue);\r\n    }\r\n  }, [DomainVO.options, initialValue, selectValue]);\r\n  const handleChange = e => {\r\n    const newValue = e.target.value || null;\r\n    setSelectValue(newValue);\r\n    onChange(e);\r\n    onValueChange(newValue);\r\n  };\r\n  const errorClass = errorMsg ? 'error' : '';\r\n  const classes = `ds-select ${errorClass}`;\r\n  const options = DomainVO.options.map(({ value, title }, index) => (\r\n    <option value={value ?? ''} key={`${DomainVO.field}${index}`} selected={selectValue === value}>\r\n      {title}\r\n    </option>\r\n  ));\r\n  const placeholderOption = DomainVO.placeholder && (\r\n    <option value=\"\" disabled key={`${DomainVO.field}.placeholder`}>\r\n      {DomainVO.placeholder}\r\n    </option>\r\n  );\r\n  return (\r\n    <div className={`group ${wrapperClasses}`}>\r\n      <Label\r\n        title={DomainVO.name}\r\n        isRequired={isRequired}\r\n        align={labelAlign}\r\n        isVisible={!!labelAlign && hasLabel}\r\n      />\r\n      <div className=\"group\" style={{ width }}>\r\n        <select\r\n          name={DomainVO.field}\r\n          title={DomainVO.hint}\r\n          value={selectValue}\r\n          onChange={handleChange}\r\n          className={classes}\r\n          style={{ width: selectorWidth }}\r\n        >\r\n          {placeholderOption}\r\n          {options}\r\n        </select>\r\n        <span className=\"ds-field-name bottom error\">{errorMsg}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nSelect.defaultProps = {\r\n  onChange: () => {},\r\n  initialValue: '',\r\n  width: '',\r\n  hasLabel: true\r\n};\r\nSelect.propTypes = {\r\n  onChange: PropTypes.func,\r\n  DomainVO: PropTypes.any.isRequired,\r\n  initialValue: PropTypes.any,\r\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  hasLabel: PropTypes.bool\r\n};\r\n\r\nexport default Select;\r\n"]},"metadata":{},"sourceType":"module"}