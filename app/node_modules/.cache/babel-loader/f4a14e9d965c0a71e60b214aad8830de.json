{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _applyDecoratedDescriptor from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";var _class,_class2,_temp;import{ServiceLocator}from\"./ServiceLocator\";import{RepresentativeManager}from\"../core/RepresentativeManager\";import{ApiClient}from\"../core/client/ApiClient\";import{CreateService}from\"../core/network/CreateService\";import AxiosClient from\"../core/client/AxiosClient\";import{BlobClient}from\"../core/client/BlobClient\";import{PrincipalManager}from\"../core/PrincipalManager\";import{CreatePresenter}from\"../presentation/pages/CreatePoa/presenter/createPresenter\";import{doveritel}from\"../presentation/pages/test/testObjects\";import{SubTrustPresenter}from\"../presentation/pages/SubTrust/presenter/SubTrustPresenter\";import{SectionPresenter}from\"../presentation/pages/Sections/presenter/SectionPresenter\";import{DashboardPresenter}from\"../presentation/pages/POADashboard/presenter/DashboardPresenter\";import{JsonCreateManager}from\"../core/JsonManager\";import{FormPresenter}from\"../presentation/components/forms/presenter/FormPresenter\";import{SubAdminManager}from\"../core/SubAdminManager\";import autobind from\"autobind-decorator\";import{Principal}from\"../domain/model/Principal\";export var serviceLocator=ServiceLocator.getInstance();export var PoaConfig=(_class=(_temp=_class2=/*#__PURE__*/function(){function PoaConfig(){_classCallCheck(this,PoaConfig);this.isFinishInitialized=void 0;this.isFinishInitialized=false;}_createClass(PoaConfig,[{key:\"isInitialized\",value:function isInitialized(){return this.isFinishInitialized;}},{key:\"configureDependencies\",value:function(){var _configureDependencies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this._configureBlob();case 2:_context.next=4;return this._configureManagers();case 4:_context.next=6;return this._configureNetworkClient();case 6:_context.next=8;return this._configurePresenters();case 8:_context.next=10;return this._configureJsonManager();case 10:this.isFinishInitialized=true;case 11:case\"end\":return _context.stop();}}},_callee,this);}));function configureDependencies(){return _configureDependencies.apply(this,arguments);}return configureDependencies;}()},{key:\"_configurePresenters\",value:function(){var _configurePresenters2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var principalManager,representativeManager;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:principalManager=serviceLocator.get(PrincipalManager);representativeManager=serviceLocator.get(RepresentativeManager);console.log(\"SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS:::: \",principalManager instanceof PrincipalManager);serviceLocator.registerSingleton(CreatePresenter,principalManager,representativeManager);serviceLocator.registerSingleton(SubTrustPresenter,principalManager,representativeManager);serviceLocator.registerSingleton(SectionPresenter,principalManager,representativeManager);serviceLocator.registerSingleton(FormPresenter,principalManager,representativeManager,serviceLocator.get(SubAdminManager));serviceLocator.registerSingleton(DashboardPresenter,principalManager,representativeManager);case 8:case\"end\":return _context2.stop();}}},_callee2);}));function _configurePresenters(){return _configurePresenters2.apply(this,arguments);}return _configurePresenters;}()},{key:\"_configureNetworkClient\",value:function(){var _configureNetworkClient2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:serviceLocator.registerSingleton(AxiosClient,serviceLocator.get(BlobClient));serviceLocator.registerSingleton(ApiClient,serviceLocator.get(AxiosClient));serviceLocator.registerSingleton(CreateService,serviceLocator.get(ApiClient));case 3:case\"end\":return _context3.stop();}}},_callee3);}));function _configureNetworkClient(){return _configureNetworkClient2.apply(this,arguments);}return _configureNetworkClient;}()},{key:\"_configureBlob\",value:function(){var _configureBlob2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:serviceLocator.registerSingleton(BlobClient);case 1:case\"end\":return _context4.stop();}}},_callee4);}));function _configureBlob(){return _configureBlob2.apply(this,arguments);}return _configureBlob;}()},{key:\"_configureManagers\",value:function(){var _configureManagers2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var representatives,principalAdmins;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:representatives=new Array();principalAdmins=new Array();serviceLocator.registerSingleton(RepresentativeManager,representatives);serviceLocator.registerSingleton(PrincipalManager,new Array(new Principal(principalAdmins,doveritel)));serviceLocator.registerSingleton(SubAdminManager);case 5:case\"end\":return _context5.stop();}}},_callee5);}));function _configureManagers(){return _configureManagers2.apply(this,arguments);}return _configureManagers;}()},{key:\"_configureJsonManager\",value:function(){var _configureJsonManager2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:serviceLocator.registerSingleton(JsonCreateManager,serviceLocator.get(CreatePresenter),serviceLocator.get(SectionPresenter));case 1:case\"end\":return _context6.stop();}}},_callee6);}));function _configureJsonManager(){return _configureJsonManager2.apply(this,arguments);}return _configureJsonManager;}()}],[{key:\"getInstance\",value:function getInstance(){if(!PoaConfig.instance){PoaConfig.instance=new PoaConfig();}return PoaConfig.instance;}}]);return PoaConfig;}(),_class2.instance=void 0,_temp),(_applyDecoratedDescriptor(_class.prototype,\"isInitialized\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"isInitialized\"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,\"configureDependencies\",[autobind],Object.getOwnPropertyDescriptor(_class.prototype,\"configureDependencies\"),_class.prototype)),_class);export var poaConfig=PoaConfig.getInstance();","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/POA/MCHD_ROOT/di/app_component.ts"],"names":["ServiceLocator","RepresentativeManager","ApiClient","CreateService","AxiosClient","BlobClient","PrincipalManager","CreatePresenter","doveritel","SubTrustPresenter","SectionPresenter","DashboardPresenter","JsonCreateManager","FormPresenter","SubAdminManager","autobind","Principal","serviceLocator","getInstance","PoaConfig","isFinishInitialized","_configureBlob","_configureManagers","_configureNetworkClient","_configurePresenters","_configureJsonManager","principalManager","get","representativeManager","console","log","registerSingleton","representatives","Array","principalAdmins","instance","poaConfig"],"mappings":"i4BAAA,OAAQA,cAAR,KAA6B,kBAA7B,CACA,OAAQC,qBAAR,KAAoC,+BAApC,CACA,OAAQC,SAAR,KAAwB,0BAAxB,CACA,OAAQC,aAAR,KAA4B,+BAA5B,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,OAAQC,UAAR,KAAyB,2BAAzB,CACA,OAAQC,gBAAR,KAA+B,0BAA/B,CACA,OAAQC,eAAR,KAA8B,2DAA9B,CACA,OAAQC,SAAR,KAAwB,wCAAxB,CACA,OAAQC,iBAAR,KAAgC,4DAAhC,CACA,OAAQC,gBAAR,KAA+B,2DAA/B,CACA,OAAQC,kBAAR,KAAiC,iEAAjC,CACA,OAAQC,iBAAR,KAAgC,qBAAhC,CACA,OAAQC,aAAR,KAA4B,0DAA5B,CACA,OAAQC,eAAR,KAA8B,yBAA9B,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,OAAQC,SAAR,KAAwB,2BAAxB,CAKA,MAAO,IAAMC,CAAAA,cAAc,CAAGjB,cAAc,CAACkB,WAAf,EAAvB,CAEP,UAAaC,CAAAA,SAAb,gDAII,oBAAsB,sCAFdC,mBAEc,QAClB,KAAKA,mBAAL,CAA2B,KAA3B,CACH,CANL,2EASoC,CAC5B,MAAO,MAAKA,mBAAZ,CACH,CAXL,4RAsBc,MAAKC,cAAL,EAtBd,8BAuBc,MAAKC,kBAAL,EAvBd,8BAwBc,MAAKC,uBAAL,EAxBd,8BAyBc,MAAKC,oBAAL,EAzBd,+BA0Bc,MAAKC,qBAAL,EA1Bd,SA2BQ,KAAKL,mBAAL,CAA2B,IAA3B,CA3BR,yeA8BcM,gBA9Bd,CA8BmDT,cAAc,CAACU,GAAf,CAAqCrB,gBAArC,CA9BnD,CA+BcsB,qBA/Bd,CA+B6DX,cAAc,CAACU,GAAf,CAA0C1B,qBAA1C,CA/B7D,CAgCS4B,OAAO,CAACC,GAAR,CAAY,4CAAZ,CAA0DJ,gBAAgB,WAAYpB,CAAAA,gBAAtF,EACDW,cAAc,CAACc,iBAAf,CACIxB,eADJ,CAEImB,gBAFJ,CAGIE,qBAHJ,EAKAX,cAAc,CAACc,iBAAf,CACItB,iBADJ,CAEIiB,gBAFJ,CAGIE,qBAHJ,EAKAX,cAAc,CAACc,iBAAf,CACIrB,gBADJ,CAEIgB,gBAFJ,CAGIE,qBAHJ,EAKAX,cAAc,CAACc,iBAAf,CACIlB,aADJ,CAEIa,gBAFJ,CAGIE,qBAHJ,CAIIX,cAAc,CAACU,GAAf,CAAmBb,eAAnB,CAJJ,EAMAG,cAAc,CAACc,iBAAf,CACIpB,kBADJ,CAEIe,gBAFJ,CAGIE,qBAHJ,EAtDR,6bA8DQX,cAAc,CAACc,iBAAf,CAAiC3B,WAAjC,CAA8Ca,cAAc,CAACU,GAAf,CAAmBtB,UAAnB,CAA9C,EACAY,cAAc,CAACc,iBAAf,CAAiC7B,SAAjC,CAA4Ce,cAAc,CAACU,GAAf,CAAmBvB,WAAnB,CAA5C,EACAa,cAAc,CAACc,iBAAf,CAAiC5B,aAAjC,CAAgDc,cAAc,CAACU,GAAf,CAAmBzB,SAAnB,CAAhD,EAhER,obAoEQe,cAAc,CAACc,iBAAf,CAAiC1B,UAAjC,EApER,qcAwEc2B,eAxEd,CAwEkD,GAAIC,CAAAA,KAAJ,EAxElD,CAyEcC,eAzEd,CAyEkD,GAAID,CAAAA,KAAJ,EAzElD,CA0EQhB,cAAc,CAACc,iBAAf,CAAiC9B,qBAAjC,CAAwD+B,eAAxD,EACAf,cAAc,CAACc,iBAAf,CAAiCzB,gBAAjC,CAAmD,GAAI2B,CAAAA,KAAJ,CAAqB,GAAIjB,CAAAA,SAAJ,CAAckB,eAAd,CAA+B1B,SAA/B,CAArB,CAAnD,EACAS,cAAc,CAACc,iBAAf,CAAiCjB,eAAjC,EA5ER,mbAiFQG,cAAc,CAACc,iBAAf,CAAiCnB,iBAAjC,CACIK,cAAc,CAACU,GAAf,CAAmBpB,eAAnB,CADJ,CAEIU,cAAc,CAACU,GAAf,CAAmBjB,gBAAnB,CAFJ,EAjFR,oOAa2C,CACnC,GAAI,CAACS,SAAS,CAACgB,QAAf,CAAyB,CACrBhB,SAAS,CAACgB,QAAV,CAAqB,GAAIhB,CAAAA,SAAJ,EAArB,CACH,CACD,MAAOA,CAAAA,SAAS,CAACgB,QAAjB,CACH,CAlBL,iCACmBA,QADnB,4EAQKpB,QARL,0JAoBKA,QApBL,uGAuFA,MAAO,IAAMqB,CAAAA,SAAS,CAAGjB,SAAS,CAACD,WAAV,EAAlB","sourcesContent":["import {ServiceLocator} from \"./ServiceLocator\";\r\nimport {RepresentativeManager} from \"../core/RepresentativeManager\";\r\nimport {ApiClient} from \"../core/client/ApiClient\";\r\nimport {CreateService} from \"../core/network/CreateService\";\r\nimport AxiosClient from \"../core/client/AxiosClient\";\r\nimport {BlobClient} from \"../core/client/BlobClient\";\r\nimport {PrincipalManager} from \"../core/PrincipalManager\";\r\nimport {CreatePresenter} from \"../presentation/pages/CreatePoa/presenter/createPresenter\";\r\nimport {doveritel} from \"../presentation/pages/test/testObjects\";\r\nimport {SubTrustPresenter} from \"../presentation/pages/SubTrust/presenter/SubTrustPresenter\";\r\nimport {SectionPresenter} from \"../presentation/pages/Sections/presenter/SectionPresenter\";\r\nimport {DashboardPresenter} from \"../presentation/pages/POADashboard/presenter/DashboardPresenter\";\r\nimport {JsonCreateManager} from \"../core/JsonManager\";\r\nimport {FormPresenter} from \"../presentation/components/forms/presenter/FormPresenter\";\r\nimport {SubAdminManager} from \"../core/SubAdminManager\";\r\nimport autobind from \"autobind-decorator\";\r\nimport {Principal} from \"../domain/model/Principal\";\r\nimport {PrincipalAdmin} from \"../domain/model/PrincipalAdmin\";\r\nimport {Representative} from \"../domain/model/Representative\";\r\n\r\n\r\nexport const serviceLocator = ServiceLocator.getInstance();\r\n\r\nexport class PoaConfig {\r\n    private static instance?: PoaConfig | null;\r\n    private isFinishInitialized: boolean;\r\n\r\n    private constructor() {\r\n        this.isFinishInitialized = false;\r\n    }\r\n\r\n    @autobind\r\n    public isInitialized(): boolean {\r\n        return this.isFinishInitialized;\r\n    }\r\n\r\n    public static getInstance(): PoaConfig {\r\n        if (!PoaConfig.instance) {\r\n            PoaConfig.instance = new PoaConfig();\r\n        }\r\n        return PoaConfig.instance\r\n    }\r\n\r\n    @autobind\r\n     public async configureDependencies(){\r\n        await this._configureBlob();\r\n        await this._configureManagers();\r\n        await this._configureNetworkClient();\r\n        await this._configurePresenters();\r\n        await this._configureJsonManager()\r\n        this.isFinishInitialized = true;\r\n    }\r\n     private async _configurePresenters() {\r\n        const principalManager: PrincipalManager = serviceLocator.get<PrincipalManager>(PrincipalManager);\r\n        const representativeManager: RepresentativeManager = serviceLocator.get<RepresentativeManager>(RepresentativeManager);\r\n         console.log(\"SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS:::: \", principalManager instanceof PrincipalManager)\r\n        serviceLocator.registerSingleton(\r\n            CreatePresenter,\r\n            principalManager,\r\n            representativeManager\r\n        );\r\n        serviceLocator.registerSingleton(\r\n            SubTrustPresenter,\r\n            principalManager,\r\n            representativeManager\r\n        );\r\n        serviceLocator.registerSingleton(\r\n            SectionPresenter,\r\n            principalManager,\r\n            representativeManager\r\n        );\r\n        serviceLocator.registerSingleton(\r\n            FormPresenter,\r\n            principalManager,\r\n            representativeManager,\r\n            serviceLocator.get(SubAdminManager)\r\n        );\r\n        serviceLocator.registerSingleton(\r\n            DashboardPresenter,\r\n            principalManager,\r\n            representativeManager\r\n        );\r\n    }\r\n\r\n    private async _configureNetworkClient()  {\r\n        serviceLocator.registerSingleton(AxiosClient, serviceLocator.get(BlobClient));\r\n        serviceLocator.registerSingleton(ApiClient, serviceLocator.get(AxiosClient));\r\n        serviceLocator.registerSingleton(CreateService, serviceLocator.get(ApiClient));\r\n    }\r\n\r\n    private async _configureBlob() {\r\n        serviceLocator.registerSingleton(BlobClient);\r\n    }\r\n\r\n    private async _configureManagers(){\r\n        const representatives: Representative[] = new Array<Representative>();\r\n        const principalAdmins: PrincipalAdmin[] = new Array<PrincipalAdmin>();\r\n        serviceLocator.registerSingleton(RepresentativeManager, representatives);\r\n        serviceLocator.registerSingleton(PrincipalManager, new Array<Principal>(new Principal(principalAdmins, doveritel)));\r\n        serviceLocator.registerSingleton(SubAdminManager);\r\n\r\n    }\r\n\r\n    private async _configureJsonManager() {\r\n        serviceLocator.registerSingleton(JsonCreateManager,\r\n            serviceLocator.get(CreatePresenter),\r\n            serviceLocator.get(SectionPresenter));\r\n    }\r\n}\r\n\r\nexport const poaConfig = PoaConfig.getInstance();\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}