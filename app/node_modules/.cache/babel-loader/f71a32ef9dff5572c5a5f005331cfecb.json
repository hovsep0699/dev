{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nimport React, { Component } from 'react';\nimport { StyledDropdownWrapper, StyledDropdown } from './Dropdown.styles';\nimport { Placement } from '../types';\nimport DropdownHeader from './DropdownHeader';\n\nvar Dropdown = /*#__PURE__*/function (_Component) {\n  _inherits(Dropdown, _Component);\n\n  var _super = _createSuper(Dropdown);\n\n  function Dropdown(props) {\n    var _this;\n\n    _classCallCheck(this, Dropdown);\n\n    _this = _super.call(this, props);\n    _this.dropdownRef = React.createRef();\n    _this.state = {\n      isOpen: false\n    };\n    _this.toggle = _this.toggle.bind(_assertThisInitialized(_this));\n    _this.close = _this.close.bind(_assertThisInitialized(_this));\n    _this.handleClickOutside = _this.handleClickOutside.bind(_assertThisInitialized(_this));\n    _this.getTriggerComponent = _this.getTriggerComponent.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Dropdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('mousedown', this.handleClickOutside);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props === prevProps && this.state === prevState) {\n        return;\n      }\n\n      if (this.state.isOpen === true) {\n        document.addEventListener('mousedown', this.handleClickOutside);\n      } else {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      this.setState(function (state) {\n        return {\n          isOpen: !state.isOpen\n        };\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.setState(function () {\n        return {\n          isOpen: false\n        };\n      });\n    }\n  }, {\n    key: \"getTriggerComponent\",\n    value: function getTriggerComponent(trigger) {\n      if (typeof trigger === 'function') {\n        return trigger(this.toggle);\n      } else {\n        return React.cloneElement(trigger, {\n          onClick: this.toggle\n        });\n      }\n    }\n  }, {\n    key: \"handleClickOutside\",\n    value: function handleClickOutside(event) {\n      if (this.dropdownRef.current.contains(event.target)) {\n        return;\n      }\n\n      this.close();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var isOpen = this.state.isOpen;\n      var _this$props = this.props,\n          placement = _this$props.placement,\n          trigger = _this$props.trigger,\n          children = _this$props.children,\n          widthRestrict = _this$props.widthRestrict,\n          width = _this$props.width,\n          className = _this$props.className;\n      return React.createElement(StyledDropdownWrapper, {\n        ref: this.dropdownRef,\n        className: className\n      }, this.getTriggerComponent(trigger), React.createElement(StyledDropdown, {\n        isOpen: isOpen,\n        placement: placement,\n        widthRestrict: widthRestrict,\n        width: width\n      }, typeof children === 'function' ? children(this.close) : children));\n    }\n  }]);\n\n  return Dropdown;\n}(Component);\n\nDropdown.defaultProps = {\n  placement: Placement.BOTTOM_LEFT,\n  noArrow: false,\n  widthRestrict: false\n};\nDropdown.Header = DropdownHeader;\nexport default Dropdown;","map":{"version":3,"sources":["../../src/Dropdown/Dropdown.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import React, { Component } from 'react';\r\nimport { StyledDropdownWrapper, StyledDropdown } from './Dropdown.styles';\r\nimport { Placement } from '../types';\r\nimport DropdownHeader from './DropdownHeader';\r\nclass Dropdown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.dropdownRef = React.createRef();\r\n        this.state = {\r\n            isOpen: false\r\n        };\r\n        this.toggle = this.toggle.bind(this);\r\n        this.close = this.close.bind(this);\r\n        this.handleClickOutside = this.handleClickOutside.bind(this);\r\n        this.getTriggerComponent = this.getTriggerComponent.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.props === prevProps && this.state === prevState) {\r\n            return;\r\n        }\r\n        if (this.state.isOpen === true) {\r\n            document.addEventListener('mousedown', this.handleClickOutside);\r\n        }\r\n        else {\r\n            document.removeEventListener('mousedown', this.handleClickOutside);\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.handleClickOutside);\r\n    }\r\n    toggle() {\r\n        this.setState(state => ({\r\n            isOpen: !state.isOpen\r\n        }));\r\n    }\r\n    close() {\r\n        this.setState(() => ({ isOpen: false }));\r\n    }\r\n    getTriggerComponent(trigger) {\r\n        if (typeof trigger === 'function') {\r\n            return trigger(this.toggle);\r\n        }\r\n        else {\r\n            return React.cloneElement(trigger, {\r\n                onClick: this.toggle\r\n            });\r\n        }\r\n    }\r\n    handleClickOutside(event) {\r\n        if (this.dropdownRef.current.contains(event.target)) {\r\n            return;\r\n        }\r\n        this.close();\r\n    }\r\n    render() {\r\n        const { isOpen } = this.state;\r\n        const { placement, trigger, children, widthRestrict, width, className } = this.props;\r\n        return (React.createElement(StyledDropdownWrapper, { ref: this.dropdownRef, className: className },\r\n            this.getTriggerComponent(trigger),\r\n            React.createElement(StyledDropdown, { isOpen: isOpen, placement: placement, widthRestrict: widthRestrict, width: width }, typeof children === 'function' ? children(this.close) : children)));\r\n    }\r\n}\r\nDropdown.defaultProps = {\r\n    placement: Placement.BOTTOM_LEFT,\r\n    noArrow: false,\r\n    widthRestrict: false\r\n};\r\nDropdown.Header = DropdownHeader;\r\nexport default Dropdown;\r\n//# sourceMappingURL=Dropdown.js.map"]},"metadata":{},"sourceType":"module"}