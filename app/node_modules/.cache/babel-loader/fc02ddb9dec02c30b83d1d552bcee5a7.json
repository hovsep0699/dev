{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Input,CheckBox,Button,ButtonKinds,Icons,Autocomplete}from'@distate/components';import AutocompleteGateway from'@distate/core/dist/application/autocomplete/AutocompleteGateway';import{selectCreateDivisionError}from'../../store/selectors';/** форма подразделения */export var DivisionForm=function DivisionForm(props){var dispatch=useDispatch();var hide=props.hide,id=props.id;var _useState=useState(props.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),titleError=_useState4[0],setTitleError=_useState4[1];var _useState5=useState(props.kpp),_useState6=_slicedToArray(_useState5,2),kpp=_useState6[0],setKpp=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),kppError=_useState8[0],setKppError=_useState8[1];/** ОКПО */var _useState9=useState(props.classificationNumber),_useState10=_slicedToArray(_useState9,2),classificationNumber=_useState10[0],setClassificationNumber=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),classificationNumberError=_useState12[0],setClassificationNumberError=_useState12[1];var _useState13=useState(props.visible||false),_useState14=_slicedToArray(_useState13,2),visible=_useState14[0],setVisible=_useState14[1];var _useState15=useState({value:props.region,label:props.regionTitle}),_useState16=_slicedToArray(_useState15,2),region=_useState16[0],setRegion=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),regionError=_useState18[0],setRegionError=_useState18[1];var _useState19=useState(props.region),_useState20=_slicedToArray(_useState19,2),regionId=_useState20[0],setRegionId=_useState20[1];/** индекс */var _useState21=useState(props.postalCode),_useState22=_slicedToArray(_useState21,2),postalCode=_useState22[0],setPostalCode=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),postalCodeError=_useState24[0],setPostalCodeError=_useState24[1];/** район */var _useState25=useState(props.district),_useState26=_slicedToArray(_useState25,2),district=_useState26[0],setDistrict=_useState26[1];var _useState27=useState(props.city),_useState28=_slicedToArray(_useState27,2),city=_useState28[0],setCity=_useState28[1];var _useState29=useState(props.street),_useState30=_slicedToArray(_useState29,2),street=_useState30[0],setStreet=_useState30[1];/** корпус */var _useState31=useState(props.building),_useState32=_slicedToArray(_useState31,2),building=_useState32[0],setBuilding=_useState32[1];var _useState33=useState(props.house),_useState34=_slicedToArray(_useState33,2),house=_useState34[0],setHouse=_useState34[1];var _useState35=useState(props.room),_useState36=_slicedToArray(_useState35,2),room=_useState36[0],setRoom=_useState36[1];/** населенный пункт */var _useState37=useState(props.settlement),_useState38=_slicedToArray(_useState37,2),settlement=_useState38[0],setSettlement=_useState38[1];var _useState39=useState(props.phone),_useState40=_slicedToArray(_useState39,2),phone=_useState40[0],setPhone=_useState40[1];var _useState41=useState(props.email),_useState42=_slicedToArray(_useState41,2),email=_useState42[0],setEmail=_useState42[1];var _useState43=useState(),_useState44=_slicedToArray(_useState43,2),emailError=_useState44[0],setEmailError=_useState44[1];var errors=useSelector(selectCreateDivisionError);/** установка ошибок с сервера */useEffect(function(){var _errors$address,_errors$address2;var postalCodeRespErr=errors===null||errors===void 0?void 0:(_errors$address=errors.address)===null||_errors$address===void 0?void 0:_errors$address.postalCode;var regionRespErr=errors===null||errors===void 0?void 0:(_errors$address2=errors.address)===null||_errors$address2===void 0?void 0:_errors$address2.region;var titleRespErr=errors===null||errors===void 0?void 0:errors.title;var kppRespErr=errors===null||errors===void 0?void 0:errors.kpp;var classificationNumberRespErr=errors===null||errors===void 0?void 0:errors.classificationNumber;postalCodeRespErr&&setPostalCodeError(postalCodeRespErr);regionRespErr&&setRegionError(regionRespErr);titleRespErr&&setTitleError(titleRespErr);kppRespErr&&setKppError(kppRespErr);classificationNumberRespErr&&setClassificationNumberError(classificationNumberRespErr);},[errors]);/** загрузка подходящих значений в автокомплит */var codeLoad=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(raw,callback){var autocompleteGateway,_yield$autocompleteGa,_yield$autocompleteGa2,rows,dataToOptions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:autocompleteGateway=new AutocompleteGateway();_context.next=3;return autocompleteGateway.getRegionByTitle(raw);case 3:_yield$autocompleteGa=_context.sent;_yield$autocompleteGa2=_yield$autocompleteGa.rows;rows=_yield$autocompleteGa2===void 0?[]:_yield$autocompleteGa2;dataToOptions=rows.map(function(item){return{value:item.id,label:item.title};});callback(dataToOptions);case 8:case\"end\":return _context.stop();}}},_callee);}));return function codeLoad(_x,_x2){return _ref.apply(this,arguments);};}();var onChangeRegion=function onChangeRegion(e){setRegion(e);setRegionId(e.value);};var validate=function validate(){var isVnvalid=true;/** Показывать подразделения контрагентам */if(visible){/** не заполнено КПП */if(!(kpp===null||kpp===void 0?void 0:kpp.trim().length)){setKppError(['Значение не должно быть пустым.']);isVnvalid=false;}}else{setKppError(undefined);}/** не заполнено название */if(!(title===null||title===void 0?void 0:title.trim().length)){setTitleError(['Значение не должно быть пустым.']);isVnvalid=false;}else{setTitleError(undefined);}/** не заполнен регион */if(!regionId){setRegionError(['Значение не должно быть пустым.']);isVnvalid=false;}else{setRegionError(undefined);}/** не заполнен индекс */if(!(postalCode===null||postalCode===void 0?void 0:postalCode.trim().length)){setPostalCodeError(['Значение не должно быть пустым.']);isVnvalid=false;}else{setPostalCodeError(undefined);}/** проверка email на корректность*/if(email){// eslint-disable-next-line no-useless-escape\nvar reg=/^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,9})$/;var validEmail=reg.test(email);validEmail?setEmailError(undefined):setEmailError(['Некорректный e-mail']);}return isVnvalid;};var onSave=function onSave(){if(!validate()){return;}dispatch(props.onAction({id:id,title:title,kpp:kpp,classificationNumber:classificationNumber,visible:visible,region:regionId,postalCode:postalCode,district:district,city:city,street:street,building:building,house:house,room:room,settlement:settlement,phone:phone,email:email,hide:hide}));};var postalCodeChangeHandler=function postalCodeChangeHandler(str){if(str.length>6){return;}setPostalCode(str);};var kppChangeHandler=function kppChangeHandler(str){if(str.length>9){return;}setKpp(str);};var okpoChangeHandler=function okpoChangeHandler(str){if(str.length>8){return;}setClassificationNumber(str);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0438\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name required\"},\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u044F\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},error:!!titleError,errors:titleError}))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:visible?'two-columns-center_name required':'two-columns-center_name'},\"\\u041A\\u041F\\u041F\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u041A\\u041F\\u041F\",value:kpp,onChange:function onChange(e){return kppChangeHandler(e.target.value);},error:!!kppError,errors:kppError,type:\"number\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u041E\\u041A\\u041F\\u041E\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u041E\\u041A\\u041F\\u041E\",value:classificationNumber,onChange:function onChange(e){return okpoChangeHandler(e.target.value);},error:!!classificationNumberError,errors:classificationNumberError,type:\"number\"})))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'center'}},/*#__PURE__*/React.createElement(CheckBox,{label:\"\\u041F\\u043E\\u043A\\u0430\\u0437\\u044B\\u0432\\u0430\\u0442\\u044C \\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u044F \\u043A\\u043E\\u043D\\u0442\\u0440\\u0430\\u0433\\u0435\\u043D\\u0442\\u0430\\u043C\",checked:visible,onChange:function onChange(){return setVisible(!visible);}})),/*#__PURE__*/React.createElement(\"h3\",{className:\"header\"},\"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"E-mail\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 e-mail\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},error:!!emailError,errors:emailError}))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\",value:phone,onChange:function onChange(e){return setPhone(e.target.value);}})))),/*#__PURE__*/React.createElement(\"h3\",{className:\"header\"},\"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u044F\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name required\"},\"\\u0418\\u043D\\u0434\\u0435\\u043A\\u0441\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043D\\u0434\\u0435\\u043A\\u0441\",required:true,value:postalCode,onChange:function onChange(e){return postalCodeChangeHandler(e.target.value);},error:!!postalCodeError,errors:postalCodeError,type:\"number\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name required\"},\"\\u0420\\u0435\\u0433\\u0438\\u043E\\u043D\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Autocomplete,{name:\"code\",width:300,value:region,loadOptions:codeLoad,onChange:function onChange(e){return onChangeRegion(e);},placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0440\\u0435\\u0433\\u0438\\u043E\\u043D\",required:true,error:!!regionError,errors:regionError}))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u0420\\u0430\\u0439\\u043E\\u043D\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0440\\u0430\\u0439\\u043E\\u043D\",value:district,onChange:function onChange(e){return setDistrict(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u0413\\u043E\\u0440\\u043E\\u0434\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0433\\u043E\\u0440\\u043E\\u0434\",value:city,onChange:function onChange(e){return setCity(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u041D\\u0430\\u0441\\u0435\\u043B\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043F\\u0443\\u043D\\u043A\\u0442\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0441\\u0435\\u043B\\u0435\\u043D\\u043D\\u044B\\u0439 \\u043F\\u0443\\u043D\\u043A\\u0442\",value:settlement,onChange:function onChange(e){return setSettlement(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u0423\\u043B\\u0438\\u0446\\u0430\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0443\\u043B\\u0438\\u0446\\u0443\",value:street,onChange:function onChange(e){return setStreet(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u0414\\u043E\\u043C\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u043E\\u043C\",value:house,onChange:function onChange(e){return setHouse(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u041A\\u043E\\u0440\\u043F\\u0443\\u0441\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0442\\u0440\\u043E\\u0435\\u043D\\u0438\\u0435\",value:building,onChange:function onChange(e){return setBuilding(e.target.value);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_name\"},\"\\u041E\\u0444\\u0438\\u0441/\\u043A\\u0432\\u0430\\u0440\\u0442\\u0438\\u0440\\u0430\"),/*#__PURE__*/React.createElement(\"div\",{className:\"two-columns-center_value\"},/*#__PURE__*/React.createElement(Input,{width:300,placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u043E\\u043C\\u0435\\u0440 \\u043E\\u0444\\u0438\\u0441\\u0430 \\u0438\\u043B\\u0438 \\u043A\\u0432\\u0430\\u0440\\u0442\\u0438\\u0440\\u044B\",value:room,onChange:function onChange(e){return setRoom(e.target.value);}})))),/*#__PURE__*/React.createElement(Button,{kind:ButtonKinds.Orange,onClick:onSave,icon:/*#__PURE__*/React.createElement(Icons.IconCheck,{fill:\"currentColor\"})},\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"));};","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/company/components/divisions/DivisionForm.tsx"],"names":["React","useState","useEffect","useDispatch","useSelector","Input","CheckBox","Button","ButtonKinds","Icons","Autocomplete","AutocompleteGateway","selectCreateDivisionError","DivisionForm","props","dispatch","hide","id","title","setTitle","titleError","setTitleError","kpp","setKpp","kppError","setKppError","classificationNumber","setClassificationNumber","classificationNumberError","setClassificationNumberError","visible","setVisible","value","region","label","regionTitle","setRegion","regionError","setRegionError","regionId","setRegionId","postalCode","setPostalCode","postalCodeError","setPostalCodeError","district","setDistrict","city","setCity","street","setStreet","building","setBuilding","house","setHouse","room","setRoom","settlement","setSettlement","phone","setPhone","email","setEmail","emailError","setEmailError","errors","postalCodeRespErr","address","regionRespErr","titleRespErr","kppRespErr","classificationNumberRespErr","codeLoad","raw","callback","autocompleteGateway","getRegionByTitle","rows","dataToOptions","map","item","onChangeRegion","e","validate","isVnvalid","trim","length","undefined","reg","validEmail","test","onSave","onAction","postalCodeChangeHandler","str","kppChangeHandler","okpoChangeHandler","target","display","justifyContent","Orange"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Input, CheckBox, Button, ButtonKinds, Icons, Autocomplete } from '@distate/components';\r\nimport AutocompleteGateway from '@distate/core/dist/application/autocomplete/AutocompleteGateway';\r\nimport { selectCreateDivisionError } from '../../store/selectors';\r\n\r\ntype AutocompleteItem = {\r\n  label?: string;\r\n  value?: string;\r\n};\r\n\r\ntype Props = {\r\n  /** диспатч для отправки формы */\r\n  onAction: any;\r\n  id?: number;\r\n  title?: string;\r\n  kpp?: string;\r\n  classificationNumber?: string;\r\n  visible?: boolean;\r\n  region?: string;\r\n  regionTitle?: string;\r\n  postalCode?: string;\r\n  district?: string;\r\n  city?: string;\r\n  street?: string;\r\n  building?: string;\r\n  house?: string;\r\n  room?: string;\r\n  settlement?: string;\r\n  phone?: string;\r\n  email?: string;\r\n  hide?: Function;\r\n  isVisible?: boolean;\r\n};\r\n\r\n/** форма подразделения */\r\nexport const DivisionForm = (props: Props) => {\r\n  const dispatch = useDispatch();\r\n  const { hide, id } = props;\r\n\r\n  const [title, setTitle] = useState<string | undefined>(props.title);\r\n  const [titleError, setTitleError] = useState<string[]>();\r\n  const [kpp, setKpp] = useState<string | undefined>(props.kpp);\r\n  const [kppError, setKppError] = useState<string[]>();\r\n  /** ОКПО */\r\n  const [classificationNumber, setClassificationNumber] = useState<string | undefined>(\r\n    props.classificationNumber\r\n  );\r\n  const [classificationNumberError, setClassificationNumberError] = useState<string[]>();\r\n  const [visible, setVisible] = useState<boolean | undefined>(props.visible || false);\r\n  const [region, setRegion] = useState<AutocompleteItem>({value: props.region, label: props.regionTitle});\r\n  const [regionError, setRegionError] = useState<string[]>();\r\n  const [regionId, setRegionId] = useState<string | undefined>(props.region);\r\n  /** индекс */\r\n  const [postalCode, setPostalCode] = useState<string | undefined>(props.postalCode);\r\n  const [postalCodeError, setPostalCodeError] = useState<string[]>();\r\n  /** район */\r\n  const [district, setDistrict] = useState<string | undefined>(props.district);\r\n  const [city, setCity] = useState<string | undefined>(props.city);\r\n  const [street, setStreet] = useState<string | undefined>(props.street);\r\n  /** корпус */\r\n  const [building, setBuilding] = useState<string | undefined>(props.building);\r\n  const [house, setHouse] = useState<string | undefined>(props.house);\r\n  const [room, setRoom] = useState<string | undefined>(props.room);\r\n  /** населенный пункт */\r\n  const [settlement, setSettlement] = useState<string | undefined>(props.settlement);\r\n  const [phone, setPhone] = useState<string | undefined>(props.phone);\r\n  const [email, setEmail] = useState<string | undefined>(props.email);\r\n  const [emailError, setEmailError] = useState<string[]>();\r\n\r\n  const errors = useSelector(selectCreateDivisionError);\r\n\r\n  /** установка ошибок с сервера */\r\n  useEffect(() => {\r\n    const postalCodeRespErr = errors?.address?.postalCode;\r\n    const regionRespErr = errors?.address?.region;\r\n    const titleRespErr = errors?.title;\r\n    const kppRespErr = errors?.kpp;\r\n    const classificationNumberRespErr = errors?.classificationNumber;\r\n\r\n    postalCodeRespErr && setPostalCodeError(postalCodeRespErr);\r\n    regionRespErr && setRegionError(regionRespErr);\r\n    titleRespErr && setTitleError(titleRespErr);\r\n    kppRespErr && setKppError(kppRespErr);\r\n    classificationNumberRespErr && setClassificationNumberError(classificationNumberRespErr);\r\n  }, [errors]);\r\n\r\n\r\n  /** загрузка подходящих значений в автокомплит */\r\n  const codeLoad = async (raw: string, callback: any) => {\r\n    const autocompleteGateway = new AutocompleteGateway();\r\n    const { rows = [] } = await autocompleteGateway.getRegionByTitle(raw);\r\n    const dataToOptions = rows.map((item: any) => {\r\n      return {\r\n        value: item.id,\r\n        label: item.title\r\n      };\r\n    });\r\n    callback(dataToOptions);\r\n  };\r\n\r\n  const onChangeRegion = (e: HTMLSelectElement) => {\r\n    setRegion(e);\r\n    setRegionId(e.value);\r\n  };\r\n\r\n  const validate = (): boolean => {\r\n    let isVnvalid = true;\r\n    /** Показывать подразделения контрагентам */\r\n    if (visible) {\r\n      /** не заполнено КПП */\r\n      if (!kpp?.trim().length) {\r\n        setKppError(['Значение не должно быть пустым.']);\r\n        isVnvalid = false;\r\n      }\r\n    } else {\r\n      setKppError(undefined);\r\n    }\r\n    /** не заполнено название */\r\n    if (!title?.trim().length) {\r\n      setTitleError(['Значение не должно быть пустым.']);\r\n      isVnvalid = false;\r\n    } else {\r\n      setTitleError(undefined);\r\n    }\r\n    /** не заполнен регион */\r\n    if (!regionId) {\r\n      setRegionError(['Значение не должно быть пустым.']);\r\n      isVnvalid = false;\r\n    } else {\r\n      setRegionError(undefined);\r\n    }\r\n    /** не заполнен индекс */\r\n    if (!postalCode?.trim().length) {\r\n      setPostalCodeError(['Значение не должно быть пустым.']);\r\n      isVnvalid = false;\r\n    } else {\r\n      setPostalCodeError(undefined);\r\n    }\r\n    /** проверка email на корректность*/\r\n    if (email) {\r\n      // eslint-disable-next-line no-useless-escape\r\n      const reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,9})$/;\r\n      const validEmail = reg.test(email);\r\n      validEmail ? setEmailError(undefined) : setEmailError(['Некорректный e-mail']);\r\n    }\r\n\r\n    return isVnvalid;\r\n  };\r\n\r\n  const onSave = () => {\r\n    if (!validate()) {\r\n      return;\r\n    }\r\n\r\n    dispatch(\r\n      props.onAction({\r\n        id,\r\n        title,\r\n        kpp,\r\n        classificationNumber,\r\n        visible,\r\n        region: regionId,\r\n        postalCode,\r\n        district,\r\n        city,\r\n        street,\r\n        building,\r\n        house,\r\n        room,\r\n        settlement,\r\n        phone,\r\n        email,\r\n        hide\r\n      })\r\n    );\r\n  };\r\n\r\n  const postalCodeChangeHandler = (str: string) => {\r\n    if (str.length > 6) {\r\n      return;\r\n    }\r\n    setPostalCode(str);\r\n  };\r\n\r\n  const kppChangeHandler = (str: string) => {\r\n    if (str.length > 9) {\r\n      return;\r\n    }\r\n    setKpp(str);\r\n  };\r\n\r\n  const okpoChangeHandler = (str: string) => {\r\n    if (str.length > 8) {\r\n      return;\r\n    }\r\n    setClassificationNumber(str);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Информация о подразделении</h3>\r\n      <div className=\"two-columns-center\">\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name required\">Название</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите название подразделения\"\r\n              value={title}\r\n              onChange={e => setTitle(e.target.value)}\r\n              error={!!titleError}\r\n              errors={titleError}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className={visible ? 'two-columns-center_name required' : 'two-columns-center_name'}>\r\n            КПП\r\n          </div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите КПП\"\r\n              value={kpp}\r\n              onChange={e => kppChangeHandler(e.target.value)}\r\n              error={!!kppError}\r\n              errors={kppError}\r\n              type=\"number\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">ОКПО</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите ОКПО\"\r\n              value={classificationNumber}\r\n              onChange={e => okpoChangeHandler(e.target.value)}\r\n              error={!!classificationNumberError}\r\n              errors={classificationNumberError}\r\n              type=\"number\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <hr />\r\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n        <CheckBox\r\n          label=\"Показывать подразделения контрагентам\"\r\n          checked={visible}\r\n          onChange={() => setVisible(!visible)}\r\n        />\r\n      </div>\r\n\r\n      <h3 className=\"header\">Контакты</h3>\r\n      <div className=\"two-columns-center\">\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">E-mail</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите e-mail\"\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n              error={!!emailError}\r\n              errors={emailError}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Телефон</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите номер телефона\"\r\n              value={phone}\r\n              onChange={e => setPhone(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <h3 className=\"header\">Адрес подразделения</h3>\r\n\r\n      <div className=\"two-columns-center\">\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name required\">Индекс</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите индекс\"\r\n              required\r\n              value={postalCode}\r\n              onChange={e => postalCodeChangeHandler(e.target.value)}\r\n              error={!!postalCodeError}\r\n              errors={postalCodeError}\r\n              type=\"number\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name required\">Регион</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Autocomplete\r\n              name=\"code\"\r\n              width={300}\r\n              value={region}\r\n              loadOptions={codeLoad}\r\n              onChange={(e: HTMLSelectElement) => onChangeRegion(e)}\r\n              placeholder=\"Введите регион\"\r\n              required\r\n              error={!!regionError}\r\n              errors={regionError}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Район</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите район\"\r\n              value={district}\r\n              onChange={e => setDistrict(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Город</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите город\"\r\n              value={city}\r\n              onChange={e => setCity(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Населенный пункт</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите населенный пункт\"\r\n              value={settlement}\r\n              onChange={e => setSettlement(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Улица</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите улицу\"\r\n              value={street}\r\n              onChange={e => setStreet(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Дом</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите дом\"\r\n              value={house}\r\n              onChange={e => setHouse(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Корпус</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите строение\"\r\n              value={building}\r\n              onChange={e => setBuilding(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"two-columns-center_row\">\r\n          <div className=\"two-columns-center_name\">Офис/квартира</div>\r\n          <div className=\"two-columns-center_value\">\r\n            <Input\r\n              width={300}\r\n              placeholder=\"Введите номер офиса или квартиры\"\r\n              value={room}\r\n              onChange={e => setRoom(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Button\r\n        kind={ButtonKinds.Orange}\r\n        onClick={onSave}\r\n        icon={<Icons.IconCheck fill=\"currentColor\" />}\r\n      >\r\n        Сохранить\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}