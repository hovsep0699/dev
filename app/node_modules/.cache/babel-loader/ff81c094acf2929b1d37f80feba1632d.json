{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Hovsep\\\\Desktop\\\\local\\\\diflow_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(getExternalOperatorsEffect),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(getExternalOperatorsWorker);import{takeLatest,put}from'redux-saga/effects';import{getExternalOperators,setExternalOperators}from'../actions';import{Flash}from'../../../../common/flash/Flash';import{ContractorApiServices}from'../../services/contractors.api';export function getExternalOperatorsEffect(){return _regeneratorRuntime.wrap(function getExternalOperatorsEffect$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(getExternalOperators,getExternalOperatorsWorker);case 2:case\"end\":return _context.stop();}}},_marked);}/** Получение списка внешних операторов */function getExternalOperatorsWorker(){var externalOperators,message;return _regeneratorRuntime.wrap(function getExternalOperatorsWorker$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return ContractorApiServices.getExternalOperators();case 3:externalOperators=_context2.sent;_context2.next=6;return put(setExternalOperators({externalOperators:externalOperators}));case 6:_context2.next=13;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);message=_context2.t0.message;_context2.next=13;return Flash.error(message||'Возникла ошибка');case 13:case\"end\":return _context2.stop();}}},_marked2,null,[[0,8]]);}","map":{"version":3,"sources":["C:/Users/Hovsep/Desktop/local/diflow_react/packages/app/src/pages/contractors/store/sagas/getExternalOperators.effect.ts"],"names":["getExternalOperatorsEffect","getExternalOperatorsWorker","takeLatest","put","getExternalOperators","setExternalOperators","Flash","ContractorApiServices","externalOperators","message","error"],"mappings":"oNAMiBA,0B,iDAKPC,0B,EAXV,OAASC,UAAT,CAAqBC,GAArB,KAAgC,oBAAhC,CAEA,OAASC,oBAAT,CAA+BC,oBAA/B,KAA2D,YAA3D,CACA,OAASC,KAAT,KAAsB,gCAAtB,CACA,OAASC,qBAAT,KAAsC,gCAAtC,CAEA,MAAO,SAAUP,CAAAA,0BAAV,sJACL,MAAME,CAAAA,UAAU,CAACE,oBAAD,CAAuBH,0BAAvB,CAAhB,CADK,sDAIP,0CACA,QAAUA,CAAAA,0BAAV,yMAE8B,MAAMM,CAAAA,qBAAqB,CAACH,oBAAtB,EAAN,CAF9B,OAEUI,iBAFV,iCAGI,MAAML,CAAAA,GAAG,CAACE,oBAAoB,CAAC,CAAEG,iBAAiB,CAAjBA,iBAAF,CAAD,CAArB,CAAT,CAHJ,0FAIaC,OAJb,cAIaA,OAJb,mBAKI,MAAMH,CAAAA,KAAK,CAACI,KAAN,CAAYD,OAAO,EAAI,iBAAvB,CAAN,CALJ","sourcesContent":["import { takeLatest, put } from 'redux-saga/effects';\r\n\r\nimport { getExternalOperators, setExternalOperators } from '../actions';\r\nimport { Flash } from '../../../../common/flash/Flash';\r\nimport { ContractorApiServices } from '../../services/contractors.api';\r\n\r\nexport function* getExternalOperatorsEffect() {\r\n  yield takeLatest(getExternalOperators, getExternalOperatorsWorker);\r\n}\r\n\r\n/** Получение списка внешних операторов */\r\nfunction* getExternalOperatorsWorker() {\r\n  try {\r\n    const externalOperators = yield ContractorApiServices.getExternalOperators();\r\n    yield put(setExternalOperators({ externalOperators }));\r\n  } catch ({ message }) {\r\n    yield Flash.error(message || 'Возникла ошибка');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}